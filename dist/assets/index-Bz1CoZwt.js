const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DPxf7GMT.js","assets/monaco-editor-CjinG6ix.js","assets/monaco-editor-Cq4JNDD7.css"])))=>i.map(i=>d[i]);
import{_ as Ey}from"./monaco-editor-CjinG6ix.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function o(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(r){if(r.ep)return;r.ep=!0;const d=o(r);fetch(r.href,d)}})();function Cy(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var uc={exports:{}},rl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eh;function Ny(){if(Eh)return rl;Eh=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(l,r,d){var h=null;if(d!==void 0&&(h=""+d),r.key!==void 0&&(h=""+r.key),"key"in r){d={};for(var g in r)g!=="key"&&(d[g]=r[g])}else d=r;return r=d.ref,{$$typeof:i,type:l,key:h,ref:r!==void 0?r:null,props:d}}return rl.Fragment=t,rl.jsx=o,rl.jsxs=o,rl}var Ch;function Ay(){return Ch||(Ch=1,uc.exports=Ny()),uc.exports}var f=Ay(),cc={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nh;function wy(){if(Nh)return Ne;Nh=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function E(A){return A===null||typeof A!="object"?null:(A=S&&A[S]||A["@@iterator"],typeof A=="function"?A:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,M={};function k(A,B,ee){this.props=A,this.context=B,this.refs=M,this.updater=ee||I}k.prototype.isReactComponent={},k.prototype.setState=function(A,B){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,B,"setState")},k.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function K(){}K.prototype=k.prototype;function j(A,B,ee){this.props=A,this.context=B,this.refs=M,this.updater=ee||I}var z=j.prototype=new K;z.constructor=j,U(z,k.prototype),z.isPureReactComponent=!0;var ie=Array.isArray;function X(){}var $={H:null,A:null,T:null,S:null},ye=Object.prototype.hasOwnProperty;function le(A,B,ee){var ae=ee.ref;return{$$typeof:i,type:A,key:B,ref:ae!==void 0?ae:null,props:ee}}function ge(A,B){return le(A.type,B,A.props)}function W(A){return typeof A=="object"&&A!==null&&A.$$typeof===i}function ne(A){var B={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ee){return B[ee]})}var re=/\/+/g;function Ae(A,B){return typeof A=="object"&&A!==null&&A.key!=null?ne(""+A.key):B.toString(36)}function Ye(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(X,X):(A.status="pending",A.then(function(B){A.status==="pending"&&(A.status="fulfilled",A.value=B)},function(B){A.status==="pending"&&(A.status="rejected",A.reason=B)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function q(A,B,ee,ae,fe){var se=typeof A;(se==="undefined"||se==="boolean")&&(A=null);var oe=!1;if(A===null)oe=!0;else switch(se){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(A.$$typeof){case i:case t:oe=!0;break;case x:return oe=A._init,q(oe(A._payload),B,ee,ae,fe)}}if(oe)return fe=fe(A),oe=ae===""?"."+Ae(A,0):ae,ie(fe)?(ee="",oe!=null&&(ee=oe.replace(re,"$&/")+"/"),q(fe,B,ee,"",function(on){return on})):fe!=null&&(W(fe)&&(fe=ge(fe,ee+(fe.key==null||A&&A.key===fe.key?"":(""+fe.key).replace(re,"$&/")+"/")+oe)),B.push(fe)),1;oe=0;var $e=ae===""?".":ae+":";if(ie(A))for(var ze=0;ze<A.length;ze++)ae=A[ze],se=$e+Ae(ae,ze),oe+=q(ae,B,ee,se,fe);else if(ze=E(A),typeof ze=="function")for(A=ze.call(A),ze=0;!(ae=A.next()).done;)ae=ae.value,se=$e+Ae(ae,ze++),oe+=q(ae,B,ee,se,fe);else if(se==="object"){if(typeof A.then=="function")return q(Ye(A),B,ee,ae,fe);throw B=String(A),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return oe}function te(A,B,ee){if(A==null)return A;var ae=[],fe=0;return q(A,ae,"","",function(se){return B.call(ee,se,fe++)}),ae}function Z(A){if(A._status===-1){var B=A._result;B=B(),B.then(function(ee){(A._status===0||A._status===-1)&&(A._status=1,A._result=ee)},function(ee){(A._status===0||A._status===-1)&&(A._status=2,A._result=ee)}),A._status===-1&&(A._status=0,A._result=B)}if(A._status===1)return A._result.default;throw A._result}var pe=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},me={map:te,forEach:function(A,B,ee){te(A,function(){B.apply(this,arguments)},ee)},count:function(A){var B=0;return te(A,function(){B++}),B},toArray:function(A){return te(A,function(B){return B})||[]},only:function(A){if(!W(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return Ne.Activity=_,Ne.Children=me,Ne.Component=k,Ne.Fragment=o,Ne.Profiler=r,Ne.PureComponent=j,Ne.StrictMode=l,Ne.Suspense=y,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(A){return $.H.useMemoCache(A)}},Ne.cache=function(A){return function(){return A.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(A,B,ee){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var ae=U({},A.props),fe=A.key;if(B!=null)for(se in B.key!==void 0&&(fe=""+B.key),B)!ye.call(B,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&B.ref===void 0||(ae[se]=B[se]);var se=arguments.length-2;if(se===1)ae.children=ee;else if(1<se){for(var oe=Array(se),$e=0;$e<se;$e++)oe[$e]=arguments[$e+2];ae.children=oe}return le(A.type,fe,ae)},Ne.createContext=function(A){return A={$$typeof:h,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:d,_context:A},A},Ne.createElement=function(A,B,ee){var ae,fe={},se=null;if(B!=null)for(ae in B.key!==void 0&&(se=""+B.key),B)ye.call(B,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(fe[ae]=B[ae]);var oe=arguments.length-2;if(oe===1)fe.children=ee;else if(1<oe){for(var $e=Array(oe),ze=0;ze<oe;ze++)$e[ze]=arguments[ze+2];fe.children=$e}if(A&&A.defaultProps)for(ae in oe=A.defaultProps,oe)fe[ae]===void 0&&(fe[ae]=oe[ae]);return le(A,se,fe)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(A){return{$$typeof:g,render:A}},Ne.isValidElement=W,Ne.lazy=function(A){return{$$typeof:x,_payload:{_status:-1,_result:A},_init:Z}},Ne.memo=function(A,B){return{$$typeof:v,type:A,compare:B===void 0?null:B}},Ne.startTransition=function(A){var B=$.T,ee={};$.T=ee;try{var ae=A(),fe=$.S;fe!==null&&fe(ee,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(X,pe)}catch(se){pe(se)}finally{B!==null&&ee.types!==null&&(B.types=ee.types),$.T=B}},Ne.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Ne.use=function(A){return $.H.use(A)},Ne.useActionState=function(A,B,ee){return $.H.useActionState(A,B,ee)},Ne.useCallback=function(A,B){return $.H.useCallback(A,B)},Ne.useContext=function(A){return $.H.useContext(A)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(A,B){return $.H.useDeferredValue(A,B)},Ne.useEffect=function(A,B){return $.H.useEffect(A,B)},Ne.useEffectEvent=function(A){return $.H.useEffectEvent(A)},Ne.useId=function(){return $.H.useId()},Ne.useImperativeHandle=function(A,B,ee){return $.H.useImperativeHandle(A,B,ee)},Ne.useInsertionEffect=function(A,B){return $.H.useInsertionEffect(A,B)},Ne.useLayoutEffect=function(A,B){return $.H.useLayoutEffect(A,B)},Ne.useMemo=function(A,B){return $.H.useMemo(A,B)},Ne.useOptimistic=function(A,B){return $.H.useOptimistic(A,B)},Ne.useReducer=function(A,B,ee){return $.H.useReducer(A,B,ee)},Ne.useRef=function(A){return $.H.useRef(A)},Ne.useState=function(A){return $.H.useState(A)},Ne.useSyncExternalStore=function(A,B,ee){return $.H.useSyncExternalStore(A,B,ee)},Ne.useTransition=function(){return $.H.useTransition()},Ne.version="19.2.3",Ne}var Ah;function Lc(){return Ah||(Ah=1,cc.exports=wy()),cc.exports}var F=Lc();const My=Cy(F);var dc={exports:{}},ul={},fc={exports:{}},pc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wh;function Ry(){return wh||(wh=1,(function(i){function t(q,te){var Z=q.length;q.push(te);e:for(;0<Z;){var pe=Z-1>>>1,me=q[pe];if(0<r(me,te))q[pe]=te,q[Z]=me,Z=pe;else break e}}function o(q){return q.length===0?null:q[0]}function l(q){if(q.length===0)return null;var te=q[0],Z=q.pop();if(Z!==te){q[0]=Z;e:for(var pe=0,me=q.length,A=me>>>1;pe<A;){var B=2*(pe+1)-1,ee=q[B],ae=B+1,fe=q[ae];if(0>r(ee,Z))ae<me&&0>r(fe,ee)?(q[pe]=fe,q[ae]=Z,pe=ae):(q[pe]=ee,q[B]=Z,pe=B);else if(ae<me&&0>r(fe,Z))q[pe]=fe,q[ae]=Z,pe=ae;else break e}}return te}function r(q,te){var Z=q.sortIndex-te.sortIndex;return Z!==0?Z:q.id-te.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var h=Date,g=h.now();i.unstable_now=function(){return h.now()-g}}var y=[],v=[],x=1,_=null,S=3,E=!1,I=!1,U=!1,M=!1,k=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function z(q){for(var te=o(v);te!==null;){if(te.callback===null)l(v);else if(te.startTime<=q)l(v),te.sortIndex=te.expirationTime,t(y,te);else break;te=o(v)}}function ie(q){if(U=!1,z(q),!I)if(o(y)!==null)I=!0,X||(X=!0,ne());else{var te=o(v);te!==null&&Ye(ie,te.startTime-q)}}var X=!1,$=-1,ye=5,le=-1;function ge(){return M?!0:!(i.unstable_now()-le<ye)}function W(){if(M=!1,X){var q=i.unstable_now();le=q;var te=!0;try{e:{I=!1,U&&(U=!1,K($),$=-1),E=!0;var Z=S;try{t:{for(z(q),_=o(y);_!==null&&!(_.expirationTime>q&&ge());){var pe=_.callback;if(typeof pe=="function"){_.callback=null,S=_.priorityLevel;var me=pe(_.expirationTime<=q);if(q=i.unstable_now(),typeof me=="function"){_.callback=me,z(q),te=!0;break t}_===o(y)&&l(y),z(q)}else l(y);_=o(y)}if(_!==null)te=!0;else{var A=o(v);A!==null&&Ye(ie,A.startTime-q),te=!1}}break e}finally{_=null,S=Z,E=!1}te=void 0}}finally{te?ne():X=!1}}}var ne;if(typeof j=="function")ne=function(){j(W)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,Ae=re.port2;re.port1.onmessage=W,ne=function(){Ae.postMessage(null)}}else ne=function(){k(W,0)};function Ye(q,te){$=k(function(){q(i.unstable_now())},te)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(q){switch(S){case 1:case 2:case 3:var te=3;break;default:te=S}var Z=S;S=te;try{return q()}finally{S=Z}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(q,te){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Z=S;S=q;try{return te()}finally{S=Z}},i.unstable_scheduleCallback=function(q,te,Z){var pe=i.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?pe+Z:pe):Z=pe,q){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=Z+me,q={id:x++,callback:te,priorityLevel:q,startTime:Z,expirationTime:me,sortIndex:-1},Z>pe?(q.sortIndex=Z,t(v,q),o(y)===null&&q===o(v)&&(U?(K($),$=-1):U=!0,Ye(ie,Z-pe))):(q.sortIndex=me,t(y,q),I||E||(I=!0,X||(X=!0,ne()))),q},i.unstable_shouldYield=ge,i.unstable_wrapCallback=function(q){var te=S;return function(){var Z=S;S=te;try{return q.apply(this,arguments)}finally{S=Z}}}})(pc)),pc}var Mh;function Iy(){return Mh||(Mh=1,fc.exports=Ry()),fc.exports}var hc={exports:{}},qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rh;function ky(){if(Rh)return qt;Rh=1;var i=Lc();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)v+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function d(y,v,x){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:y,containerInfo:v,implementation:x}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,qt.createPortal=function(y,v){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return d(y,v,null,x)},qt.flushSync=function(y){var v=h.T,x=l.p;try{if(h.T=null,l.p=2,y)return y()}finally{h.T=v,l.p=x,l.d.f()}},qt.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,l.d.C(y,v))},qt.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},qt.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var x=v.as,_=g(x,v.crossOrigin),S=typeof v.integrity=="string"?v.integrity:void 0,E=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;x==="style"?l.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:E}):x==="script"&&l.d.X(y,{crossOrigin:_,integrity:S,fetchPriority:E,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},qt.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var x=g(v.as,v.crossOrigin);l.d.M(y,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&l.d.M(y)},qt.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var x=v.as,_=g(x,v.crossOrigin);l.d.L(y,x,{crossOrigin:_,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},qt.preloadModule=function(y,v){if(typeof y=="string")if(v){var x=g(v.as,v.crossOrigin);l.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else l.d.m(y)},qt.requestFormReset=function(y){l.d.r(y)},qt.unstable_batchedUpdates=function(y,v){return y(v)},qt.useFormState=function(y,v,x){return h.H.useFormState(y,v,x)},qt.useFormStatus=function(){return h.H.useHostTransitionStatus()},qt.version="19.2.3",qt}var Ih;function Dy(){if(Ih)return hc.exports;Ih=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),hc.exports=ky(),hc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kh;function Uy(){if(kh)return ul;kh=1;var i=Iy(),t=Lc(),o=Dy();function l(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(l(188))}function v(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(l(188));return n!==e?null:e}for(var a=e,s=n;;){var p=a.return;if(p===null)break;var m=p.alternate;if(m===null){if(s=p.return,s!==null){a=s;continue}break}if(p.child===m.child){for(m=p.child;m;){if(m===a)return y(p),e;if(m===s)return y(p),n;m=m.sibling}throw Error(l(188))}if(a.return!==s.return)a=p,s=m;else{for(var b=!1,C=p.child;C;){if(C===a){b=!0,a=p,s=m;break}if(C===s){b=!0,s=p,a=m;break}C=C.sibling}if(!b){for(C=m.child;C;){if(C===a){b=!0,a=m,s=p;break}if(C===s){b=!0,s=m,a=p;break}C=C.sibling}if(!b)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:n}function x(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=x(e),n!==null)return n;e=e.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),j=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),ge=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var re=Symbol.for("react.client.reference");function Ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===re?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case k:return"Profiler";case M:return"StrictMode";case ie:return"Suspense";case X:return"SuspenseList";case le:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case I:return"Portal";case j:return e.displayName||"Context";case K:return(e._context.displayName||"Context")+".Consumer";case z:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return n=e.displayName||null,n!==null?n:Ae(e.type)||"Memo";case ye:n=e._payload,e=e._init;try{return Ae(e(n))}catch{}}return null}var Ye=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},pe=[],me=-1;function A(e){return{current:e}}function B(e){0>me||(e.current=pe[me],pe[me]=null,me--)}function ee(e,n){me++,pe[me]=e.current,e.current=n}var ae=A(null),fe=A(null),se=A(null),oe=A(null);function $e(e,n){switch(ee(se,n),ee(fe,e),ee(ae,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Yp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Yp(n),e=Kp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(ae),ee(ae,e)}function ze(){B(ae),B(fe),B(se)}function on(e){e.memoizedState!==null&&ee(oe,e);var n=ae.current,a=Kp(n,e.type);n!==a&&(ee(fe,e),ee(ae,a))}function gt(e){fe.current===e&&(B(ae),B(fe)),oe.current===e&&(B(oe),ol._currentValue=Z)}var dt,st;function Ie(e){if(dt===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);dt=n&&n[1]||"",st=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dt+e+st}var Bt=!1;function Oi(e,n){if(!e||Bt)return"";Bt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(V){var H=V}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(V){H=V}e.call(Q.prototype)}}else{try{throw Error()}catch(V){H=V}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(V){if(V&&H&&typeof V.stack=="string")return[V.stack,H.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=s.DetermineComponentFrameRoot(),b=m[0],C=m[1];if(b&&C){var w=b.split(`
`),G=C.split(`
`);for(p=s=0;s<w.length&&!w[s].includes("DetermineComponentFrameRoot");)s++;for(;p<G.length&&!G[p].includes("DetermineComponentFrameRoot");)p++;if(s===w.length||p===G.length)for(s=w.length-1,p=G.length-1;1<=s&&0<=p&&w[s]!==G[p];)p--;for(;1<=s&&0<=p;s--,p--)if(w[s]!==G[p]){if(s!==1||p!==1)do if(s--,p--,0>p||w[s]!==G[p]){var O=`
`+w[s].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=s&&0<=p);break}}}finally{Bt=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ie(a):""}function Fn(e,n){switch(e.tag){case 26:case 27:case 5:return Ie(e.type);case 16:return Ie("Lazy");case 13:return e.child!==n&&n!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return Oi(e.type,!1);case 11:return Oi(e.type.render,!1);case 1:return Oi(e.type,!0);case 31:return Ie("Activity");default:return""}}function fi(e){try{var n="",a=null;do n+=Fn(e,a),a=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var be=Object.prototype.hasOwnProperty,Dt=i.unstable_scheduleCallback,tt=i.unstable_cancelCallback,xo=i.unstable_shouldYield,ji=i.unstable_requestPaint,Ft=i.unstable_now,Jc=i.unstable_getCurrentPriorityLevel,nr=i.unstable_ImmediatePriority,_o=i.unstable_UserBlockingPriority,pi=i.unstable_NormalPriority,ir=i.unstable_LowPriority,hl=i.unstable_IdlePriority,or=i.log,ar=i.unstable_setDisableYieldValue,Ji=null,Ot=null;function Pn(e){if(typeof or=="function"&&ar(e),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(Ji,e)}catch{}}var St=Math.clz32?Math.clz32:rr,lr=Math.log,sr=Math.LN2;function rr(e){return e>>>=0,e===0?32:31-(lr(e)/sr|0)|0}var bo=256,So=262144,To=4194304;function Xt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function On(e,n,a){var s=e.pendingLanes;if(s===0)return 0;var p=0,m=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var C=s&134217727;return C!==0?(s=C&~m,s!==0?p=Xt(s):(b&=C,b!==0?p=Xt(b):a||(a=C&~e,a!==0&&(p=Xt(a))))):(C=s&~m,C!==0?p=Xt(C):b!==0?p=Xt(b):a||(a=s&~e,a!==0&&(p=Xt(a)))),p===0?0:n!==0&&n!==p&&(n&m)===0&&(m=p&-p,a=n&-n,m>=a||m===32&&(a&4194048)!==0)?n:p}function hi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ur(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yi(){var e=To;return To<<=1,(To&62914560)===0&&(To=4194304),e}function de(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function wn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function mi(e,n,a,s,p,m){var b=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var C=e.entanglements,w=e.expirationTimes,G=e.hiddenUpdates;for(a=b&~a;0<a;){var O=31-St(a),Q=1<<O;C[O]=0,w[O]=-1;var H=G[O];if(H!==null)for(G[O]=null,O=0;O<H.length;O++){var V=H[O];V!==null&&(V.lane&=-536870913)}a&=~Q}s!==0&&ml(e,s,0),m!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=m&~(b&~n))}function ml(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-St(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function Ee(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var s=31-St(a),p=1<<s;p&n|e[s]&n&&(e[s]|=n),a&=~p}}function ga(e,n){var a=n&-n;return a=(a&42)!==0?1:Ki(a),(a&(e.suspendedLanes|n))!==0?0:a}function Ki(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function va(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function gl(){var e=te.p;return e!==0?e:(e=window.event,e===void 0?32:vh(e.type))}function Mn(e,n){var a=te.p;try{return te.p=e,n()}finally{te.p=a}}var Tt=Math.random().toString(36).slice(2),Et="__reactFiber$"+Tt,Gt="__reactProps$"+Tt,gn="__reactContainer$"+Tt,Xi="__reactEvents$"+Tt,vl="__reactListeners$"+Tt,cr="__reactHandles$"+Tt,yl="__reactResources$"+Tt,$i="__reactMarker$"+Tt;function Qi(e){delete e[Et],delete e[Gt],delete e[Xi],delete e[vl],delete e[cr]}function gi(e){var n=e[Et];if(n)return n;for(var a=e.parentNode;a;){if(n=a[gn]||a[Et]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=th(e);e!==null;){if(a=e[Et])return a;e=th(e)}return n}e=a,a=e.parentNode}return null}function vi(e){if(e=e[Et]||e[gn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function yi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(l(33))}function jn(e){var n=e[yl];return n||(n=e[yl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function rt(e){e[$i]=!0}var ya=new Set,xl={};function ft(e,n){xi(e,n),xi(e+"Capture",n)}function xi(e,n){for(xl[e]=n,e=0;e<n.length;e++)ya.add(n[e])}var xa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_a={},_l={};function bl(e){return be.call(_l,e)?!0:be.call(_a,e)?!1:xa.test(e)?_l[e]=!0:(_a[e]=!0,!1)}function Eo(e,n,a){if(bl(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Co(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function an(e,n,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+s)}}function Ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zi(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ln(e,n,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var p=s.get,m=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return p.call(this)},set:function(b){a=""+b,m.call(this,b)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ba(e){if(!e._valueTracker){var n=Zi(e)?"checked":"value";e._valueTracker=ln(e,n,""+e[n])}}function sn(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),s="";return e&&(s=Zi(e)?e.checked?"true":"false":e.value),e=s,e!==a?(n.setValue(e),!0):!1}function No(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ao=/[\n"\\]/g;function $t(e){return e.replace(Ao,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function wo(e,n,a,s,p,m,b,C){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),n!=null?b==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ht(n)):e.value!==""+Ht(n)&&(e.value=""+Ht(n)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),n!=null?Wi(e,b,Ht(n)):a!=null?Wi(e,b,Ht(a)):s!=null&&e.removeAttribute("value"),p==null&&m!=null&&(e.defaultChecked=!!m),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+Ht(C):e.removeAttribute("name")}function Sl(e,n,a,s,p,m,b,C){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){ba(e);return}a=a!=null?""+Ht(a):"",n=n!=null?""+Ht(n):a,C||n===e.value||(e.value=n),e.defaultValue=n}s=s??p,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=C?e.checked:!!s,e.defaultChecked=!!s,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),ba(e)}function Wi(e,n,a){n==="number"&&No(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Rn(e,n,a,s){if(e=e.options,n){n={};for(var p=0;p<a.length;p++)n["$"+a[p]]=!0;for(a=0;a<e.length;a++)p=n.hasOwnProperty("$"+e[a].value),e[a].selected!==p&&(e[a].selected=p),p&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Ht(a),n=null,p=0;p<e.length;p++){if(e[p].value===a){e[p].selected=!0,s&&(e[p].defaultSelected=!0);return}n!==null||e[p].disabled||(n=e[p])}n!==null&&(n.selected=!0)}}function Sa(e,n,a){if(n!=null&&(n=""+Ht(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ht(a):""}function T(e,n,a,s){if(n==null){if(s!=null){if(a!=null)throw Error(l(92));if(Ye(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}a==null&&(a=""),n=a}a=Ht(n),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),ba(e)}function N(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var R=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Y(e,n,a){var s=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,a):typeof a!="number"||a===0||R.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function ce(e,n,a){if(n!=null&&typeof n!="object")throw Error(l(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var p in n)s=n[p],n.hasOwnProperty(p)&&a[p]!==s&&Y(e,p,s)}else for(var m in n)n.hasOwnProperty(m)&&Y(e,m,n[m])}function _e(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var De=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ke=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ct(e){return ke.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ot(){}var at=null;function rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nt=null,jt=null;function we(e){var n=vi(e);if(n&&(e=n.stateNode)){var a=e[Gt]||null;e:switch(e=n.stateNode,n.type){case"input":if(wo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+$t(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var s=a[n];if(s!==e&&s.form===e.form){var p=s[Gt]||null;if(!p)throw Error(l(90));wo(s,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(n=0;n<a.length;n++)s=a[n],s.form===e.form&&sn(s)}break e;case"textarea":Sa(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Rn(e,!!a.multiple,n,!1)}}}var Mo=!1;function Jn(e,n,a){if(Mo)return e(n,a);Mo=!0;try{var s=e(n);return s}finally{if(Mo=!1,(Nt!==null||jt!==null)&&(rs(),Nt&&(n=Nt,e=jt,jt=Nt=null,we(n),e)))for(n=0;n<e.length;n++)we(e[n])}}function Mt(e,n){var a=e.stateNode;if(a===null)return null;var s=a[Gt]||null;if(s===null)return null;a=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,n,typeof a));return a}var vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yn=!1;if(vt)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){Yn=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch{Yn=!1}var Pe=null,pt=null,Rt=null;function Yc(){if(Rt)return Rt;var e,n=pt,a=n.length,s,p="value"in Pe?Pe.value:Pe.textContent,m=p.length;for(e=0;e<a&&n[e]===p[e];e++);var b=a-e;for(s=1;s<=b&&n[a-s]===p[m-s];s++);return Rt=p.slice(e,1<s?1-s:void 0)}function Tl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function El(){return!0}function Kc(){return!1}function Qt(e){function n(a,s,p,m,b){this._reactName=a,this._targetInst=p,this.type=s,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(a=e[C],this[C]=a?a(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?El:Kc,this.isPropagationStopped=Kc,this}return _(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),n}var eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cl=Qt(eo),Ta=_({},eo,{view:0,detail:0}),Sg=Qt(Ta),dr,fr,Ea,Nl=_({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ea&&(Ea&&e.type==="mousemove"?(dr=e.screenX-Ea.screenX,fr=e.screenY-Ea.screenY):fr=dr=0,Ea=e),dr)},movementY:function(e){return"movementY"in e?e.movementY:fr}}),Xc=Qt(Nl),Tg=_({},Nl,{dataTransfer:0}),Eg=Qt(Tg),Cg=_({},Ta,{relatedTarget:0}),pr=Qt(Cg),Ng=_({},eo,{animationName:0,elapsedTime:0,pseudoElement:0}),Ag=Qt(Ng),wg=_({},eo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mg=Qt(wg),Rg=_({},eo,{data:0}),$c=Qt(Rg),Ig={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ug(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Dg[e])?!!n[e]:!1}function hr(){return Ug}var Lg=_({},Ta,{key:function(e){if(e.key){var n=Ig[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Tl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(e){return e.type==="keypress"?Tl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zg=Qt(Lg),Pg=_({},Nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qc=Qt(Pg),Gg=_({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr}),Hg=Qt(Gg),qg=_({},eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vg=Qt(qg),Bg=_({},Nl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fg=Qt(Bg),Og=_({},eo,{newState:0,oldState:0}),jg=Qt(Og),Jg=[9,13,27,32],mr=vt&&"CompositionEvent"in window,Ca=null;vt&&"documentMode"in document&&(Ca=document.documentMode);var Yg=vt&&"TextEvent"in window&&!Ca,Zc=vt&&(!mr||Ca&&8<Ca&&11>=Ca),Wc=" ",ed=!1;function td(e,n){switch(e){case"keyup":return Jg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ro=!1;function Kg(e,n){switch(e){case"compositionend":return nd(n);case"keypress":return n.which!==32?null:(ed=!0,Wc);case"textInput":return e=n.data,e===Wc&&ed?null:e;default:return null}}function Xg(e,n){if(Ro)return e==="compositionend"||!mr&&td(e,n)?(e=Yc(),Rt=pt=Pe=null,Ro=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Zc&&n.locale!=="ko"?null:n.data;default:return null}}var $g={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function id(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!$g[e.type]:n==="textarea"}function od(e,n,a,s){Nt?jt?jt.push(s):jt=[s]:Nt=s,n=ms(n,"onChange"),0<n.length&&(a=new Cl("onChange","change",null,a,s),e.push({event:a,listeners:n}))}var Na=null,Aa=null;function Qg(e){Vp(e,0)}function Al(e){var n=yi(e);if(sn(n))return e}function ad(e,n){if(e==="change")return n}var ld=!1;if(vt){var gr;if(vt){var vr="oninput"in document;if(!vr){var sd=document.createElement("div");sd.setAttribute("oninput","return;"),vr=typeof sd.oninput=="function"}gr=vr}else gr=!1;ld=gr&&(!document.documentMode||9<document.documentMode)}function rd(){Na&&(Na.detachEvent("onpropertychange",ud),Aa=Na=null)}function ud(e){if(e.propertyName==="value"&&Al(Aa)){var n=[];od(n,Aa,e,rn(e)),Jn(Qg,n)}}function Zg(e,n,a){e==="focusin"?(rd(),Na=n,Aa=a,Na.attachEvent("onpropertychange",ud)):e==="focusout"&&rd()}function Wg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Al(Aa)}function ev(e,n){if(e==="click")return Al(n)}function tv(e,n){if(e==="input"||e==="change")return Al(n)}function nv(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var un=typeof Object.is=="function"?Object.is:nv;function wa(e,n){if(un(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),s=Object.keys(n);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var p=a[s];if(!be.call(n,p)||!un(e[p],n[p]))return!1}return!0}function cd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dd(e,n){var a=cd(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=n&&s>=n)return{node:a,offset:n-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cd(a)}}function fd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?fd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function pd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=No(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=No(e.document)}return n}function yr(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var iv=vt&&"documentMode"in document&&11>=document.documentMode,Io=null,xr=null,Ma=null,_r=!1;function hd(e,n,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_r||Io==null||Io!==No(s)||(s=Io,"selectionStart"in s&&yr(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ma&&wa(Ma,s)||(Ma=s,s=ms(xr,"onSelect"),0<s.length&&(n=new Cl("onSelect","select",null,n,a),e.push({event:n,listeners:s}),n.target=Io)))}function to(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ko={animationend:to("Animation","AnimationEnd"),animationiteration:to("Animation","AnimationIteration"),animationstart:to("Animation","AnimationStart"),transitionrun:to("Transition","TransitionRun"),transitionstart:to("Transition","TransitionStart"),transitioncancel:to("Transition","TransitionCancel"),transitionend:to("Transition","TransitionEnd")},br={},md={};vt&&(md=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function no(e){if(br[e])return br[e];if(!ko[e])return e;var n=ko[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in md)return br[e]=n[a];return e}var gd=no("animationend"),vd=no("animationiteration"),yd=no("animationstart"),ov=no("transitionrun"),av=no("transitionstart"),lv=no("transitioncancel"),xd=no("transitionend"),_d=new Map,Sr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sr.push("scrollEnd");function In(e,n){_d.set(e,n),ft(n,[e])}var wl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},vn=[],Do=0,Tr=0;function Ml(){for(var e=Do,n=Tr=Do=0;n<e;){var a=vn[n];vn[n++]=null;var s=vn[n];vn[n++]=null;var p=vn[n];vn[n++]=null;var m=vn[n];if(vn[n++]=null,s!==null&&p!==null){var b=s.pending;b===null?p.next=p:(p.next=b.next,b.next=p),s.pending=p}m!==0&&bd(a,p,m)}}function Rl(e,n,a,s){vn[Do++]=e,vn[Do++]=n,vn[Do++]=a,vn[Do++]=s,Tr|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Er(e,n,a,s){return Rl(e,n,a,s),Il(e)}function io(e,n){return Rl(e,null,null,n),Il(e)}function bd(e,n,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var p=!1,m=e.return;m!==null;)m.childLanes|=a,s=m.alternate,s!==null&&(s.childLanes|=a),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(p=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,p&&n!==null&&(p=31-St(a),e=m.hiddenUpdates,s=e[p],s===null?e[p]=[n]:s.push(n),n.lane=a|536870912),m):null}function Il(e){if(50<Qa)throw Qa=0,Du=null,Error(l(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Uo={};function sv(e,n,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,n,a,s){return new sv(e,n,a,s)}function Cr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kn(e,n){var a=e.alternate;return a===null?(a=cn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Sd(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function kl(e,n,a,s,p,m){var b=0;if(s=e,typeof e=="function")Cr(e)&&(b=1);else if(typeof e=="string")b=fy(e,a,ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case le:return e=cn(31,a,n,p),e.elementType=le,e.lanes=m,e;case U:return oo(a.children,p,m,n);case M:b=8,p|=24;break;case k:return e=cn(12,a,n,p|2),e.elementType=k,e.lanes=m,e;case ie:return e=cn(13,a,n,p),e.elementType=ie,e.lanes=m,e;case X:return e=cn(19,a,n,p),e.elementType=X,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j:b=10;break e;case K:b=9;break e;case z:b=11;break e;case $:b=14;break e;case ye:b=16,s=null;break e}b=29,a=Error(l(130,e===null?"null":typeof e,"")),s=null}return n=cn(b,a,n,p),n.elementType=e,n.type=s,n.lanes=m,n}function oo(e,n,a,s){return e=cn(7,e,s,n),e.lanes=a,e}function Nr(e,n,a){return e=cn(6,e,null,n),e.lanes=a,e}function Td(e){var n=cn(18,null,null,0);return n.stateNode=e,n}function Ar(e,n,a){return n=cn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ed=new WeakMap;function yn(e,n){if(typeof e=="object"&&e!==null){var a=Ed.get(e);return a!==void 0?a:(n={value:e,source:n,stack:fi(n)},Ed.set(e,n),n)}return{value:e,source:n,stack:fi(n)}}var Lo=[],zo=0,Dl=null,Ra=0,xn=[],_n=0,_i=null,Gn=1,Hn="";function Xn(e,n){Lo[zo++]=Ra,Lo[zo++]=Dl,Dl=e,Ra=n}function Cd(e,n,a){xn[_n++]=Gn,xn[_n++]=Hn,xn[_n++]=_i,_i=e;var s=Gn;e=Hn;var p=32-St(s)-1;s&=~(1<<p),a+=1;var m=32-St(n)+p;if(30<m){var b=p-p%5;m=(s&(1<<b)-1).toString(32),s>>=b,p-=b,Gn=1<<32-St(n)+p|a<<p|s,Hn=m+e}else Gn=1<<m|a<<p|s,Hn=e}function wr(e){e.return!==null&&(Xn(e,1),Cd(e,1,0))}function Mr(e){for(;e===Dl;)Dl=Lo[--zo],Lo[zo]=null,Ra=Lo[--zo],Lo[zo]=null;for(;e===_i;)_i=xn[--_n],xn[_n]=null,Hn=xn[--_n],xn[_n]=null,Gn=xn[--_n],xn[_n]=null}function Nd(e,n){xn[_n++]=Gn,xn[_n++]=Hn,xn[_n++]=_i,Gn=n.id,Hn=n.overflow,_i=e}var Ut=null,nt=null,qe=!1,bi=null,bn=!1,Rr=Error(l(519));function Si(e){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ia(yn(n,e)),Rr}function Ad(e){var n=e.stateNode,a=e.type,s=e.memoizedProps;switch(n[Et]=e,n[Gt]=s,a){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(a=0;a<Wa.length;a++)Le(Wa[a],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":Le("invalid",n),Sl(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Le("invalid",n);break;case"textarea":Le("invalid",n),T(n,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||s.suppressHydrationWarning===!0||jp(n.textContent,a)?(s.popover!=null&&(Le("beforetoggle",n),Le("toggle",n)),s.onScroll!=null&&Le("scroll",n),s.onScrollEnd!=null&&Le("scrollend",n),s.onClick!=null&&(n.onclick=ot),n=!0):n=!1,n||Si(e,!0)}function wd(e){for(Ut=e.return;Ut;)switch(Ut.tag){case 5:case 31:case 13:bn=!1;return;case 27:case 3:bn=!0;return;default:Ut=Ut.return}}function Po(e){if(e!==Ut)return!1;if(!qe)return wd(e),qe=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ku(e.type,e.memoizedProps)),a=!a),a&&nt&&Si(e),wd(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));nt=eh(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));nt=eh(e)}else n===27?(n=nt,zi(e.type)?(e=Wu,Wu=null,nt=e):nt=n):nt=Ut?Tn(e.stateNode.nextSibling):null;return!0}function ao(){nt=Ut=null,qe=!1}function Ir(){var e=bi;return e!==null&&(tn===null?tn=e:tn.push.apply(tn,e),bi=null),e}function Ia(e){bi===null?bi=[e]:bi.push(e)}var kr=A(null),lo=null,$n=null;function Ti(e,n,a){ee(kr,n._currentValue),n._currentValue=a}function Qn(e){e._currentValue=kr.current,B(kr)}function Dr(e,n,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===a)break;e=e.return}}function Ur(e,n,a,s){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var m=p.dependencies;if(m!==null){var b=p.child;m=m.firstContext;e:for(;m!==null;){var C=m;m=p;for(var w=0;w<n.length;w++)if(C.context===n[w]){m.lanes|=a,C=m.alternate,C!==null&&(C.lanes|=a),Dr(m.return,a,e),s||(b=null);break e}m=C.next}}else if(p.tag===18){if(b=p.return,b===null)throw Error(l(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),Dr(b,a,e),b=null}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===e){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}}function Go(e,n,a,s){e=null;for(var p=n,m=!1;p!==null;){if(!m){if((p.flags&524288)!==0)m=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var b=p.alternate;if(b===null)throw Error(l(387));if(b=b.memoizedProps,b!==null){var C=p.type;un(p.pendingProps.value,b.value)||(e!==null?e.push(C):e=[C])}}else if(p===oe.current){if(b=p.alternate,b===null)throw Error(l(387));b.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}p=p.return}e!==null&&Ur(n,e,a,s),n.flags|=262144}function Ul(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function so(e){lo=e,$n=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Lt(e){return Md(lo,e)}function Ll(e,n){return lo===null&&so(e),Md(e,n)}function Md(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},$n===null){if(e===null)throw Error(l(308));$n=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else $n=$n.next=n;return a}var rv=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},uv=i.unstable_scheduleCallback,cv=i.unstable_NormalPriority,yt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lr(){return{controller:new rv,data:new Map,refCount:0}}function ka(e){e.refCount--,e.refCount===0&&uv(cv,function(){e.controller.abort()})}var Da=null,zr=0,Ho=0,qo=null;function dv(e,n){if(Da===null){var a=Da=[];zr=0,Ho=Hu(),qo={status:"pending",value:void 0,then:function(s){a.push(s)}}}return zr++,n.then(Rd,Rd),n}function Rd(){if(--zr===0&&Da!==null){qo!==null&&(qo.status="fulfilled");var e=Da;Da=null,Ho=0,qo=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function fv(e,n){var a=[],s={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var p=0;p<a.length;p++)(0,a[p])(n)},function(p){for(s.status="rejected",s.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),s}var Id=q.S;q.S=function(e,n){mp=Ft(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&dv(e,n),Id!==null&&Id(e,n)};var ro=A(null);function Pr(){var e=ro.current;return e!==null?e:et.pooledCache}function zl(e,n){n===null?ee(ro,ro.current):ee(ro,n.pool)}function kd(){var e=Pr();return e===null?null:{parent:yt._currentValue,pool:e}}var Vo=Error(l(460)),Gr=Error(l(474)),Pl=Error(l(542)),Gl={then:function(){}};function Dd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ud(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(ot,ot),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zd(e),e;default:if(typeof n.status=="string")n.then(ot,ot);else{if(e=et,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var p=n;p.status="fulfilled",p.value=s}},function(s){if(n.status==="pending"){var p=n;p.status="rejected",p.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zd(e),e}throw co=n,Vo}}function uo(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(co=a,Vo):a}}var co=null;function Ld(){if(co===null)throw Error(l(459));var e=co;return co=null,e}function zd(e){if(e===Vo||e===Pl)throw Error(l(483))}var Bo=null,Ua=0;function Hl(e){var n=Ua;return Ua+=1,Bo===null&&(Bo=[]),Ud(Bo,e,n)}function La(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ql(e,n){throw n.$$typeof===S?Error(l(525)):(e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Pd(e){function n(L,D){if(e){var P=L.deletions;P===null?(L.deletions=[D],L.flags|=16):P.push(D)}}function a(L,D){if(!e)return null;for(;D!==null;)n(L,D),D=D.sibling;return null}function s(L){for(var D=new Map;L!==null;)L.key!==null?D.set(L.key,L):D.set(L.index,L),L=L.sibling;return D}function p(L,D){return L=Kn(L,D),L.index=0,L.sibling=null,L}function m(L,D,P){return L.index=P,e?(P=L.alternate,P!==null?(P=P.index,P<D?(L.flags|=67108866,D):P):(L.flags|=67108866,D)):(L.flags|=1048576,D)}function b(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function C(L,D,P,J){return D===null||D.tag!==6?(D=Nr(P,L.mode,J),D.return=L,D):(D=p(D,P),D.return=L,D)}function w(L,D,P,J){var xe=P.type;return xe===U?O(L,D,P.props.children,J,P.key):D!==null&&(D.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ye&&uo(xe)===D.type)?(D=p(D,P.props),La(D,P),D.return=L,D):(D=kl(P.type,P.key,P.props,null,L.mode,J),La(D,P),D.return=L,D)}function G(L,D,P,J){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Ar(P,L.mode,J),D.return=L,D):(D=p(D,P.children||[]),D.return=L,D)}function O(L,D,P,J,xe){return D===null||D.tag!==7?(D=oo(P,L.mode,J,xe),D.return=L,D):(D=p(D,P),D.return=L,D)}function Q(L,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Nr(""+D,L.mode,P),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case E:return P=kl(D.type,D.key,D.props,null,L.mode,P),La(P,D),P.return=L,P;case I:return D=Ar(D,L.mode,P),D.return=L,D;case ye:return D=uo(D),Q(L,D,P)}if(Ye(D)||ne(D))return D=oo(D,L.mode,P,null),D.return=L,D;if(typeof D.then=="function")return Q(L,Hl(D),P);if(D.$$typeof===j)return Q(L,Ll(L,D),P);ql(L,D)}return null}function H(L,D,P,J){var xe=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return xe!==null?null:C(L,D,""+P,J);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case E:return P.key===xe?w(L,D,P,J):null;case I:return P.key===xe?G(L,D,P,J):null;case ye:return P=uo(P),H(L,D,P,J)}if(Ye(P)||ne(P))return xe!==null?null:O(L,D,P,J,null);if(typeof P.then=="function")return H(L,D,Hl(P),J);if(P.$$typeof===j)return H(L,D,Ll(L,P),J);ql(L,P)}return null}function V(L,D,P,J,xe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(P)||null,C(D,L,""+J,xe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case E:return L=L.get(J.key===null?P:J.key)||null,w(D,L,J,xe);case I:return L=L.get(J.key===null?P:J.key)||null,G(D,L,J,xe);case ye:return J=uo(J),V(L,D,P,J,xe)}if(Ye(J)||ne(J))return L=L.get(P)||null,O(D,L,J,xe,null);if(typeof J.then=="function")return V(L,D,P,Hl(J),xe);if(J.$$typeof===j)return V(L,D,P,Ll(D,J),xe);ql(D,J)}return null}function he(L,D,P,J){for(var xe=null,Fe=null,ve=D,Re=D=0,He=null;ve!==null&&Re<P.length;Re++){ve.index>Re?(He=ve,ve=null):He=ve.sibling;var Oe=H(L,ve,P[Re],J);if(Oe===null){ve===null&&(ve=He);break}e&&ve&&Oe.alternate===null&&n(L,ve),D=m(Oe,D,Re),Fe===null?xe=Oe:Fe.sibling=Oe,Fe=Oe,ve=He}if(Re===P.length)return a(L,ve),qe&&Xn(L,Re),xe;if(ve===null){for(;Re<P.length;Re++)ve=Q(L,P[Re],J),ve!==null&&(D=m(ve,D,Re),Fe===null?xe=ve:Fe.sibling=ve,Fe=ve);return qe&&Xn(L,Re),xe}for(ve=s(ve);Re<P.length;Re++)He=V(ve,L,Re,P[Re],J),He!==null&&(e&&He.alternate!==null&&ve.delete(He.key===null?Re:He.key),D=m(He,D,Re),Fe===null?xe=He:Fe.sibling=He,Fe=He);return e&&ve.forEach(function(Vi){return n(L,Vi)}),qe&&Xn(L,Re),xe}function Se(L,D,P,J){if(P==null)throw Error(l(151));for(var xe=null,Fe=null,ve=D,Re=D=0,He=null,Oe=P.next();ve!==null&&!Oe.done;Re++,Oe=P.next()){ve.index>Re?(He=ve,ve=null):He=ve.sibling;var Vi=H(L,ve,Oe.value,J);if(Vi===null){ve===null&&(ve=He);break}e&&ve&&Vi.alternate===null&&n(L,ve),D=m(Vi,D,Re),Fe===null?xe=Vi:Fe.sibling=Vi,Fe=Vi,ve=He}if(Oe.done)return a(L,ve),qe&&Xn(L,Re),xe;if(ve===null){for(;!Oe.done;Re++,Oe=P.next())Oe=Q(L,Oe.value,J),Oe!==null&&(D=m(Oe,D,Re),Fe===null?xe=Oe:Fe.sibling=Oe,Fe=Oe);return qe&&Xn(L,Re),xe}for(ve=s(ve);!Oe.done;Re++,Oe=P.next())Oe=V(ve,L,Re,Oe.value,J),Oe!==null&&(e&&Oe.alternate!==null&&ve.delete(Oe.key===null?Re:Oe.key),D=m(Oe,D,Re),Fe===null?xe=Oe:Fe.sibling=Oe,Fe=Oe);return e&&ve.forEach(function(Ty){return n(L,Ty)}),qe&&Xn(L,Re),xe}function We(L,D,P,J){if(typeof P=="object"&&P!==null&&P.type===U&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case E:e:{for(var xe=P.key;D!==null;){if(D.key===xe){if(xe=P.type,xe===U){if(D.tag===7){a(L,D.sibling),J=p(D,P.props.children),J.return=L,L=J;break e}}else if(D.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ye&&uo(xe)===D.type){a(L,D.sibling),J=p(D,P.props),La(J,P),J.return=L,L=J;break e}a(L,D);break}else n(L,D);D=D.sibling}P.type===U?(J=oo(P.props.children,L.mode,J,P.key),J.return=L,L=J):(J=kl(P.type,P.key,P.props,null,L.mode,J),La(J,P),J.return=L,L=J)}return b(L);case I:e:{for(xe=P.key;D!==null;){if(D.key===xe)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(L,D.sibling),J=p(D,P.children||[]),J.return=L,L=J;break e}else{a(L,D);break}else n(L,D);D=D.sibling}J=Ar(P,L.mode,J),J.return=L,L=J}return b(L);case ye:return P=uo(P),We(L,D,P,J)}if(Ye(P))return he(L,D,P,J);if(ne(P)){if(xe=ne(P),typeof xe!="function")throw Error(l(150));return P=xe.call(P),Se(L,D,P,J)}if(typeof P.then=="function")return We(L,D,Hl(P),J);if(P.$$typeof===j)return We(L,D,Ll(L,P),J);ql(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(L,D.sibling),J=p(D,P),J.return=L,L=J):(a(L,D),J=Nr(P,L.mode,J),J.return=L,L=J),b(L)):a(L,D)}return function(L,D,P,J){try{Ua=0;var xe=We(L,D,P,J);return Bo=null,xe}catch(ve){if(ve===Vo||ve===Pl)throw ve;var Fe=cn(29,ve,null,L.mode);return Fe.lanes=J,Fe.return=L,Fe}finally{}}}var fo=Pd(!0),Gd=Pd(!1),Ei=!1;function Hr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qr(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ci(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ni(e,n,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Je&2)!==0){var p=s.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),s.pending=n,n=Il(e),bd(e,null,a),n}return Rl(e,s,n,a),Il(e)}function za(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,a|=s,n.lanes=a,Ee(e,a)}}function Vr(e,n){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var p=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?p=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?p=m=n:m=m.next=n}else p=m=n;a={baseState:s.baseState,firstBaseUpdate:p,lastBaseUpdate:m,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Br=!1;function Pa(){if(Br){var e=qo;if(e!==null)throw e}}function Ga(e,n,a,s){Br=!1;var p=e.updateQueue;Ei=!1;var m=p.firstBaseUpdate,b=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var w=C,G=w.next;w.next=null,b===null?m=G:b.next=G,b=w;var O=e.alternate;O!==null&&(O=O.updateQueue,C=O.lastBaseUpdate,C!==b&&(C===null?O.firstBaseUpdate=G:C.next=G,O.lastBaseUpdate=w))}if(m!==null){var Q=p.baseState;b=0,O=G=w=null,C=m;do{var H=C.lane&-536870913,V=H!==C.lane;if(V?(Ge&H)===H:(s&H)===H){H!==0&&H===Ho&&(Br=!0),O!==null&&(O=O.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var he=e,Se=C;H=n;var We=a;switch(Se.tag){case 1:if(he=Se.payload,typeof he=="function"){Q=he.call(We,Q,H);break e}Q=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Se.payload,H=typeof he=="function"?he.call(We,Q,H):he,H==null)break e;Q=_({},Q,H);break e;case 2:Ei=!0}}H=C.callback,H!==null&&(e.flags|=64,V&&(e.flags|=8192),V=p.callbacks,V===null?p.callbacks=[H]:V.push(H))}else V={lane:H,tag:C.tag,payload:C.payload,callback:C.callback,next:null},O===null?(G=O=V,w=Q):O=O.next=V,b|=H;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;V=C,C=V.next,V.next=null,p.lastBaseUpdate=V,p.shared.pending=null}}while(!0);O===null&&(w=Q),p.baseState=w,p.firstBaseUpdate=G,p.lastBaseUpdate=O,m===null&&(p.shared.lanes=0),Ii|=b,e.lanes=b,e.memoizedState=Q}}function Hd(e,n){if(typeof e!="function")throw Error(l(191,e));e.call(n)}function qd(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Hd(a[e],n)}var Fo=A(null),Vl=A(0);function Vd(e,n){e=li,ee(Vl,e),ee(Fo,n),li=e|n.baseLanes}function Fr(){ee(Vl,li),ee(Fo,Fo.current)}function Or(){li=Vl.current,B(Fo),B(Vl)}var dn=A(null),Sn=null;function Ai(e){var n=e.alternate;ee(ht,ht.current&1),ee(dn,e),Sn===null&&(n===null||Fo.current!==null||n.memoizedState!==null)&&(Sn=e)}function jr(e){ee(ht,ht.current),ee(dn,e),Sn===null&&(Sn=e)}function Bd(e){e.tag===22?(ee(ht,ht.current),ee(dn,e),Sn===null&&(Sn=e)):wi()}function wi(){ee(ht,ht.current),ee(dn,dn.current)}function fn(e){B(dn),Sn===e&&(Sn=null),B(ht)}var ht=A(0);function Bl(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Qu(a)||Zu(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zn=0,Me=null,Qe=null,xt=null,Fl=!1,Oo=!1,po=!1,Ol=0,Ha=0,jo=null,pv=0;function ut(){throw Error(l(321))}function Jr(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!un(e[a],n[a]))return!1;return!0}function Yr(e,n,a,s,p,m){return Zn=m,Me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?Nf:ru,po=!1,m=a(s,p),po=!1,Oo&&(m=Od(n,a,s,p)),Fd(e),m}function Fd(e){q.H=Ba;var n=Qe!==null&&Qe.next!==null;if(Zn=0,xt=Qe=Me=null,Fl=!1,Ha=0,jo=null,n)throw Error(l(300));e===null||_t||(e=e.dependencies,e!==null&&Ul(e)&&(_t=!0))}function Od(e,n,a,s){Me=e;var p=0;do{if(Oo&&(jo=null),Ha=0,Oo=!1,25<=p)throw Error(l(301));if(p+=1,xt=Qe=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}q.H=Af,m=n(a,s)}while(Oo);return m}function hv(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?qa(n):n,e=e.useState()[0],(Qe!==null?Qe.memoizedState:null)!==e&&(Me.flags|=1024),n}function Kr(){var e=Ol!==0;return Ol=0,e}function Xr(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function $r(e){if(Fl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Fl=!1}Zn=0,xt=Qe=Me=null,Oo=!1,Ha=Ol=0,jo=null}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Me.memoizedState=xt=e:xt=xt.next=e,xt}function mt(){if(Qe===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var n=xt===null?Me.memoizedState:xt.next;if(n!==null)xt=n,Qe=e;else{if(e===null)throw Me.alternate===null?Error(l(467)):Error(l(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},xt===null?Me.memoizedState=xt=e:xt=xt.next=e}return xt}function jl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qa(e){var n=Ha;return Ha+=1,jo===null&&(jo=[]),e=Ud(jo,e,n),n=Me,(xt===null?n.memoizedState:xt.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Nf:ru),e}function Jl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qa(e);if(e.$$typeof===j)return Lt(e)}throw Error(l(438,String(e)))}function Qr(e){var n=null,a=Me.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var s=Me.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(p){return p.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=jl(),Me.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),s=0;s<e;s++)a[s]=ge;return n.index++,a}function Wn(e,n){return typeof n=="function"?n(e):n}function Yl(e){var n=mt();return Zr(n,Qe,e)}function Zr(e,n,a){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=a;var p=e.baseQueue,m=s.pending;if(m!==null){if(p!==null){var b=p.next;p.next=m.next,m.next=b}n.baseQueue=p=m,s.pending=null}if(m=e.baseState,p===null)e.memoizedState=m;else{n=p.next;var C=b=null,w=null,G=n,O=!1;do{var Q=G.lane&-536870913;if(Q!==G.lane?(Ge&Q)===Q:(Zn&Q)===Q){var H=G.revertLane;if(H===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),Q===Ho&&(O=!0);else if((Zn&H)===H){G=G.next,H===Ho&&(O=!0);continue}else Q={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},w===null?(C=w=Q,b=m):w=w.next=Q,Me.lanes|=H,Ii|=H;Q=G.action,po&&a(m,Q),m=G.hasEagerState?G.eagerState:a(m,Q)}else H={lane:Q,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},w===null?(C=w=H,b=m):w=w.next=H,Me.lanes|=Q,Ii|=Q;G=G.next}while(G!==null&&G!==n);if(w===null?b=m:w.next=C,!un(m,e.memoizedState)&&(_t=!0,O&&(a=qo,a!==null)))throw a;e.memoizedState=m,e.baseState=b,e.baseQueue=w,s.lastRenderedState=m}return p===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Wr(e){var n=mt(),a=n.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,p=a.pending,m=n.memoizedState;if(p!==null){a.pending=null;var b=p=p.next;do m=e(m,b.action),b=b.next;while(b!==p);un(m,n.memoizedState)||(_t=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),a.lastRenderedState=m}return[m,s]}function jd(e,n,a){var s=Me,p=mt(),m=qe;if(m){if(a===void 0)throw Error(l(407));a=a()}else a=n();var b=!un((Qe||p).memoizedState,a);if(b&&(p.memoizedState=a,_t=!0),p=p.queue,nu(Kd.bind(null,s,p,e),[e]),p.getSnapshot!==n||b||xt!==null&&xt.memoizedState.tag&1){if(s.flags|=2048,Jo(9,{destroy:void 0},Yd.bind(null,s,p,a,n),null),et===null)throw Error(l(349));m||(Zn&127)!==0||Jd(s,n,a)}return a}function Jd(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Me.updateQueue,n===null?(n=jl(),Me.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Yd(e,n,a,s){n.value=a,n.getSnapshot=s,Xd(n)&&$d(e)}function Kd(e,n,a){return a(function(){Xd(n)&&$d(e)})}function Xd(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!un(e,a)}catch{return!0}}function $d(e){var n=io(e,2);n!==null&&nn(n,e,2)}function eu(e){var n=Jt();if(typeof e=="function"){var a=e;if(e=a(),po){Pn(!0);try{a()}finally{Pn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:e},n}function Qd(e,n,a,s){return e.baseState=a,Zr(e,Qe,typeof s=="function"?s:Wn)}function mv(e,n,a,s,p){if($l(e))throw Error(l(485));if(e=n.action,e!==null){var m={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};q.T!==null?a(!0):m.isTransition=!1,s(m),a=n.pending,a===null?(m.next=n.pending=m,Zd(n,m)):(m.next=a.next,n.pending=a.next=m)}}function Zd(e,n){var a=n.action,s=n.payload,p=e.state;if(n.isTransition){var m=q.T,b={};q.T=b;try{var C=a(p,s),w=q.S;w!==null&&w(b,C),Wd(e,n,C)}catch(G){tu(e,n,G)}finally{m!==null&&b.types!==null&&(m.types=b.types),q.T=m}}else try{m=a(p,s),Wd(e,n,m)}catch(G){tu(e,n,G)}}function Wd(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){ef(e,n,s)},function(s){return tu(e,n,s)}):ef(e,n,a)}function ef(e,n,a){n.status="fulfilled",n.value=a,tf(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Zd(e,a)))}function tu(e,n,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=a,tf(n),n=n.next;while(n!==s)}e.action=null}function tf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function nf(e,n){return n}function of(e,n){if(qe){var a=et.formState;if(a!==null){e:{var s=Me;if(qe){if(nt){t:{for(var p=nt,m=bn;p.nodeType!==8;){if(!m){p=null;break t}if(p=Tn(p.nextSibling),p===null){p=null;break t}}m=p.data,p=m==="F!"||m==="F"?p:null}if(p){nt=Tn(p.nextSibling),s=p.data==="F!";break e}}Si(s)}s=!1}s&&(n=a[0])}}return a=Jt(),a.memoizedState=a.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nf,lastRenderedState:n},a.queue=s,a=Tf.bind(null,Me,s),s.dispatch=a,s=eu(!1),m=su.bind(null,Me,!1,s.queue),s=Jt(),p={state:n,dispatch:null,action:e,pending:null},s.queue=p,a=mv.bind(null,Me,p,m,a),p.dispatch=a,s.memoizedState=e,[n,a,!1]}function af(e){var n=mt();return lf(n,Qe,e)}function lf(e,n,a){if(n=Zr(e,n,nf)[0],e=Yl(Wn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=qa(n)}catch(b){throw b===Vo?Pl:b}else s=n;n=mt();var p=n.queue,m=p.dispatch;return a!==n.memoizedState&&(Me.flags|=2048,Jo(9,{destroy:void 0},gv.bind(null,p,a),null)),[s,m,e]}function gv(e,n){e.action=n}function sf(e){var n=mt(),a=Qe;if(a!==null)return lf(n,a,e);mt(),n=n.memoizedState,a=mt();var s=a.queue.dispatch;return a.memoizedState=e,[n,s,!1]}function Jo(e,n,a,s){return e={tag:e,create:a,deps:s,inst:n,next:null},n=Me.updateQueue,n===null&&(n=jl(),Me.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,n.lastEffect=e),e}function rf(){return mt().memoizedState}function Kl(e,n,a,s){var p=Jt();Me.flags|=e,p.memoizedState=Jo(1|n,{destroy:void 0},a,s===void 0?null:s)}function Xl(e,n,a,s){var p=mt();s=s===void 0?null:s;var m=p.memoizedState.inst;Qe!==null&&s!==null&&Jr(s,Qe.memoizedState.deps)?p.memoizedState=Jo(n,m,a,s):(Me.flags|=e,p.memoizedState=Jo(1|n,m,a,s))}function uf(e,n){Kl(8390656,8,e,n)}function nu(e,n){Xl(2048,8,e,n)}function vv(e){Me.flags|=4;var n=Me.updateQueue;if(n===null)n=jl(),Me.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function cf(e){var n=mt().memoizedState;return vv({ref:n,nextImpl:e}),function(){if((Je&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function df(e,n){return Xl(4,2,e,n)}function ff(e,n){return Xl(4,4,e,n)}function pf(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function hf(e,n,a){a=a!=null?a.concat([e]):null,Xl(4,4,pf.bind(null,n,e),a)}function iu(){}function mf(e,n){var a=mt();n=n===void 0?null:n;var s=a.memoizedState;return n!==null&&Jr(n,s[1])?s[0]:(a.memoizedState=[e,n],e)}function gf(e,n){var a=mt();n=n===void 0?null:n;var s=a.memoizedState;if(n!==null&&Jr(n,s[1]))return s[0];if(s=e(),po){Pn(!0);try{e()}finally{Pn(!1)}}return a.memoizedState=[s,n],s}function ou(e,n,a){return a===void 0||(Zn&1073741824)!==0&&(Ge&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=vp(),Me.lanes|=e,Ii|=e,a)}function vf(e,n,a,s){return un(a,n)?a:Fo.current!==null?(e=ou(e,a,s),un(e,n)||(_t=!0),e):(Zn&42)===0||(Zn&1073741824)!==0&&(Ge&261930)===0?(_t=!0,e.memoizedState=a):(e=vp(),Me.lanes|=e,Ii|=e,n)}function yf(e,n,a,s,p){var m=te.p;te.p=m!==0&&8>m?m:8;var b=q.T,C={};q.T=C,su(e,!1,n,a);try{var w=p(),G=q.S;if(G!==null&&G(C,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var O=fv(w,s);Va(e,n,O,mn(e))}else Va(e,n,s,mn(e))}catch(Q){Va(e,n,{then:function(){},status:"rejected",reason:Q},mn())}finally{te.p=m,b!==null&&C.types!==null&&(b.types=C.types),q.T=b}}function yv(){}function au(e,n,a,s){if(e.tag!==5)throw Error(l(476));var p=xf(e).queue;yf(e,p,n,Z,a===null?yv:function(){return _f(e),a(s)})}function xf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:Z},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function _f(e){var n=xf(e);n.next===null&&(n=e.alternate.memoizedState),Va(e,n.next.queue,{},mn())}function lu(){return Lt(ol)}function bf(){return mt().memoizedState}function Sf(){return mt().memoizedState}function xv(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=mn();e=Ci(a);var s=Ni(n,e,a);s!==null&&(nn(s,n,a),za(s,n,a)),n={cache:Lr()},e.payload=n;return}n=n.return}}function _v(e,n,a){var s=mn();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},$l(e)?Ef(n,a):(a=Er(e,n,a,s),a!==null&&(nn(a,e,s),Cf(a,n,s)))}function Tf(e,n,a){var s=mn();Va(e,n,a,s)}function Va(e,n,a,s){var p={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if($l(e))Ef(n,p);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var b=n.lastRenderedState,C=m(b,a);if(p.hasEagerState=!0,p.eagerState=C,un(C,b))return Rl(e,n,p,0),et===null&&Ml(),!1}catch{}finally{}if(a=Er(e,n,p,s),a!==null)return nn(a,e,s),Cf(a,n,s),!0}return!1}function su(e,n,a,s){if(s={lane:2,revertLane:Hu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},$l(e)){if(n)throw Error(l(479))}else n=Er(e,a,s,2),n!==null&&nn(n,e,2)}function $l(e){var n=e.alternate;return e===Me||n!==null&&n===Me}function Ef(e,n){Oo=Fl=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Cf(e,n,a){if((a&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,a|=s,n.lanes=a,Ee(e,a)}}var Ba={readContext:Lt,use:Jl,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};Ba.useEffectEvent=ut;var Nf={readContext:Lt,use:Jl,useCallback:function(e,n){return Jt().memoizedState=[e,n===void 0?null:n],e},useContext:Lt,useEffect:uf,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Kl(4194308,4,pf.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Kl(4194308,4,e,n)},useInsertionEffect:function(e,n){Kl(4,2,e,n)},useMemo:function(e,n){var a=Jt();n=n===void 0?null:n;var s=e();if(po){Pn(!0);try{e()}finally{Pn(!1)}}return a.memoizedState=[s,n],s},useReducer:function(e,n,a){var s=Jt();if(a!==void 0){var p=a(n);if(po){Pn(!0);try{a(n)}finally{Pn(!1)}}}else p=n;return s.memoizedState=s.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},s.queue=e,e=e.dispatch=_v.bind(null,Me,e),[s.memoizedState,e]},useRef:function(e){var n=Jt();return e={current:e},n.memoizedState=e},useState:function(e){e=eu(e);var n=e.queue,a=Tf.bind(null,Me,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:iu,useDeferredValue:function(e,n){var a=Jt();return ou(a,e,n)},useTransition:function(){var e=eu(!1);return e=yf.bind(null,Me,e.queue,!0,!1),Jt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var s=Me,p=Jt();if(qe){if(a===void 0)throw Error(l(407));a=a()}else{if(a=n(),et===null)throw Error(l(349));(Ge&127)!==0||Jd(s,n,a)}p.memoizedState=a;var m={value:a,getSnapshot:n};return p.queue=m,uf(Kd.bind(null,s,m,e),[e]),s.flags|=2048,Jo(9,{destroy:void 0},Yd.bind(null,s,m,a,n),null),a},useId:function(){var e=Jt(),n=et.identifierPrefix;if(qe){var a=Hn,s=Gn;a=(s&~(1<<32-St(s)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Ol++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=pv++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:lu,useFormState:of,useActionState:of,useOptimistic:function(e){var n=Jt();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=su.bind(null,Me,!0,a),a.dispatch=n,[e,n]},useMemoCache:Qr,useCacheRefresh:function(){return Jt().memoizedState=xv.bind(null,Me)},useEffectEvent:function(e){var n=Jt(),a={impl:e};return n.memoizedState=a,function(){if((Je&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},ru={readContext:Lt,use:Jl,useCallback:mf,useContext:Lt,useEffect:nu,useImperativeHandle:hf,useInsertionEffect:df,useLayoutEffect:ff,useMemo:gf,useReducer:Yl,useRef:rf,useState:function(){return Yl(Wn)},useDebugValue:iu,useDeferredValue:function(e,n){var a=mt();return vf(a,Qe.memoizedState,e,n)},useTransition:function(){var e=Yl(Wn)[0],n=mt().memoizedState;return[typeof e=="boolean"?e:qa(e),n]},useSyncExternalStore:jd,useId:bf,useHostTransitionStatus:lu,useFormState:af,useActionState:af,useOptimistic:function(e,n){var a=mt();return Qd(a,Qe,e,n)},useMemoCache:Qr,useCacheRefresh:Sf};ru.useEffectEvent=cf;var Af={readContext:Lt,use:Jl,useCallback:mf,useContext:Lt,useEffect:nu,useImperativeHandle:hf,useInsertionEffect:df,useLayoutEffect:ff,useMemo:gf,useReducer:Wr,useRef:rf,useState:function(){return Wr(Wn)},useDebugValue:iu,useDeferredValue:function(e,n){var a=mt();return Qe===null?ou(a,e,n):vf(a,Qe.memoizedState,e,n)},useTransition:function(){var e=Wr(Wn)[0],n=mt().memoizedState;return[typeof e=="boolean"?e:qa(e),n]},useSyncExternalStore:jd,useId:bf,useHostTransitionStatus:lu,useFormState:sf,useActionState:sf,useOptimistic:function(e,n){var a=mt();return Qe!==null?Qd(a,Qe,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Qr,useCacheRefresh:Sf};Af.useEffectEvent=cf;function uu(e,n,a,s){n=e.memoizedState,a=a(s,n),a=a==null?n:_({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var cu={enqueueSetState:function(e,n,a){e=e._reactInternals;var s=mn(),p=Ci(s);p.payload=n,a!=null&&(p.callback=a),n=Ni(e,p,s),n!==null&&(nn(n,e,s),za(n,e,s))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var s=mn(),p=Ci(s);p.tag=1,p.payload=n,a!=null&&(p.callback=a),n=Ni(e,p,s),n!==null&&(nn(n,e,s),za(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=mn(),s=Ci(a);s.tag=2,n!=null&&(s.callback=n),n=Ni(e,s,a),n!==null&&(nn(n,e,a),za(n,e,a))}};function wf(e,n,a,s,p,m,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,m,b):n.prototype&&n.prototype.isPureReactComponent?!wa(a,s)||!wa(p,m):!0}function Mf(e,n,a,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,s),n.state!==e&&cu.enqueueReplaceState(n,n.state,null)}function ho(e,n){var a=n;if("ref"in n){a={};for(var s in n)s!=="ref"&&(a[s]=n[s])}if(e=e.defaultProps){a===n&&(a=_({},a));for(var p in e)a[p]===void 0&&(a[p]=e[p])}return a}function Rf(e){wl(e)}function If(e){console.error(e)}function kf(e){wl(e)}function Ql(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function Df(e,n,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function du(e,n,a){return a=Ci(a),a.tag=3,a.payload={element:null},a.callback=function(){Ql(e,n)},a}function Uf(e){return e=Ci(e),e.tag=3,e}function Lf(e,n,a,s){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var m=s.value;e.payload=function(){return p(m)},e.callback=function(){Df(n,a,s)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){Df(n,a,s),typeof p!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var C=s.stack;this.componentDidCatch(s.value,{componentStack:C!==null?C:""})})}function bv(e,n,a,s,p){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=a.alternate,n!==null&&Go(n,a,p,!0),a=dn.current,a!==null){switch(a.tag){case 31:case 13:return Sn===null?us():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=p,s===Gl?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([s]):n.add(s),zu(e,s,p)),!1;case 22:return a.flags|=65536,s===Gl?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([s]):a.add(s)),zu(e,s,p)),!1}throw Error(l(435,a.tag))}return zu(e,s,p),us(),!1}if(qe)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=p,s!==Rr&&(e=Error(l(422),{cause:s}),Ia(yn(e,a)))):(s!==Rr&&(n=Error(l(423),{cause:s}),Ia(yn(n,a))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,s=yn(s,a),p=du(e.stateNode,s,p),Vr(e,p),ct!==4&&(ct=2)),!1;var m=Error(l(520),{cause:s});if(m=yn(m,a),$a===null?$a=[m]:$a.push(m),ct!==4&&(ct=2),n===null)return!0;s=yn(s,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=p&-p,a.lanes|=e,e=du(a.stateNode,s,e),Vr(a,e),!1;case 1:if(n=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ki===null||!ki.has(m))))return a.flags|=65536,p&=-p,a.lanes|=p,p=Uf(p),Lf(p,e,a,s),Vr(a,p),!1}a=a.return}while(a!==null);return!1}var fu=Error(l(461)),_t=!1;function zt(e,n,a,s){n.child=e===null?Gd(n,null,a,s):fo(n,e.child,a,s)}function zf(e,n,a,s,p){a=a.render;var m=n.ref;if("ref"in s){var b={};for(var C in s)C!=="ref"&&(b[C]=s[C])}else b=s;return so(n),s=Yr(e,n,a,b,m,p),C=Kr(),e!==null&&!_t?(Xr(e,n,p),ei(e,n,p)):(qe&&C&&wr(n),n.flags|=1,zt(e,n,s,p),n.child)}function Pf(e,n,a,s,p){if(e===null){var m=a.type;return typeof m=="function"&&!Cr(m)&&m.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=m,Gf(e,n,m,s,p)):(e=kl(a.type,null,s,n,n.mode,p),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!_u(e,p)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:wa,a(b,s)&&e.ref===n.ref)return ei(e,n,p)}return n.flags|=1,e=Kn(m,s),e.ref=n.ref,e.return=n,n.child=e}function Gf(e,n,a,s,p){if(e!==null){var m=e.memoizedProps;if(wa(m,s)&&e.ref===n.ref)if(_t=!1,n.pendingProps=s=m,_u(e,p))(e.flags&131072)!==0&&(_t=!0);else return n.lanes=e.lanes,ei(e,n,p)}return pu(e,n,a,s,p)}function Hf(e,n,a,s){var p=s.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,e!==null){for(s=n.child=e.child,p=0;s!==null;)p=p|s.lanes|s.childLanes,s=s.sibling;s=p&~m}else s=0,n.child=null;return qf(e,n,m,a,s)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&zl(n,m!==null?m.cachePool:null),m!==null?Vd(n,m):Fr(),Bd(n);else return s=n.lanes=536870912,qf(e,n,m!==null?m.baseLanes|a:a,a,s)}else m!==null?(zl(n,m.cachePool),Vd(n,m),wi(),n.memoizedState=null):(e!==null&&zl(n,null),Fr(),wi());return zt(e,n,p,a),n.child}function Fa(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function qf(e,n,a,s,p){var m=Pr();return m=m===null?null:{parent:yt._currentValue,pool:m},n.memoizedState={baseLanes:a,cachePool:m},e!==null&&zl(n,null),Fr(),Bd(n),e!==null&&Go(e,n,s,!0),n.childLanes=p,null}function Zl(e,n){return n=es({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Vf(e,n,a){return fo(n,e.child,null,a),e=Zl(n,n.pendingProps),e.flags|=2,fn(n),n.memoizedState=null,e}function Sv(e,n,a){var s=n.pendingProps,p=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(qe){if(s.mode==="hidden")return e=Zl(n,s),n.lanes=536870912,Fa(null,e);if(jr(n),(e=nt)?(e=Wp(e,bn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_i!==null?{id:Gn,overflow:Hn}:null,retryLane:536870912,hydrationErrors:null},a=Td(e),a.return=n,n.child=a,Ut=n,nt=null)):e=null,e===null)throw Si(n);return n.lanes=536870912,null}return Zl(n,s)}var m=e.memoizedState;if(m!==null){var b=m.dehydrated;if(jr(n),p)if(n.flags&256)n.flags&=-257,n=Vf(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(l(558));else if(_t||Go(e,n,a,!1),p=(a&e.childLanes)!==0,_t||p){if(s=et,s!==null&&(b=ga(s,a),b!==0&&b!==m.retryLane))throw m.retryLane=b,io(e,b),nn(s,e,b),fu;us(),n=Vf(e,n,a)}else e=m.treeContext,nt=Tn(b.nextSibling),Ut=n,qe=!0,bi=null,bn=!1,e!==null&&Nd(n,e),n=Zl(n,s),n.flags|=4096;return n}return e=Kn(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Wl(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function pu(e,n,a,s,p){return so(n),a=Yr(e,n,a,s,void 0,p),s=Kr(),e!==null&&!_t?(Xr(e,n,p),ei(e,n,p)):(qe&&s&&wr(n),n.flags|=1,zt(e,n,a,p),n.child)}function Bf(e,n,a,s,p,m){return so(n),n.updateQueue=null,a=Od(n,s,a,p),Fd(e),s=Kr(),e!==null&&!_t?(Xr(e,n,m),ei(e,n,m)):(qe&&s&&wr(n),n.flags|=1,zt(e,n,a,m),n.child)}function Ff(e,n,a,s,p){if(so(n),n.stateNode===null){var m=Uo,b=a.contextType;typeof b=="object"&&b!==null&&(m=Lt(b)),m=new a(s,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=cu,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=s,m.state=n.memoizedState,m.refs={},Hr(n),b=a.contextType,m.context=typeof b=="object"&&b!==null?Lt(b):Uo,m.state=n.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(uu(n,a,b,s),m.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&cu.enqueueReplaceState(m,m.state,null),Ga(n,s,m,p),Pa(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){m=n.stateNode;var C=n.memoizedProps,w=ho(a,C);m.props=w;var G=m.context,O=a.contextType;b=Uo,typeof O=="object"&&O!==null&&(b=Lt(O));var Q=a.getDerivedStateFromProps;O=typeof Q=="function"||typeof m.getSnapshotBeforeUpdate=="function",C=n.pendingProps!==C,O||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C||G!==b)&&Mf(n,m,s,b),Ei=!1;var H=n.memoizedState;m.state=H,Ga(n,s,m,p),Pa(),G=n.memoizedState,C||H!==G||Ei?(typeof Q=="function"&&(uu(n,a,Q,s),G=n.memoizedState),(w=Ei||wf(n,a,w,s,H,G,b))?(O||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=G),m.props=s,m.state=G,m.context=b,s=w):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{m=n.stateNode,qr(e,n),b=n.memoizedProps,O=ho(a,b),m.props=O,Q=n.pendingProps,H=m.context,G=a.contextType,w=Uo,typeof G=="object"&&G!==null&&(w=Lt(G)),C=a.getDerivedStateFromProps,(G=typeof C=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==Q||H!==w)&&Mf(n,m,s,w),Ei=!1,H=n.memoizedState,m.state=H,Ga(n,s,m,p),Pa();var V=n.memoizedState;b!==Q||H!==V||Ei||e!==null&&e.dependencies!==null&&Ul(e.dependencies)?(typeof C=="function"&&(uu(n,a,C,s),V=n.memoizedState),(O=Ei||wf(n,a,O,s,H,V,w)||e!==null&&e.dependencies!==null&&Ul(e.dependencies))?(G||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,V,w),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,V,w)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=V),m.props=s,m.state=V,m.context=w,s=O):(typeof m.componentDidUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),s=!1)}return m=s,Wl(e,n),s=(n.flags&128)!==0,m||s?(m=n.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&s?(n.child=fo(n,e.child,null,p),n.child=fo(n,null,a,p)):zt(e,n,a,p),n.memoizedState=m.state,e=n.child):e=ei(e,n,p),e}function Of(e,n,a,s){return ao(),n.flags|=256,zt(e,n,a,s),n.child}var hu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mu(e){return{baseLanes:e,cachePool:kd()}}function gu(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=hn),e}function jf(e,n,a){var s=n.pendingProps,p=!1,m=(n.flags&128)!==0,b;if((b=m)||(b=e!==null&&e.memoizedState===null?!1:(ht.current&2)!==0),b&&(p=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,e===null){if(qe){if(p?Ai(n):wi(),(e=nt)?(e=Wp(e,bn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_i!==null?{id:Gn,overflow:Hn}:null,retryLane:536870912,hydrationErrors:null},a=Td(e),a.return=n,n.child=a,Ut=n,nt=null)):e=null,e===null)throw Si(n);return Zu(e)?n.lanes=32:n.lanes=536870912,null}var C=s.children;return s=s.fallback,p?(wi(),p=n.mode,C=es({mode:"hidden",children:C},p),s=oo(s,p,a,null),C.return=n,s.return=n,C.sibling=s,n.child=C,s=n.child,s.memoizedState=mu(a),s.childLanes=gu(e,b,a),n.memoizedState=hu,Fa(null,s)):(Ai(n),vu(n,C))}var w=e.memoizedState;if(w!==null&&(C=w.dehydrated,C!==null)){if(m)n.flags&256?(Ai(n),n.flags&=-257,n=yu(e,n,a)):n.memoizedState!==null?(wi(),n.child=e.child,n.flags|=128,n=null):(wi(),C=s.fallback,p=n.mode,s=es({mode:"visible",children:s.children},p),C=oo(C,p,a,null),C.flags|=2,s.return=n,C.return=n,s.sibling=C,n.child=s,fo(n,e.child,null,a),s=n.child,s.memoizedState=mu(a),s.childLanes=gu(e,b,a),n.memoizedState=hu,n=Fa(null,s));else if(Ai(n),Zu(C)){if(b=C.nextSibling&&C.nextSibling.dataset,b)var G=b.dgst;b=G,s=Error(l(419)),s.stack="",s.digest=b,Ia({value:s,source:null,stack:null}),n=yu(e,n,a)}else if(_t||Go(e,n,a,!1),b=(a&e.childLanes)!==0,_t||b){if(b=et,b!==null&&(s=ga(b,a),s!==0&&s!==w.retryLane))throw w.retryLane=s,io(e,s),nn(b,e,s),fu;Qu(C)||us(),n=yu(e,n,a)}else Qu(C)?(n.flags|=192,n.child=e.child,n=null):(e=w.treeContext,nt=Tn(C.nextSibling),Ut=n,qe=!0,bi=null,bn=!1,e!==null&&Nd(n,e),n=vu(n,s.children),n.flags|=4096);return n}return p?(wi(),C=s.fallback,p=n.mode,w=e.child,G=w.sibling,s=Kn(w,{mode:"hidden",children:s.children}),s.subtreeFlags=w.subtreeFlags&65011712,G!==null?C=Kn(G,C):(C=oo(C,p,a,null),C.flags|=2),C.return=n,s.return=n,s.sibling=C,n.child=s,Fa(null,s),s=n.child,C=e.child.memoizedState,C===null?C=mu(a):(p=C.cachePool,p!==null?(w=yt._currentValue,p=p.parent!==w?{parent:w,pool:w}:p):p=kd(),C={baseLanes:C.baseLanes|a,cachePool:p}),s.memoizedState=C,s.childLanes=gu(e,b,a),n.memoizedState=hu,Fa(e.child,s)):(Ai(n),a=e.child,e=a.sibling,a=Kn(a,{mode:"visible",children:s.children}),a.return=n,a.sibling=null,e!==null&&(b=n.deletions,b===null?(n.deletions=[e],n.flags|=16):b.push(e)),n.child=a,n.memoizedState=null,a)}function vu(e,n){return n=es({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function es(e,n){return e=cn(22,e,null,n),e.lanes=0,e}function yu(e,n,a){return fo(n,e.child,null,a),e=vu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Jf(e,n,a){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Dr(e.return,n,a)}function xu(e,n,a,s,p,m){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:p,treeForkCount:m}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=s,b.tail=a,b.tailMode=p,b.treeForkCount=m)}function Yf(e,n,a){var s=n.pendingProps,p=s.revealOrder,m=s.tail;s=s.children;var b=ht.current,C=(b&2)!==0;if(C?(b=b&1|2,n.flags|=128):b&=1,ee(ht,b),zt(e,n,s,a),s=qe?Ra:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jf(e,a,n);else if(e.tag===19)Jf(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(a=n.child,p=null;a!==null;)e=a.alternate,e!==null&&Bl(e)===null&&(p=a),a=a.sibling;a=p,a===null?(p=n.child,n.child=null):(p=a.sibling,a.sibling=null),xu(n,!1,p,a,m,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,p=n.child,n.child=null;p!==null;){if(e=p.alternate,e!==null&&Bl(e)===null){n.child=p;break}e=p.sibling,p.sibling=a,a=p,p=e}xu(n,!0,a,null,m,s);break;case"together":xu(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function ei(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Ii|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Go(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,a=Kn(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Kn(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function _u(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ul(e)))}function Tv(e,n,a){switch(n.tag){case 3:$e(n,n.stateNode.containerInfo),Ti(n,yt,e.memoizedState.cache),ao();break;case 27:case 5:on(n);break;case 4:$e(n,n.stateNode.containerInfo);break;case 10:Ti(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,jr(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Ai(n),n.flags|=128,null):(a&n.child.childLanes)!==0?jf(e,n,a):(Ai(n),e=ei(e,n,a),e!==null?e.sibling:null);Ai(n);break;case 19:var p=(e.flags&128)!==0;if(s=(a&n.childLanes)!==0,s||(Go(e,n,a,!1),s=(a&n.childLanes)!==0),p){if(s)return Yf(e,n,a);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ee(ht,ht.current),s)break;return null;case 22:return n.lanes=0,Hf(e,n,a,n.pendingProps);case 24:Ti(n,yt,e.memoizedState.cache)}return ei(e,n,a)}function Kf(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)_t=!0;else{if(!_u(e,a)&&(n.flags&128)===0)return _t=!1,Tv(e,n,a);_t=(e.flags&131072)!==0}else _t=!1,qe&&(n.flags&1048576)!==0&&Cd(n,Ra,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=uo(n.elementType),n.type=e,typeof e=="function")Cr(e)?(s=ho(e,s),n.tag=1,n=Ff(null,n,e,s,a)):(n.tag=0,n=pu(null,n,e,s,a));else{if(e!=null){var p=e.$$typeof;if(p===z){n.tag=11,n=zf(null,n,e,s,a);break e}else if(p===$){n.tag=14,n=Pf(null,n,e,s,a);break e}}throw n=Ae(e)||e,Error(l(306,n,""))}}return n;case 0:return pu(e,n,n.type,n.pendingProps,a);case 1:return s=n.type,p=ho(s,n.pendingProps),Ff(e,n,s,p,a);case 3:e:{if($e(n,n.stateNode.containerInfo),e===null)throw Error(l(387));s=n.pendingProps;var m=n.memoizedState;p=m.element,qr(e,n),Ga(n,s,null,a);var b=n.memoizedState;if(s=b.cache,Ti(n,yt,s),s!==m.cache&&Ur(n,[yt],a,!0),Pa(),s=b.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Of(e,n,s,a);break e}else if(s!==p){p=yn(Error(l(424)),n),Ia(p),n=Of(e,n,s,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(nt=Tn(e.firstChild),Ut=n,qe=!0,bi=null,bn=!0,a=Gd(n,null,s,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ao(),s===p){n=ei(e,n,a);break e}zt(e,n,s,a)}n=n.child}return n;case 26:return Wl(e,n),e===null?(a=ah(n.type,null,n.pendingProps,null))?n.memoizedState=a:qe||(a=n.type,e=n.pendingProps,s=gs(se.current).createElement(a),s[Et]=n,s[Gt]=e,Pt(s,a,e),rt(s),n.stateNode=s):n.memoizedState=ah(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return on(n),e===null&&qe&&(s=n.stateNode=nh(n.type,n.pendingProps,se.current),Ut=n,bn=!0,p=nt,zi(n.type)?(Wu=p,nt=Tn(s.firstChild)):nt=p),zt(e,n,n.pendingProps.children,a),Wl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&qe&&((p=s=nt)&&(s=Wv(s,n.type,n.pendingProps,bn),s!==null?(n.stateNode=s,Ut=n,nt=Tn(s.firstChild),bn=!1,p=!0):p=!1),p||Si(n)),on(n),p=n.type,m=n.pendingProps,b=e!==null?e.memoizedProps:null,s=m.children,Ku(p,m)?s=null:b!==null&&Ku(p,b)&&(n.flags|=32),n.memoizedState!==null&&(p=Yr(e,n,hv,null,null,a),ol._currentValue=p),Wl(e,n),zt(e,n,s,a),n.child;case 6:return e===null&&qe&&((e=a=nt)&&(a=ey(a,n.pendingProps,bn),a!==null?(n.stateNode=a,Ut=n,nt=null,e=!0):e=!1),e||Si(n)),null;case 13:return jf(e,n,a);case 4:return $e(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=fo(n,null,s,a):zt(e,n,s,a),n.child;case 11:return zf(e,n,n.type,n.pendingProps,a);case 7:return zt(e,n,n.pendingProps,a),n.child;case 8:return zt(e,n,n.pendingProps.children,a),n.child;case 12:return zt(e,n,n.pendingProps.children,a),n.child;case 10:return s=n.pendingProps,Ti(n,n.type,s.value),zt(e,n,s.children,a),n.child;case 9:return p=n.type._context,s=n.pendingProps.children,so(n),p=Lt(p),s=s(p),n.flags|=1,zt(e,n,s,a),n.child;case 14:return Pf(e,n,n.type,n.pendingProps,a);case 15:return Gf(e,n,n.type,n.pendingProps,a);case 19:return Yf(e,n,a);case 31:return Sv(e,n,a);case 22:return Hf(e,n,a,n.pendingProps);case 24:return so(n),s=Lt(yt),e===null?(p=Pr(),p===null&&(p=et,m=Lr(),p.pooledCache=m,m.refCount++,m!==null&&(p.pooledCacheLanes|=a),p=m),n.memoizedState={parent:s,cache:p},Hr(n),Ti(n,yt,p)):((e.lanes&a)!==0&&(qr(e,n),Ga(n,null,null,a),Pa()),p=e.memoizedState,m=n.memoizedState,p.parent!==s?(p={parent:s,cache:s},n.memoizedState=p,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=p),Ti(n,yt,s)):(s=m.cache,Ti(n,yt,s),s!==p.cache&&Ur(n,[yt],a,!0))),zt(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function ti(e){e.flags|=4}function bu(e,n,a,s,p){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(bp())e.flags|=8192;else throw co=Gl,Gr}else e.flags&=-16777217}function Xf(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ch(n))if(bp())e.flags|=8192;else throw co=Gl,Gr}function ts(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Yi():536870912,e.lanes|=n,$o|=n)}function Oa(e,n){if(!qe)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function it(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(n)for(var p=e.child;p!==null;)a|=p.lanes|p.childLanes,s|=p.subtreeFlags&65011712,s|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)a|=p.lanes|p.childLanes,s|=p.subtreeFlags,s|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=s,e.childLanes=a,n}function Ev(e,n,a){var s=n.pendingProps;switch(Mr(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(n),null;case 1:return it(n),null;case 3:return a=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Qn(yt),ze(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Po(n)?ti(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ir())),it(n),null;case 26:var p=n.type,m=n.memoizedState;return e===null?(ti(n),m!==null?(it(n),Xf(n,m)):(it(n),bu(n,p,null,s,a))):m?m!==e.memoizedState?(ti(n),it(n),Xf(n,m)):(it(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&ti(n),it(n),bu(n,p,e,s,a)),null;case 27:if(gt(n),a=se.current,p=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&ti(n);else{if(!s){if(n.stateNode===null)throw Error(l(166));return it(n),null}e=ae.current,Po(n)?Ad(n):(e=nh(p,s,a),n.stateNode=e,ti(n))}return it(n),null;case 5:if(gt(n),p=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&ti(n);else{if(!s){if(n.stateNode===null)throw Error(l(166));return it(n),null}if(m=ae.current,Po(n))Ad(n);else{var b=gs(se.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof s.is=="string"?b.createElement("select",{is:s.is}):b.createElement("select"),s.multiple?m.multiple=!0:s.size&&(m.size=s.size);break;default:m=typeof s.is=="string"?b.createElement(p,{is:s.is}):b.createElement(p)}}m[Et]=n,m[Gt]=s;e:for(b=n.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===n)break e;for(;b.sibling===null;){if(b.return===null||b.return===n)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}n.stateNode=m;e:switch(Pt(m,p,s),p){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ti(n)}}return it(n),bu(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&ti(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(l(166));if(e=se.current,Po(n)){if(e=n.stateNode,a=n.memoizedProps,s=null,p=Ut,p!==null)switch(p.tag){case 27:case 5:s=p.memoizedProps}e[Et]=n,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||jp(e.nodeValue,a)),e||Si(n,!0)}else e=gs(e).createTextNode(s),e[Et]=n,n.stateNode=e}return it(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(s=Po(n),a!==null){if(e===null){if(!s)throw Error(l(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[Et]=n}else ao(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),e=!1}else a=Ir(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(fn(n),n):(fn(n),null);if((n.flags&128)!==0)throw Error(l(558))}return it(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Po(n),s!==null&&s.dehydrated!==null){if(e===null){if(!p)throw Error(l(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(l(317));p[Et]=n}else ao(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),p=!1}else p=Ir(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return n.flags&256?(fn(n),n):(fn(n),null)}return fn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=n.child,p=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(p=s.alternate.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==p&&(s.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),ts(n,n.updateQueue),it(n),null);case 4:return ze(),e===null&&Fu(n.stateNode.containerInfo),it(n),null;case 10:return Qn(n.type),it(n),null;case 19:if(B(ht),s=n.memoizedState,s===null)return it(n),null;if(p=(n.flags&128)!==0,m=s.rendering,m===null)if(p)Oa(s,!1);else{if(ct!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=Bl(e),m!==null){for(n.flags|=128,Oa(s,!1),e=m.updateQueue,n.updateQueue=e,ts(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Sd(a,e),a=a.sibling;return ee(ht,ht.current&1|2),qe&&Xn(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&Ft()>ls&&(n.flags|=128,p=!0,Oa(s,!1),n.lanes=4194304)}else{if(!p)if(e=Bl(m),e!==null){if(n.flags|=128,p=!0,e=e.updateQueue,n.updateQueue=e,ts(n,e),Oa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!m.alternate&&!qe)return it(n),null}else 2*Ft()-s.renderingStartTime>ls&&a!==536870912&&(n.flags|=128,p=!0,Oa(s,!1),n.lanes=4194304);s.isBackwards?(m.sibling=n.child,n.child=m):(e=s.last,e!==null?e.sibling=m:n.child=m,s.last=m)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ft(),e.sibling=null,a=ht.current,ee(ht,p?a&1|2:a&1),qe&&Xn(n,s.treeForkCount),e):(it(n),null);case 22:case 23:return fn(n),Or(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(a&536870912)!==0&&(n.flags&128)===0&&(it(n),n.subtreeFlags&6&&(n.flags|=8192)):it(n),a=n.updateQueue,a!==null&&ts(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==a&&(n.flags|=2048),e!==null&&B(ro),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Qn(yt),it(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function Cv(e,n){switch(Mr(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Qn(yt),ze(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return gt(n),null;case 31:if(n.memoizedState!==null){if(fn(n),n.alternate===null)throw Error(l(340));ao()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(fn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));ao()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return B(ht),null;case 4:return ze(),null;case 10:return Qn(n.type),null;case 22:case 23:return fn(n),Or(),e!==null&&B(ro),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Qn(yt),null;case 25:return null;default:return null}}function $f(e,n){switch(Mr(n),n.tag){case 3:Qn(yt),ze();break;case 26:case 27:case 5:gt(n);break;case 4:ze();break;case 31:n.memoizedState!==null&&fn(n);break;case 13:fn(n);break;case 19:B(ht);break;case 10:Qn(n.type);break;case 22:case 23:fn(n),Or(),e!==null&&B(ro);break;case 24:Qn(yt)}}function ja(e,n){try{var a=n.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var p=s.next;a=p;do{if((a.tag&e)===e){s=void 0;var m=a.create,b=a.inst;s=m(),b.destroy=s}a=a.next}while(a!==p)}}catch(C){Xe(n,n.return,C)}}function Mi(e,n,a){try{var s=n.updateQueue,p=s!==null?s.lastEffect:null;if(p!==null){var m=p.next;s=m;do{if((s.tag&e)===e){var b=s.inst,C=b.destroy;if(C!==void 0){b.destroy=void 0,p=n;var w=a,G=C;try{G()}catch(O){Xe(p,w,O)}}}s=s.next}while(s!==m)}}catch(O){Xe(n,n.return,O)}}function Qf(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{qd(n,a)}catch(s){Xe(e,e.return,s)}}}function Zf(e,n,a){a.props=ho(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Xe(e,n,s)}}function Ja(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(p){Xe(e,n,p)}}function qn(e,n){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(p){Xe(e,n,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){Xe(e,n,p)}else a.current=null}function Wf(e){var n=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(p){Xe(e,e.return,p)}}function Su(e,n,a){try{var s=e.stateNode;Yv(s,e.type,a,n),s[Gt]=n}catch(p){Xe(e,e.return,p)}}function ep(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zi(e.type)||e.tag===4}function Tu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ep(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Eu(e,n,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ot));else if(s!==4&&(s===27&&zi(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Eu(e,n,a),e=e.sibling;e!==null;)Eu(e,n,a),e=e.sibling}function ns(e,n,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(s!==4&&(s===27&&zi(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ns(e,n,a),e=e.sibling;e!==null;)ns(e,n,a),e=e.sibling}function tp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,p=n.attributes;p.length;)n.removeAttributeNode(p[0]);Pt(n,s,a),n[Et]=e,n[Gt]=a}catch(m){Xe(e,e.return,m)}}var ni=!1,bt=!1,Cu=!1,np=typeof WeakSet=="function"?WeakSet:Set,It=null;function Nv(e,n){if(e=e.containerInfo,Ju=Ts,e=pd(e),yr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var p=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,C=-1,w=-1,G=0,O=0,Q=e,H=null;t:for(;;){for(var V;Q!==a||p!==0&&Q.nodeType!==3||(C=b+p),Q!==m||s!==0&&Q.nodeType!==3||(w=b+s),Q.nodeType===3&&(b+=Q.nodeValue.length),(V=Q.firstChild)!==null;)H=Q,Q=V;for(;;){if(Q===e)break t;if(H===a&&++G===p&&(C=b),H===m&&++O===s&&(w=b),(V=Q.nextSibling)!==null)break;Q=H,H=Q.parentNode}Q=V}a=C===-1||w===-1?null:{start:C,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yu={focusedElem:e,selectionRange:a},Ts=!1,It=n;It!==null;)if(n=It,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,It=e;else for(;It!==null;){switch(n=It,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)p=e[a],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,a=n,p=m.memoizedProps,m=m.memoizedState,s=a.stateNode;try{var he=ho(a.type,p);e=s.getSnapshotBeforeUpdate(he,m),s.__reactInternalSnapshotBeforeUpdate=e}catch(Se){Xe(a,a.return,Se)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)$u(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$u(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=n.sibling,e!==null){e.return=n.return,It=e;break}It=n.return}}function ip(e,n,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:oi(e,a),s&4&&ja(5,a);break;case 1:if(oi(e,a),s&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(b){Xe(a,a.return,b)}else{var p=ho(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(p,n,e.__reactInternalSnapshotBeforeUpdate)}catch(b){Xe(a,a.return,b)}}s&64&&Qf(a),s&512&&Ja(a,a.return);break;case 3:if(oi(e,a),s&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{qd(e,n)}catch(b){Xe(a,a.return,b)}}break;case 27:n===null&&s&4&&tp(a);case 26:case 5:oi(e,a),n===null&&s&4&&Wf(a),s&512&&Ja(a,a.return);break;case 12:oi(e,a);break;case 31:oi(e,a),s&4&&lp(e,a);break;case 13:oi(e,a),s&4&&sp(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Lv.bind(null,a),ty(e,a))));break;case 22:if(s=a.memoizedState!==null||ni,!s){n=n!==null&&n.memoizedState!==null||bt,p=ni;var m=bt;ni=s,(bt=n)&&!m?ai(e,a,(a.subtreeFlags&8772)!==0):oi(e,a),ni=p,bt=m}break;case 30:break;default:oi(e,a)}}function op(e){var n=e.alternate;n!==null&&(e.alternate=null,op(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Qi(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var lt=null,Zt=!1;function ii(e,n,a){for(a=a.child;a!==null;)ap(e,n,a),a=a.sibling}function ap(e,n,a){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Ji,a)}catch{}switch(a.tag){case 26:bt||qn(a,n),ii(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:bt||qn(a,n);var s=lt,p=Zt;zi(a.type)&&(lt=a.stateNode,Zt=!1),ii(e,n,a),tl(a.stateNode),lt=s,Zt=p;break;case 5:bt||qn(a,n);case 6:if(s=lt,p=Zt,lt=null,ii(e,n,a),lt=s,Zt=p,lt!==null)if(Zt)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(m){Xe(a,n,m)}else try{lt.removeChild(a.stateNode)}catch(m){Xe(a,n,m)}break;case 18:lt!==null&&(Zt?(e=lt,Qp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),oa(e)):Qp(lt,a.stateNode));break;case 4:s=lt,p=Zt,lt=a.stateNode.containerInfo,Zt=!0,ii(e,n,a),lt=s,Zt=p;break;case 0:case 11:case 14:case 15:Mi(2,a,n),bt||Mi(4,a,n),ii(e,n,a);break;case 1:bt||(qn(a,n),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Zf(a,n,s)),ii(e,n,a);break;case 21:ii(e,n,a);break;case 22:bt=(s=bt)||a.memoizedState!==null,ii(e,n,a),bt=s;break;default:ii(e,n,a)}}function lp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{oa(e)}catch(a){Xe(n,n.return,a)}}}function sp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{oa(e)}catch(a){Xe(n,n.return,a)}}function Av(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new np),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new np),n;default:throw Error(l(435,e.tag))}}function is(e,n){var a=Av(e);n.forEach(function(s){if(!a.has(s)){a.add(s);var p=zv.bind(null,e,s);s.then(p,p)}})}function Wt(e,n){var a=n.deletions;if(a!==null)for(var s=0;s<a.length;s++){var p=a[s],m=e,b=n,C=b;e:for(;C!==null;){switch(C.tag){case 27:if(zi(C.type)){lt=C.stateNode,Zt=!1;break e}break;case 5:lt=C.stateNode,Zt=!1;break e;case 3:case 4:lt=C.stateNode.containerInfo,Zt=!0;break e}C=C.return}if(lt===null)throw Error(l(160));ap(m,b,p),lt=null,Zt=!1,m=p.alternate,m!==null&&(m.return=null),p.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)rp(n,e),n=n.sibling}var kn=null;function rp(e,n){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Wt(n,e),en(e),s&4&&(Mi(3,e,e.return),ja(3,e),Mi(5,e,e.return));break;case 1:Wt(n,e),en(e),s&512&&(bt||a===null||qn(a,a.return)),s&64&&ni&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var p=kn;if(Wt(n,e),en(e),s&512&&(bt||a===null||qn(a,a.return)),s&4){var m=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,p=p.ownerDocument||p;t:switch(s){case"title":m=p.getElementsByTagName("title")[0],(!m||m[$i]||m[Et]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=p.createElement(s),p.head.insertBefore(m,p.querySelector("head > title"))),Pt(m,s,a),m[Et]=e,rt(m),s=m;break e;case"link":var b=rh("link","href",p).get(s+(a.href||""));if(b){for(var C=0;C<b.length;C++)if(m=b[C],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(C,1);break t}}m=p.createElement(s),Pt(m,s,a),p.head.appendChild(m);break;case"meta":if(b=rh("meta","content",p).get(s+(a.content||""))){for(C=0;C<b.length;C++)if(m=b[C],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(C,1);break t}}m=p.createElement(s),Pt(m,s,a),p.head.appendChild(m);break;default:throw Error(l(468,s))}m[Et]=e,rt(m),s=m}e.stateNode=s}else uh(p,e.type,e.stateNode);else e.stateNode=sh(p,s,e.memoizedProps);else m!==s?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,s===null?uh(p,e.type,e.stateNode):sh(p,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Su(e,e.memoizedProps,a.memoizedProps)}break;case 27:Wt(n,e),en(e),s&512&&(bt||a===null||qn(a,a.return)),a!==null&&s&4&&Su(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Wt(n,e),en(e),s&512&&(bt||a===null||qn(a,a.return)),e.flags&32){p=e.stateNode;try{N(p,"")}catch(he){Xe(e,e.return,he)}}s&4&&e.stateNode!=null&&(p=e.memoizedProps,Su(e,p,a!==null?a.memoizedProps:p)),s&1024&&(Cu=!0);break;case 6:if(Wt(n,e),en(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(he){Xe(e,e.return,he)}}break;case 3:if(xs=null,p=kn,kn=vs(n.containerInfo),Wt(n,e),kn=p,en(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{oa(n.containerInfo)}catch(he){Xe(e,e.return,he)}Cu&&(Cu=!1,up(e));break;case 4:s=kn,kn=vs(e.stateNode.containerInfo),Wt(n,e),en(e),kn=s;break;case 12:Wt(n,e),en(e);break;case 31:Wt(n,e),en(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,is(e,s)));break;case 13:Wt(n,e),en(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(as=Ft()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,is(e,s)));break;case 22:p=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,G=ni,O=bt;if(ni=G||p,bt=O||w,Wt(n,e),bt=O,ni=G,en(e),s&8192)e:for(n=e.stateNode,n._visibility=p?n._visibility&-2:n._visibility|1,p&&(a===null||w||ni||bt||mo(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(m=w.stateNode,p)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{C=w.stateNode;var Q=w.memoizedProps.style,H=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;C.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(he){Xe(w,w.return,he)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=p?"":w.memoizedProps}catch(he){Xe(w,w.return,he)}}}else if(n.tag===18){if(a===null){w=n;try{var V=w.stateNode;p?Zp(V,!0):Zp(w.stateNode,!1)}catch(he){Xe(w,w.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,is(e,a))));break;case 19:Wt(n,e),en(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,is(e,s)));break;case 30:break;case 21:break;default:Wt(n,e),en(e)}}function en(e){var n=e.flags;if(n&2){try{for(var a,s=e.return;s!==null;){if(ep(s)){a=s;break}s=s.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var p=a.stateNode,m=Tu(e);ns(e,m,p);break;case 5:var b=a.stateNode;a.flags&32&&(N(b,""),a.flags&=-33);var C=Tu(e);ns(e,C,b);break;case 3:case 4:var w=a.stateNode.containerInfo,G=Tu(e);Eu(e,G,w);break;default:throw Error(l(161))}}catch(O){Xe(e,e.return,O)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function up(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;up(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function oi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ip(e,n.alternate,n),n=n.sibling}function mo(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Mi(4,n,n.return),mo(n);break;case 1:qn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Zf(n,n.return,a),mo(n);break;case 27:tl(n.stateNode);case 26:case 5:qn(n,n.return),mo(n);break;case 22:n.memoizedState===null&&mo(n);break;case 30:mo(n);break;default:mo(n)}e=e.sibling}}function ai(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,p=e,m=n,b=m.flags;switch(m.tag){case 0:case 11:case 15:ai(p,m,a),ja(4,m);break;case 1:if(ai(p,m,a),s=m,p=s.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(G){Xe(s,s.return,G)}if(s=m,p=s.updateQueue,p!==null){var C=s.stateNode;try{var w=p.shared.hiddenCallbacks;if(w!==null)for(p.shared.hiddenCallbacks=null,p=0;p<w.length;p++)Hd(w[p],C)}catch(G){Xe(s,s.return,G)}}a&&b&64&&Qf(m),Ja(m,m.return);break;case 27:tp(m);case 26:case 5:ai(p,m,a),a&&s===null&&b&4&&Wf(m),Ja(m,m.return);break;case 12:ai(p,m,a);break;case 31:ai(p,m,a),a&&b&4&&lp(p,m);break;case 13:ai(p,m,a),a&&b&4&&sp(p,m);break;case 22:m.memoizedState===null&&ai(p,m,a),Ja(m,m.return);break;case 30:break;default:ai(p,m,a)}n=n.sibling}}function Nu(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ka(a))}function Au(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ka(e))}function Dn(e,n,a,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)cp(e,n,a,s),n=n.sibling}function cp(e,n,a,s){var p=n.flags;switch(n.tag){case 0:case 11:case 15:Dn(e,n,a,s),p&2048&&ja(9,n);break;case 1:Dn(e,n,a,s);break;case 3:Dn(e,n,a,s),p&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ka(e)));break;case 12:if(p&2048){Dn(e,n,a,s),e=n.stateNode;try{var m=n.memoizedProps,b=m.id,C=m.onPostCommit;typeof C=="function"&&C(b,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Xe(n,n.return,w)}}else Dn(e,n,a,s);break;case 31:Dn(e,n,a,s);break;case 13:Dn(e,n,a,s);break;case 23:break;case 22:m=n.stateNode,b=n.alternate,n.memoizedState!==null?m._visibility&2?Dn(e,n,a,s):Ya(e,n):m._visibility&2?Dn(e,n,a,s):(m._visibility|=2,Yo(e,n,a,s,(n.subtreeFlags&10256)!==0||!1)),p&2048&&Nu(b,n);break;case 24:Dn(e,n,a,s),p&2048&&Au(n.alternate,n);break;default:Dn(e,n,a,s)}}function Yo(e,n,a,s,p){for(p=p&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,b=n,C=a,w=s,G=b.flags;switch(b.tag){case 0:case 11:case 15:Yo(m,b,C,w,p),ja(8,b);break;case 23:break;case 22:var O=b.stateNode;b.memoizedState!==null?O._visibility&2?Yo(m,b,C,w,p):Ya(m,b):(O._visibility|=2,Yo(m,b,C,w,p)),p&&G&2048&&Nu(b.alternate,b);break;case 24:Yo(m,b,C,w,p),p&&G&2048&&Au(b.alternate,b);break;default:Yo(m,b,C,w,p)}n=n.sibling}}function Ya(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,s=n,p=s.flags;switch(s.tag){case 22:Ya(a,s),p&2048&&Nu(s.alternate,s);break;case 24:Ya(a,s),p&2048&&Au(s.alternate,s);break;default:Ya(a,s)}n=n.sibling}}var Ka=8192;function Ko(e,n,a){if(e.subtreeFlags&Ka)for(e=e.child;e!==null;)dp(e,n,a),e=e.sibling}function dp(e,n,a){switch(e.tag){case 26:Ko(e,n,a),e.flags&Ka&&e.memoizedState!==null&&py(a,kn,e.memoizedState,e.memoizedProps);break;case 5:Ko(e,n,a);break;case 3:case 4:var s=kn;kn=vs(e.stateNode.containerInfo),Ko(e,n,a),kn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Ka,Ka=16777216,Ko(e,n,a),Ka=s):Ko(e,n,a));break;default:Ko(e,n,a)}}function fp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Xa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];It=s,hp(s,e)}fp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pp(e),e=e.sibling}function pp(e){switch(e.tag){case 0:case 11:case 15:Xa(e),e.flags&2048&&Mi(9,e,e.return);break;case 3:Xa(e);break;case 12:Xa(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,os(e)):Xa(e);break;default:Xa(e)}}function os(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];It=s,hp(s,e)}fp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Mi(8,n,n.return),os(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,os(n));break;default:os(n)}e=e.sibling}}function hp(e,n){for(;It!==null;){var a=It;switch(a.tag){case 0:case 11:case 15:Mi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ka(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,It=s;else e:for(a=e;It!==null;){s=It;var p=s.sibling,m=s.return;if(op(s),s===a){It=null;break e}if(p!==null){p.return=m,It=p;break e}It=m}}}var wv={getCacheForType:function(e){var n=Lt(yt),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Lt(yt).controller.signal}},Mv=typeof WeakMap=="function"?WeakMap:Map,Je=0,et=null,Ue=null,Ge=0,Ke=0,pn=null,Ri=!1,Xo=!1,wu=!1,li=0,ct=0,Ii=0,go=0,Mu=0,hn=0,$o=0,$a=null,tn=null,Ru=!1,as=0,mp=0,ls=1/0,ss=null,ki=null,At=0,Di=null,Qo=null,si=0,Iu=0,ku=null,gp=null,Qa=0,Du=null;function mn(){return(Je&2)!==0&&Ge!==0?Ge&-Ge:q.T!==null?Hu():gl()}function vp(){if(hn===0)if((Ge&536870912)===0||qe){var e=So;So<<=1,(So&3932160)===0&&(So=262144),hn=e}else hn=536870912;return e=dn.current,e!==null&&(e.flags|=32),hn}function nn(e,n,a){(e===et&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)&&(Zo(e,0),Ui(e,Ge,hn,!1)),wn(e,a),((Je&2)===0||e!==et)&&(e===et&&((Je&2)===0&&(go|=a),ct===4&&Ui(e,Ge,hn,!1)),Vn(e))}function yp(e,n,a){if((Je&6)!==0)throw Error(l(327));var s=!a&&(n&127)===0&&(n&e.expiredLanes)===0||hi(e,n),p=s?kv(e,n):Lu(e,n,!0),m=s;do{if(p===0){Xo&&!s&&Ui(e,n,0,!1);break}else{if(a=e.current.alternate,m&&!Rv(a)){p=Lu(e,n,!1),m=!1;continue}if(p===2){if(m=n,e.errorRecoveryDisabledLanes&m)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var C=e;p=$a;var w=C.current.memoizedState.isDehydrated;if(w&&(Zo(C,b).flags|=256),b=Lu(C,b,!1),b!==2){if(wu&&!w){C.errorRecoveryDisabledLanes|=m,go|=m,p=4;break e}m=tn,tn=p,m!==null&&(tn===null?tn=m:tn.push.apply(tn,m))}p=b}if(m=!1,p!==2)continue}}if(p===1){Zo(e,0),Ui(e,n,0,!0);break}e:{switch(s=e,m=p,m){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:Ui(s,n,hn,!Ri);break e;case 2:tn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(p=as+300-Ft(),10<p)){if(Ui(s,n,hn,!Ri),On(s,0,!0)!==0)break e;si=n,s.timeoutHandle=Xp(xp.bind(null,s,a,tn,ss,Ru,n,hn,go,$o,Ri,m,"Throttled",-0,0),p);break e}xp(s,a,tn,ss,Ru,n,hn,go,$o,Ri,m,null,-0,0)}}break}while(!0);Vn(e)}function xp(e,n,a,s,p,m,b,C,w,G,O,Q,H,V){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ot},dp(n,m,Q);var he=(m&62914560)===m?as-Ft():(m&4194048)===m?mp-Ft():0;if(he=hy(Q,he),he!==null){si=m,e.cancelPendingCommit=he(Ap.bind(null,e,n,m,a,s,p,b,C,w,O,Q,null,H,V)),Ui(e,m,b,!G);return}}Ap(e,n,m,a,s,p,b,C,w)}function Rv(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var p=a[s],m=p.getSnapshot;p=p.value;try{if(!un(m(),p))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ui(e,n,a,s){n&=~Mu,n&=~go,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var p=n;0<p;){var m=31-St(p),b=1<<m;s[m]=-1,p&=~b}a!==0&&ml(e,a,n)}function rs(){return(Je&6)===0?(Za(0),!1):!0}function Uu(){if(Ue!==null){if(Ke===0)var e=Ue.return;else e=Ue,$n=lo=null,$r(e),Bo=null,Ua=0,e=Ue;for(;e!==null;)$f(e.alternate,e),e=e.return;Ue=null}}function Zo(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,$v(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),si=0,Uu(),et=e,Ue=a=Kn(e.current,null),Ge=n,Ke=0,pn=null,Ri=!1,Xo=hi(e,n),wu=!1,$o=hn=Mu=go=Ii=ct=0,tn=$a=null,Ru=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var p=31-St(s),m=1<<p;n|=e[p],s&=~m}return li=n,Ml(),a}function _p(e,n){Me=null,q.H=Ba,n===Vo||n===Pl?(n=Ld(),Ke=3):n===Gr?(n=Ld(),Ke=4):Ke=n===fu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,Ue===null&&(ct=1,Ql(e,yn(n,e.current)))}function bp(){var e=dn.current;return e===null?!0:(Ge&4194048)===Ge?Sn===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?e===Sn:!1}function Sp(){var e=q.H;return q.H=Ba,e===null?Ba:e}function Tp(){var e=q.A;return q.A=wv,e}function us(){ct=4,Ri||(Ge&4194048)!==Ge&&dn.current!==null||(Xo=!0),(Ii&134217727)===0&&(go&134217727)===0||et===null||Ui(et,Ge,hn,!1)}function Lu(e,n,a){var s=Je;Je|=2;var p=Sp(),m=Tp();(et!==e||Ge!==n)&&(ss=null,Zo(e,n)),n=!1;var b=ct;e:do try{if(Ke!==0&&Ue!==null){var C=Ue,w=pn;switch(Ke){case 8:Uu(),b=6;break e;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var G=Ke;if(Ke=0,pn=null,Wo(e,C,w,G),a&&Xo){b=0;break e}break;default:G=Ke,Ke=0,pn=null,Wo(e,C,w,G)}}Iv(),b=ct;break}catch(O){_p(e,O)}while(!0);return n&&e.shellSuspendCounter++,$n=lo=null,Je=s,q.H=p,q.A=m,Ue===null&&(et=null,Ge=0,Ml()),b}function Iv(){for(;Ue!==null;)Ep(Ue)}function kv(e,n){var a=Je;Je|=2;var s=Sp(),p=Tp();et!==e||Ge!==n?(ss=null,ls=Ft()+500,Zo(e,n)):Xo=hi(e,n);e:do try{if(Ke!==0&&Ue!==null){n=Ue;var m=pn;t:switch(Ke){case 1:Ke=0,pn=null,Wo(e,n,m,1);break;case 2:case 9:if(Dd(m)){Ke=0,pn=null,Cp(n);break}n=function(){Ke!==2&&Ke!==9||et!==e||(Ke=7),Vn(e)},m.then(n,n);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Dd(m)?(Ke=0,pn=null,Cp(n)):(Ke=0,pn=null,Wo(e,n,m,7));break;case 5:var b=null;switch(Ue.tag){case 26:b=Ue.memoizedState;case 5:case 27:var C=Ue;if(b?ch(b):C.stateNode.complete){Ke=0,pn=null;var w=C.sibling;if(w!==null)Ue=w;else{var G=C.return;G!==null?(Ue=G,cs(G)):Ue=null}break t}}Ke=0,pn=null,Wo(e,n,m,5);break;case 6:Ke=0,pn=null,Wo(e,n,m,6);break;case 8:Uu(),ct=6;break e;default:throw Error(l(462))}}Dv();break}catch(O){_p(e,O)}while(!0);return $n=lo=null,q.H=s,q.A=p,Je=a,Ue!==null?0:(et=null,Ge=0,Ml(),ct)}function Dv(){for(;Ue!==null&&!xo();)Ep(Ue)}function Ep(e){var n=Kf(e.alternate,e,li);e.memoizedProps=e.pendingProps,n===null?cs(e):Ue=n}function Cp(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Bf(a,n,n.pendingProps,n.type,void 0,Ge);break;case 11:n=Bf(a,n,n.pendingProps,n.type.render,n.ref,Ge);break;case 5:$r(n);default:$f(a,n),n=Ue=Sd(n,li),n=Kf(a,n,li)}e.memoizedProps=e.pendingProps,n===null?cs(e):Ue=n}function Wo(e,n,a,s){$n=lo=null,$r(n),Bo=null,Ua=0;var p=n.return;try{if(bv(e,p,n,a,Ge)){ct=1,Ql(e,yn(a,e.current)),Ue=null;return}}catch(m){if(p!==null)throw Ue=p,m;ct=1,Ql(e,yn(a,e.current)),Ue=null;return}n.flags&32768?(qe||s===1?e=!0:Xo||(Ge&536870912)!==0?e=!1:(Ri=e=!0,(s===2||s===9||s===3||s===6)&&(s=dn.current,s!==null&&s.tag===13&&(s.flags|=16384))),Np(n,e)):cs(n)}function cs(e){var n=e;do{if((n.flags&32768)!==0){Np(n,Ri);return}e=n.return;var a=Ev(n.alternate,n,li);if(a!==null){Ue=a;return}if(n=n.sibling,n!==null){Ue=n;return}Ue=n=e}while(n!==null);ct===0&&(ct=5)}function Np(e,n){do{var a=Cv(e.alternate,e);if(a!==null){a.flags&=32767,Ue=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Ue=e;return}Ue=e=a}while(e!==null);ct=6,Ue=null}function Ap(e,n,a,s,p,m,b,C,w){e.cancelPendingCommit=null;do ds();while(At!==0);if((Je&6)!==0)throw Error(l(327));if(n!==null){if(n===e.current)throw Error(l(177));if(m=n.lanes|n.childLanes,m|=Tr,mi(e,a,m,b,C,w),e===et&&(Ue=et=null,Ge=0),Qo=n,Di=e,si=a,Iu=m,ku=p,gp=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Pv(pi,function(){return kp(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null,p=te.p,te.p=2,b=Je,Je|=4;try{Nv(e,n,a)}finally{Je=b,te.p=p,q.T=s}}At=1,wp(),Mp(),Rp()}}function wp(){if(At===1){At=0;var e=Di,n=Qo,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var s=te.p;te.p=2;var p=Je;Je|=4;try{rp(n,e);var m=Yu,b=pd(e.containerInfo),C=m.focusedElem,w=m.selectionRange;if(b!==C&&C&&C.ownerDocument&&fd(C.ownerDocument.documentElement,C)){if(w!==null&&yr(C)){var G=w.start,O=w.end;if(O===void 0&&(O=G),"selectionStart"in C)C.selectionStart=G,C.selectionEnd=Math.min(O,C.value.length);else{var Q=C.ownerDocument||document,H=Q&&Q.defaultView||window;if(H.getSelection){var V=H.getSelection(),he=C.textContent.length,Se=Math.min(w.start,he),We=w.end===void 0?Se:Math.min(w.end,he);!V.extend&&Se>We&&(b=We,We=Se,Se=b);var L=dd(C,Se),D=dd(C,We);if(L&&D&&(V.rangeCount!==1||V.anchorNode!==L.node||V.anchorOffset!==L.offset||V.focusNode!==D.node||V.focusOffset!==D.offset)){var P=Q.createRange();P.setStart(L.node,L.offset),V.removeAllRanges(),Se>We?(V.addRange(P),V.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),V.addRange(P))}}}}for(Q=[],V=C;V=V.parentNode;)V.nodeType===1&&Q.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<Q.length;C++){var J=Q[C];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Ts=!!Ju,Yu=Ju=null}finally{Je=p,te.p=s,q.T=a}}e.current=n,At=2}}function Mp(){if(At===2){At=0;var e=Di,n=Qo,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var s=te.p;te.p=2;var p=Je;Je|=4;try{ip(e,n.alternate,n)}finally{Je=p,te.p=s,q.T=a}}At=3}}function Rp(){if(At===4||At===3){At=0,ji();var e=Di,n=Qo,a=si,s=gp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?At=5:(At=0,Qo=Di=null,Ip(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(ki=null),va(a),n=n.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Ji,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=q.T,p=te.p,te.p=2,q.T=null;try{for(var m=e.onRecoverableError,b=0;b<s.length;b++){var C=s[b];m(C.value,{componentStack:C.stack})}}finally{q.T=n,te.p=p}}(si&3)!==0&&ds(),Vn(e),p=e.pendingLanes,(a&261930)!==0&&(p&42)!==0?e===Du?Qa++:(Qa=0,Du=e):Qa=0,Za(0)}}function Ip(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ka(n)))}function ds(){return wp(),Mp(),Rp(),kp()}function kp(){if(At!==5)return!1;var e=Di,n=Iu;Iu=0;var a=va(si),s=q.T,p=te.p;try{te.p=32>a?32:a,q.T=null,a=ku,ku=null;var m=Di,b=si;if(At=0,Qo=Di=null,si=0,(Je&6)!==0)throw Error(l(331));var C=Je;if(Je|=4,pp(m.current),cp(m,m.current,b,a),Je=C,Za(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Ji,m)}catch{}return!0}finally{te.p=p,q.T=s,Ip(e,n)}}function Dp(e,n,a){n=yn(a,n),n=du(e.stateNode,n,2),e=Ni(e,n,2),e!==null&&(wn(e,2),Vn(e))}function Xe(e,n,a){if(e.tag===3)Dp(e,e,a);else for(;n!==null;){if(n.tag===3){Dp(n,e,a);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ki===null||!ki.has(s))){e=yn(a,e),a=Uf(2),s=Ni(n,a,2),s!==null&&(Lf(a,s,n,e),wn(s,2),Vn(s));break}}n=n.return}}function zu(e,n,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Mv;var p=new Set;s.set(n,p)}else p=s.get(n),p===void 0&&(p=new Set,s.set(n,p));p.has(a)||(wu=!0,p.add(a),e=Uv.bind(null,e,n,a),n.then(e,e))}function Uv(e,n,a){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,et===e&&(Ge&a)===a&&(ct===4||ct===3&&(Ge&62914560)===Ge&&300>Ft()-as?(Je&2)===0&&Zo(e,0):Mu|=a,$o===Ge&&($o=0)),Vn(e)}function Up(e,n){n===0&&(n=Yi()),e=io(e,n),e!==null&&(wn(e,n),Vn(e))}function Lv(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Up(e,a)}function zv(e,n){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,p=e.memoizedState;p!==null&&(a=p.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(n),Up(e,a)}function Pv(e,n){return Dt(e,n)}var fs=null,ea=null,Pu=!1,ps=!1,Gu=!1,Li=0;function Vn(e){e!==ea&&e.next===null&&(ea===null?fs=ea=e:ea=ea.next=e),ps=!0,Pu||(Pu=!0,Hv())}function Za(e,n){if(!Gu&&ps){Gu=!0;do for(var a=!1,s=fs;s!==null;){if(e!==0){var p=s.pendingLanes;if(p===0)var m=0;else{var b=s.suspendedLanes,C=s.pingedLanes;m=(1<<31-St(42|e)+1)-1,m&=p&~(b&~C),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Gp(s,m))}else m=Ge,m=On(s,s===et?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(m&3)===0||hi(s,m)||(a=!0,Gp(s,m));s=s.next}while(a);Gu=!1}}function Gv(){Lp()}function Lp(){ps=Pu=!1;var e=0;Li!==0&&Xv()&&(e=Li);for(var n=Ft(),a=null,s=fs;s!==null;){var p=s.next,m=zp(s,n);m===0?(s.next=null,a===null?fs=p:a.next=p,p===null&&(ea=a)):(a=s,(e!==0||(m&3)!==0)&&(ps=!0)),s=p}At!==0&&At!==5||Za(e),Li!==0&&(Li=0)}function zp(e,n){for(var a=e.suspendedLanes,s=e.pingedLanes,p=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var b=31-St(m),C=1<<b,w=p[b];w===-1?((C&a)===0||(C&s)!==0)&&(p[b]=ur(C,n)):w<=n&&(e.expiredLanes|=C),m&=~C}if(n=et,a=Ge,a=On(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===n&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&tt(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||hi(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(s!==null&&tt(s),va(a)){case 2:case 8:a=_o;break;case 32:a=pi;break;case 268435456:a=hl;break;default:a=pi}return s=Pp.bind(null,e),a=Dt(a,s),e.callbackPriority=n,e.callbackNode=a,n}return s!==null&&s!==null&&tt(s),e.callbackPriority=2,e.callbackNode=null,2}function Pp(e,n){if(At!==0&&At!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ds()&&e.callbackNode!==a)return null;var s=Ge;return s=On(e,e===et?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(yp(e,s,n),zp(e,Ft()),e.callbackNode!=null&&e.callbackNode===a?Pp.bind(null,e):null)}function Gp(e,n){if(ds())return null;yp(e,n,!0)}function Hv(){Qv(function(){(Je&6)!==0?Dt(nr,Gv):Lp()})}function Hu(){if(Li===0){var e=Ho;e===0&&(e=bo,bo<<=1,(bo&261888)===0&&(bo=256)),Li=e}return Li}function Hp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ct(""+e)}function qp(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function qv(e,n,a,s,p){if(n==="submit"&&a&&a.stateNode===p){var m=Hp((p[Gt]||null).action),b=s.submitter;b&&(n=(n=b[Gt]||null)?Hp(n.formAction):b.getAttribute("formAction"),n!==null&&(m=n,b=null));var C=new Cl("action","action",null,s,p);e.push({event:C,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Li!==0){var w=b?qp(p,b):new FormData(p);au(a,{pending:!0,data:w,method:p.method,action:m},null,w)}}else typeof m=="function"&&(C.preventDefault(),w=b?qp(p,b):new FormData(p),au(a,{pending:!0,data:w,method:p.method,action:m},m,w))},currentTarget:p}]})}}for(var qu=0;qu<Sr.length;qu++){var Vu=Sr[qu],Vv=Vu.toLowerCase(),Bv=Vu[0].toUpperCase()+Vu.slice(1);In(Vv,"on"+Bv)}In(gd,"onAnimationEnd"),In(vd,"onAnimationIteration"),In(yd,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(ov,"onTransitionRun"),In(av,"onTransitionStart"),In(lv,"onTransitionCancel"),In(xd,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),ft("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ft("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ft("onBeforeInput",["compositionend","keypress","textInput","paste"]),ft("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ft("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ft("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wa));function Vp(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],p=s.event;s=s.listeners;e:{var m=void 0;if(n)for(var b=s.length-1;0<=b;b--){var C=s[b],w=C.instance,G=C.currentTarget;if(C=C.listener,w!==m&&p.isPropagationStopped())break e;m=C,p.currentTarget=G;try{m(p)}catch(O){wl(O)}p.currentTarget=null,m=w}else for(b=0;b<s.length;b++){if(C=s[b],w=C.instance,G=C.currentTarget,C=C.listener,w!==m&&p.isPropagationStopped())break e;m=C,p.currentTarget=G;try{m(p)}catch(O){wl(O)}p.currentTarget=null,m=w}}}}function Le(e,n){var a=n[Xi];a===void 0&&(a=n[Xi]=new Set);var s=e+"__bubble";a.has(s)||(Bp(n,e,2,!1),a.add(s))}function Bu(e,n,a){var s=0;n&&(s|=4),Bp(a,e,s,n)}var hs="_reactListening"+Math.random().toString(36).slice(2);function Fu(e){if(!e[hs]){e[hs]=!0,ya.forEach(function(a){a!=="selectionchange"&&(Fv.has(a)||Bu(a,!1,e),Bu(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hs]||(n[hs]=!0,Bu("selectionchange",!1,n))}}function Bp(e,n,a,s){switch(vh(n)){case 2:var p=vy;break;case 8:p=yy;break;default:p=oc}a=p.bind(null,n,a,e),p=void 0,!Yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),s?p!==void 0?e.addEventListener(n,a,{capture:!0,passive:p}):e.addEventListener(n,a,!0):p!==void 0?e.addEventListener(n,a,{passive:p}):e.addEventListener(n,a,!1)}function Ou(e,n,a,s,p){var m=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var b=s.tag;if(b===3||b===4){var C=s.stateNode.containerInfo;if(C===p)break;if(b===4)for(b=s.return;b!==null;){var w=b.tag;if((w===3||w===4)&&b.stateNode.containerInfo===p)return;b=b.return}for(;C!==null;){if(b=gi(C),b===null)return;if(w=b.tag,w===5||w===6||w===26||w===27){s=m=b;continue e}C=C.parentNode}}s=s.return}Jn(function(){var G=m,O=rn(a),Q=[];e:{var H=_d.get(e);if(H!==void 0){var V=Cl,he=e;switch(e){case"keypress":if(Tl(a)===0)break e;case"keydown":case"keyup":V=zg;break;case"focusin":he="focus",V=pr;break;case"focusout":he="blur",V=pr;break;case"beforeblur":case"afterblur":V=pr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Xc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Eg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Hg;break;case gd:case vd:case yd:V=Ag;break;case xd:V=Vg;break;case"scroll":case"scrollend":V=Sg;break;case"wheel":V=Fg;break;case"copy":case"cut":case"paste":V=Mg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Qc;break;case"toggle":case"beforetoggle":V=jg}var Se=(n&4)!==0,We=!Se&&(e==="scroll"||e==="scrollend"),L=Se?H!==null?H+"Capture":null:H;Se=[];for(var D=G,P;D!==null;){var J=D;if(P=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||P===null||L===null||(J=Mt(D,L),J!=null&&Se.push(el(D,J,P))),We)break;D=D.return}0<Se.length&&(H=new V(H,he,null,a,O),Q.push({event:H,listeners:Se}))}}if((n&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",H&&a!==at&&(he=a.relatedTarget||a.fromElement)&&(gi(he)||he[gn]))break e;if((V||H)&&(H=O.window===O?O:(H=O.ownerDocument)?H.defaultView||H.parentWindow:window,V?(he=a.relatedTarget||a.toElement,V=G,he=he?gi(he):null,he!==null&&(We=d(he),Se=he.tag,he!==We||Se!==5&&Se!==27&&Se!==6)&&(he=null)):(V=null,he=G),V!==he)){if(Se=Xc,J="onMouseLeave",L="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(Se=Qc,J="onPointerLeave",L="onPointerEnter",D="pointer"),We=V==null?H:yi(V),P=he==null?H:yi(he),H=new Se(J,D+"leave",V,a,O),H.target=We,H.relatedTarget=P,J=null,gi(O)===G&&(Se=new Se(L,D+"enter",he,a,O),Se.target=P,Se.relatedTarget=We,J=Se),We=J,V&&he)t:{for(Se=Ov,L=V,D=he,P=0,J=L;J;J=Se(J))P++;J=0;for(var xe=D;xe;xe=Se(xe))J++;for(;0<P-J;)L=Se(L),P--;for(;0<J-P;)D=Se(D),J--;for(;P--;){if(L===D||D!==null&&L===D.alternate){Se=L;break t}L=Se(L),D=Se(D)}Se=null}else Se=null;V!==null&&Fp(Q,H,V,Se,!1),he!==null&&We!==null&&Fp(Q,We,he,Se,!0)}}e:{if(H=G?yi(G):window,V=H.nodeName&&H.nodeName.toLowerCase(),V==="select"||V==="input"&&H.type==="file")var Fe=ad;else if(id(H))if(ld)Fe=tv;else{Fe=Wg;var ve=Zg}else V=H.nodeName,!V||V.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?G&&_e(G.elementType)&&(Fe=ad):Fe=ev;if(Fe&&(Fe=Fe(e,G))){od(Q,Fe,a,O);break e}ve&&ve(e,H,G),e==="focusout"&&G&&H.type==="number"&&G.memoizedProps.value!=null&&Wi(H,"number",H.value)}switch(ve=G?yi(G):window,e){case"focusin":(id(ve)||ve.contentEditable==="true")&&(Io=ve,xr=G,Ma=null);break;case"focusout":Ma=xr=Io=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,hd(Q,a,O);break;case"selectionchange":if(iv)break;case"keydown":case"keyup":hd(Q,a,O)}var Re;if(mr)e:{switch(e){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Ro?td(e,a)&&(He="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(He="onCompositionStart");He&&(Zc&&a.locale!=="ko"&&(Ro||He!=="onCompositionStart"?He==="onCompositionEnd"&&Ro&&(Re=Yc()):(Pe=O,pt="value"in Pe?Pe.value:Pe.textContent,Ro=!0)),ve=ms(G,He),0<ve.length&&(He=new $c(He,e,null,a,O),Q.push({event:He,listeners:ve}),Re?He.data=Re:(Re=nd(a),Re!==null&&(He.data=Re)))),(Re=Yg?Kg(e,a):Xg(e,a))&&(He=ms(G,"onBeforeInput"),0<He.length&&(ve=new $c("onBeforeInput","beforeinput",null,a,O),Q.push({event:ve,listeners:He}),ve.data=Re)),qv(Q,e,G,a,O)}Vp(Q,n)})}function el(e,n,a){return{instance:e,listener:n,currentTarget:a}}function ms(e,n){for(var a=n+"Capture",s=[];e!==null;){var p=e,m=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||m===null||(p=Mt(e,a),p!=null&&s.unshift(el(e,p,m)),p=Mt(e,n),p!=null&&s.push(el(e,p,m))),e.tag===3)return s;e=e.return}return[]}function Ov(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fp(e,n,a,s,p){for(var m=n._reactName,b=[];a!==null&&a!==s;){var C=a,w=C.alternate,G=C.stateNode;if(C=C.tag,w!==null&&w===s)break;C!==5&&C!==26&&C!==27||G===null||(w=G,p?(G=Mt(a,m),G!=null&&b.unshift(el(a,G,w))):p||(G=Mt(a,m),G!=null&&b.push(el(a,G,w)))),a=a.return}b.length!==0&&e.push({event:n,listeners:b})}var jv=/\r\n?/g,Jv=/\u0000|\uFFFD/g;function Op(e){return(typeof e=="string"?e:""+e).replace(jv,`
`).replace(Jv,"")}function jp(e,n){return n=Op(n),Op(e)===n}function Ze(e,n,a,s,p,m){switch(a){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||N(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&N(e,""+s);break;case"className":Co(e,"class",s);break;case"tabIndex":Co(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Co(e,a,s);break;case"style":ce(e,s,m);break;case"data":if(n!=="object"){Co(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Ct(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(n!=="input"&&Ze(e,n,"name",p.name,p,null),Ze(e,n,"formEncType",p.formEncType,p,null),Ze(e,n,"formMethod",p.formMethod,p,null),Ze(e,n,"formTarget",p.formTarget,p,null)):(Ze(e,n,"encType",p.encType,p,null),Ze(e,n,"method",p.method,p,null),Ze(e,n,"target",p.target,p,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Ct(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=ot);break;case"onScroll":s!=null&&Le("scroll",e);break;case"onScrollEnd":s!=null&&Le("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(p.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Ct(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":Le("beforetoggle",e),Le("toggle",e),Eo(e,"popover",s);break;case"xlinkActuate":an(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":an(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":an(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":an(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":an(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":an(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":an(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":an(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":an(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Eo(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=De.get(a)||a,Eo(e,a,s))}}function ju(e,n,a,s,p,m){switch(a){case"style":ce(e,s,m);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(p.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof s=="string"?N(e,s):(typeof s=="number"||typeof s=="bigint")&&N(e,""+s);break;case"onScroll":s!=null&&Le("scroll",e);break;case"onScrollEnd":s!=null&&Le("scrollend",e);break;case"onClick":s!=null&&(e.onclick=ot);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),n=a.slice(2,p?a.length-7:void 0),m=e[Gt]||null,m=m!=null?m[a]:null,typeof m=="function"&&e.removeEventListener(n,m,p),typeof s=="function")){typeof m!="function"&&m!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,s,p);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Eo(e,a,s)}}}function Pt(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",e),Le("load",e);var s=!1,p=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":s=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ze(e,n,m,b,a,null)}}p&&Ze(e,n,"srcSet",a.srcSet,a,null),s&&Ze(e,n,"src",a.src,a,null);return;case"input":Le("invalid",e);var C=m=b=p=null,w=null,G=null;for(s in a)if(a.hasOwnProperty(s)){var O=a[s];if(O!=null)switch(s){case"name":p=O;break;case"type":b=O;break;case"checked":w=O;break;case"defaultChecked":G=O;break;case"value":m=O;break;case"defaultValue":C=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(l(137,n));break;default:Ze(e,n,s,O,a,null)}}Sl(e,m,C,w,G,b,p,!1);return;case"select":Le("invalid",e),s=b=m=null;for(p in a)if(a.hasOwnProperty(p)&&(C=a[p],C!=null))switch(p){case"value":m=C;break;case"defaultValue":b=C;break;case"multiple":s=C;default:Ze(e,n,p,C,a,null)}n=m,a=b,e.multiple=!!s,n!=null?Rn(e,!!s,n,!1):a!=null&&Rn(e,!!s,a,!0);return;case"textarea":Le("invalid",e),m=p=s=null;for(b in a)if(a.hasOwnProperty(b)&&(C=a[b],C!=null))switch(b){case"value":s=C;break;case"defaultValue":p=C;break;case"children":m=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(l(91));break;default:Ze(e,n,b,C,a,null)}T(e,s,p,m);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(s=a[w],s!=null))switch(w){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ze(e,n,w,s,a,null)}return;case"dialog":Le("beforetoggle",e),Le("toggle",e),Le("cancel",e),Le("close",e);break;case"iframe":case"object":Le("load",e);break;case"video":case"audio":for(s=0;s<Wa.length;s++)Le(Wa[s],e);break;case"image":Le("error",e),Le("load",e);break;case"details":Le("toggle",e);break;case"embed":case"source":case"link":Le("error",e),Le("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(s=a[G],s!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ze(e,n,G,s,a,null)}return;default:if(_e(n)){for(O in a)a.hasOwnProperty(O)&&(s=a[O],s!==void 0&&ju(e,n,O,s,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(s=a[C],s!=null&&Ze(e,n,C,s,a,null))}function Yv(e,n,a,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,m=null,b=null,C=null,w=null,G=null,O=null;for(V in a){var Q=a[V];if(a.hasOwnProperty(V)&&Q!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":w=Q;default:s.hasOwnProperty(V)||Ze(e,n,V,null,s,Q)}}for(var H in s){var V=s[H];if(Q=a[H],s.hasOwnProperty(H)&&(V!=null||Q!=null))switch(H){case"type":m=V;break;case"name":p=V;break;case"checked":G=V;break;case"defaultChecked":O=V;break;case"value":b=V;break;case"defaultValue":C=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(l(137,n));break;default:V!==Q&&Ze(e,n,H,V,s,Q)}}wo(e,b,C,w,G,O,m,p);return;case"select":V=b=C=H=null;for(m in a)if(w=a[m],a.hasOwnProperty(m)&&w!=null)switch(m){case"value":break;case"multiple":V=w;default:s.hasOwnProperty(m)||Ze(e,n,m,null,s,w)}for(p in s)if(m=s[p],w=a[p],s.hasOwnProperty(p)&&(m!=null||w!=null))switch(p){case"value":H=m;break;case"defaultValue":C=m;break;case"multiple":b=m;default:m!==w&&Ze(e,n,p,m,s,w)}n=C,a=b,s=V,H!=null?Rn(e,!!a,H,!1):!!s!=!!a&&(n!=null?Rn(e,!!a,n,!0):Rn(e,!!a,a?[]:"",!1));return;case"textarea":V=H=null;for(C in a)if(p=a[C],a.hasOwnProperty(C)&&p!=null&&!s.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ze(e,n,C,null,s,p)}for(b in s)if(p=s[b],m=a[b],s.hasOwnProperty(b)&&(p!=null||m!=null))switch(b){case"value":H=p;break;case"defaultValue":V=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(l(91));break;default:p!==m&&Ze(e,n,b,p,s,m)}Sa(e,H,V);return;case"option":for(var he in a)if(H=a[he],a.hasOwnProperty(he)&&H!=null&&!s.hasOwnProperty(he))switch(he){case"selected":e.selected=!1;break;default:Ze(e,n,he,null,s,H)}for(w in s)if(H=s[w],V=a[w],s.hasOwnProperty(w)&&H!==V&&(H!=null||V!=null))switch(w){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ze(e,n,w,H,s,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)H=a[Se],a.hasOwnProperty(Se)&&H!=null&&!s.hasOwnProperty(Se)&&Ze(e,n,Se,null,s,H);for(G in s)if(H=s[G],V=a[G],s.hasOwnProperty(G)&&H!==V&&(H!=null||V!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(l(137,n));break;default:Ze(e,n,G,H,s,V)}return;default:if(_e(n)){for(var We in a)H=a[We],a.hasOwnProperty(We)&&H!==void 0&&!s.hasOwnProperty(We)&&ju(e,n,We,void 0,s,H);for(O in s)H=s[O],V=a[O],!s.hasOwnProperty(O)||H===V||H===void 0&&V===void 0||ju(e,n,O,H,s,V);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!s.hasOwnProperty(L)&&Ze(e,n,L,null,s,H);for(Q in s)H=s[Q],V=a[Q],!s.hasOwnProperty(Q)||H===V||H==null&&V==null||Ze(e,n,Q,H,s,V)}function Jp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var p=a[s],m=p.transferSize,b=p.initiatorType,C=p.duration;if(m&&C&&Jp(b)){for(b=0,C=p.responseEnd,s+=1;s<a.length;s++){var w=a[s],G=w.startTime;if(G>C)break;var O=w.transferSize,Q=w.initiatorType;O&&Jp(Q)&&(w=w.responseEnd,b+=O*(w<C?1:(C-G)/(w-G)))}if(--s,n+=8*(m+b)/(p.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ju=null,Yu=null;function gs(e){return e.nodeType===9?e:e.ownerDocument}function Yp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ku(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Xu=null;function Xv(){var e=window.event;return e&&e.type==="popstate"?e===Xu?!1:(Xu=e,!0):(Xu=null,!1)}var Xp=typeof setTimeout=="function"?setTimeout:void 0,$v=typeof clearTimeout=="function"?clearTimeout:void 0,$p=typeof Promise=="function"?Promise:void 0,Qv=typeof queueMicrotask=="function"?queueMicrotask:typeof $p<"u"?function(e){return $p.resolve(null).then(e).catch(Zv)}:Xp;function Zv(e){setTimeout(function(){throw e})}function zi(e){return e==="head"}function Qp(e,n){var a=n,s=0;do{var p=a.nextSibling;if(e.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(p),oa(n);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")tl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,tl(a);for(var m=a.firstChild;m;){var b=m.nextSibling,C=m.nodeName;m[$i]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=b}}else a==="body"&&tl(e.ownerDocument.body);a=p}while(a);oa(n)}function Zp(e,n){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function $u(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$u(a),Qi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Wv(e,n,a,s){for(;e.nodeType===1;){var p=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[$i])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Tn(e.nextSibling),e===null)break}return null}function ey(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Tn(e.nextSibling),e===null))return null;return e}function Wp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Tn(e.nextSibling),e===null))return null;return e}function Qu(e){return e.data==="$?"||e.data==="$~"}function Zu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ty(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var s=function(){n(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Tn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Wu=null;function eh(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Tn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function th(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function nh(e,n,a){switch(n=gs(a),e){case"html":if(e=n.documentElement,!e)throw Error(l(452));return e;case"head":if(e=n.head,!e)throw Error(l(453));return e;case"body":if(e=n.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function tl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Qi(e)}var En=new Map,ih=new Set;function vs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ri=te.d;te.d={f:ny,r:iy,D:oy,C:ay,L:ly,m:sy,X:uy,S:ry,M:cy};function ny(){var e=ri.f(),n=rs();return e||n}function iy(e){var n=vi(e);n!==null&&n.tag===5&&n.type==="form"?_f(n):ri.r(e)}var ta=typeof document>"u"?null:document;function oh(e,n,a){var s=ta;if(s&&typeof n=="string"&&n){var p=$t(n);p='link[rel="'+e+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),ih.has(p)||(ih.add(p),e={rel:e,crossOrigin:a,href:n},s.querySelector(p)===null&&(n=s.createElement("link"),Pt(n,"link",e),rt(n),s.head.appendChild(n)))}}function oy(e){ri.D(e),oh("dns-prefetch",e,null)}function ay(e,n){ri.C(e,n),oh("preconnect",e,n)}function ly(e,n,a){ri.L(e,n,a);var s=ta;if(s&&e&&n){var p='link[rel="preload"][as="'+$t(n)+'"]';n==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+$t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+$t(a.imageSizes)+'"]')):p+='[href="'+$t(e)+'"]';var m=p;switch(n){case"style":m=na(e);break;case"script":m=ia(e)}En.has(m)||(e=_({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),En.set(m,e),s.querySelector(p)!==null||n==="style"&&s.querySelector(nl(m))||n==="script"&&s.querySelector(il(m))||(n=s.createElement("link"),Pt(n,"link",e),rt(n),s.head.appendChild(n)))}}function sy(e,n){ri.m(e,n);var a=ta;if(a&&e){var s=n&&typeof n.as=="string"?n.as:"script",p='link[rel="modulepreload"][as="'+$t(s)+'"][href="'+$t(e)+'"]',m=p;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ia(e)}if(!En.has(m)&&(e=_({rel:"modulepreload",href:e},n),En.set(m,e),a.querySelector(p)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(il(m)))return}s=a.createElement("link"),Pt(s,"link",e),rt(s),a.head.appendChild(s)}}}function ry(e,n,a){ri.S(e,n,a);var s=ta;if(s&&e){var p=jn(s).hoistableStyles,m=na(e);n=n||"default";var b=p.get(m);if(!b){var C={loading:0,preload:null};if(b=s.querySelector(nl(m)))C.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":n},a),(a=En.get(m))&&ec(e,a);var w=b=s.createElement("link");rt(w),Pt(w,"link",e),w._p=new Promise(function(G,O){w.onload=G,w.onerror=O}),w.addEventListener("load",function(){C.loading|=1}),w.addEventListener("error",function(){C.loading|=2}),C.loading|=4,ys(b,n,s)}b={type:"stylesheet",instance:b,count:1,state:C},p.set(m,b)}}}function uy(e,n){ri.X(e,n);var a=ta;if(a&&e){var s=jn(a).hoistableScripts,p=ia(e),m=s.get(p);m||(m=a.querySelector(il(p)),m||(e=_({src:e,async:!0},n),(n=En.get(p))&&tc(e,n),m=a.createElement("script"),rt(m),Pt(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(p,m))}}function cy(e,n){ri.M(e,n);var a=ta;if(a&&e){var s=jn(a).hoistableScripts,p=ia(e),m=s.get(p);m||(m=a.querySelector(il(p)),m||(e=_({src:e,async:!0,type:"module"},n),(n=En.get(p))&&tc(e,n),m=a.createElement("script"),rt(m),Pt(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(p,m))}}function ah(e,n,a,s){var p=(p=se.current)?vs(p):null;if(!p)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=na(a.href),a=jn(p).hoistableStyles,s=a.get(n),s||(s={type:"style",instance:null,count:0,state:null},a.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=na(a.href);var m=jn(p).hoistableStyles,b=m.get(e);if(b||(p=p.ownerDocument||p,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,b),(m=p.querySelector(nl(e)))&&!m._p&&(b.instance=m,b.state.loading=5),En.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},En.set(e,a),m||dy(p,e,a,b.state))),n&&s===null)throw Error(l(528,""));return b}if(n&&s!==null)throw Error(l(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ia(a),a=jn(p).hoistableScripts,s=a.get(n),s||(s={type:"script",instance:null,count:0,state:null},a.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function na(e){return'href="'+$t(e)+'"'}function nl(e){return'link[rel="stylesheet"]['+e+"]"}function lh(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function dy(e,n,a,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),Pt(n,"link",a),rt(n),e.head.appendChild(n))}function ia(e){return'[src="'+$t(e)+'"]'}function il(e){return"script[async]"+e}function sh(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+$t(a.href)+'"]');if(s)return n.instance=s,rt(s),s;var p=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),rt(s),Pt(s,"style",p),ys(s,a.precedence,e),n.instance=s;case"stylesheet":p=na(a.href);var m=e.querySelector(nl(p));if(m)return n.state.loading|=4,n.instance=m,rt(m),m;s=lh(a),(p=En.get(p))&&ec(s,p),m=(e.ownerDocument||e).createElement("link"),rt(m);var b=m;return b._p=new Promise(function(C,w){b.onload=C,b.onerror=w}),Pt(m,"link",s),n.state.loading|=4,ys(m,a.precedence,e),n.instance=m;case"script":return m=ia(a.src),(p=e.querySelector(il(m)))?(n.instance=p,rt(p),p):(s=a,(p=En.get(m))&&(s=_({},a),tc(s,p)),e=e.ownerDocument||e,p=e.createElement("script"),rt(p),Pt(p,"link",s),e.head.appendChild(p),n.instance=p);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,ys(s,a.precedence,e));return n.instance}function ys(e,n,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=s.length?s[s.length-1]:null,m=p,b=0;b<s.length;b++){var C=s[b];if(C.dataset.precedence===n)m=C;else if(m!==p)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function ec(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function tc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var xs=null;function rh(e,n,a){if(xs===null){var s=new Map,p=xs=new Map;p.set(a,s)}else p=xs,s=p.get(a),s||(s=new Map,p.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),p=0;p<a.length;p++){var m=a[p];if(!(m[$i]||m[Et]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(n)||"";b=e+b;var C=s.get(b);C?C.push(m):s.set(b,[m])}}return s}function uh(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function fy(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ch(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function py(e,n,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=na(s.href),m=n.querySelector(nl(p));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=_s.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=m,rt(m);return}m=n.ownerDocument||n,s=lh(s),(p=En.get(p))&&ec(s,p),m=m.createElement("link"),rt(m);var b=m;b._p=new Promise(function(C,w){b.onload=C,b.onerror=w}),Pt(m,"link",s),a.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=_s.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var nc=0;function hy(e,n){return e.stylesheets&&e.count===0&&Ss(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Ss(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&nc===0&&(nc=62500*Kv());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ss(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>nc?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(p)}}:null}function _s(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ss(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bs=null;function Ss(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bs=new Map,n.forEach(my,e),bs=null,_s.call(e))}function my(e,n){if(!(n.state.loading&4)){var a=bs.get(e);if(a)var s=a.get(null);else{a=new Map,bs.set(e,a);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<p.length;m++){var b=p[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),s=b)}s&&a.set(null,s)}p=n.instance,b=p.getAttribute("data-precedence"),m=a.get(b)||s,m===s&&a.set(null,p),a.set(b,p),this.count++,s=_s.bind(this),p.addEventListener("load",s),p.addEventListener("error",s),m?m.parentNode.insertBefore(p,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),n.state.loading|=4}}var ol={$$typeof:j,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function gy(e,n,a,s,p,m,b,C,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=de(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=de(0),this.hiddenUpdates=de(null),this.identifierPrefix=s,this.onUncaughtError=p,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function dh(e,n,a,s,p,m,b,C,w,G,O,Q){return e=new gy(e,n,a,b,w,G,O,Q,C),n=1,m===!0&&(n|=24),m=cn(3,null,null,n),e.current=m,m.stateNode=e,n=Lr(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:s,isDehydrated:a,cache:n},Hr(m),e}function fh(e){return e?(e=Uo,e):Uo}function ph(e,n,a,s,p,m){p=fh(p),s.context===null?s.context=p:s.pendingContext=p,s=Ci(n),s.payload={element:a},m=m===void 0?null:m,m!==null&&(s.callback=m),a=Ni(e,s,n),a!==null&&(nn(a,e,n),za(a,e,n))}function hh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function ic(e,n){hh(e,n),(e=e.alternate)&&hh(e,n)}function mh(e){if(e.tag===13||e.tag===31){var n=io(e,67108864);n!==null&&nn(n,e,67108864),ic(e,67108864)}}function gh(e){if(e.tag===13||e.tag===31){var n=mn();n=Ki(n);var a=io(e,n);a!==null&&nn(a,e,n),ic(e,n)}}var Ts=!0;function vy(e,n,a,s){var p=q.T;q.T=null;var m=te.p;try{te.p=2,oc(e,n,a,s)}finally{te.p=m,q.T=p}}function yy(e,n,a,s){var p=q.T;q.T=null;var m=te.p;try{te.p=8,oc(e,n,a,s)}finally{te.p=m,q.T=p}}function oc(e,n,a,s){if(Ts){var p=ac(s);if(p===null)Ou(e,n,s,Es,a),yh(e,s);else if(_y(p,e,n,a,s))s.stopPropagation();else if(yh(e,s),n&4&&-1<xy.indexOf(e)){for(;p!==null;){var m=vi(p);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Xt(m.pendingLanes);if(b!==0){var C=m;for(C.pendingLanes|=2,C.entangledLanes|=2;b;){var w=1<<31-St(b);C.entanglements[1]|=w,b&=~w}Vn(m),(Je&6)===0&&(ls=Ft()+500,Za(0))}}break;case 31:case 13:C=io(m,2),C!==null&&nn(C,m,2),rs(),ic(m,2)}if(m=ac(s),m===null&&Ou(e,n,s,Es,a),m===p)break;p=m}p!==null&&s.stopPropagation()}else Ou(e,n,s,null,a)}}function ac(e){return e=rn(e),lc(e)}var Es=null;function lc(e){if(Es=null,e=gi(e),e!==null){var n=d(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=h(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Es=e,null}function vh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jc()){case nr:return 2;case _o:return 8;case pi:case ir:return 32;case hl:return 268435456;default:return 32}default:return 32}}var sc=!1,Pi=null,Gi=null,Hi=null,al=new Map,ll=new Map,qi=[],xy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yh(e,n){switch(e){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":al.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(n.pointerId)}}function sl(e,n,a,s,p,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:a,eventSystemFlags:s,nativeEvent:m,targetContainers:[p]},n!==null&&(n=vi(n),n!==null&&mh(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),e)}function _y(e,n,a,s,p){switch(n){case"focusin":return Pi=sl(Pi,e,n,a,s,p),!0;case"dragenter":return Gi=sl(Gi,e,n,a,s,p),!0;case"mouseover":return Hi=sl(Hi,e,n,a,s,p),!0;case"pointerover":var m=p.pointerId;return al.set(m,sl(al.get(m)||null,e,n,a,s,p)),!0;case"gotpointercapture":return m=p.pointerId,ll.set(m,sl(ll.get(m)||null,e,n,a,s,p)),!0}return!1}function xh(e){var n=gi(e.target);if(n!==null){var a=d(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){e.blockedOn=n,Mn(e.priority,function(){gh(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,Mn(e.priority,function(){gh(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cs(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=ac(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);at=s,a.target.dispatchEvent(s),at=null}else return n=vi(a),n!==null&&mh(n),e.blockedOn=a,!1;n.shift()}return!0}function _h(e,n,a){Cs(e)&&a.delete(n)}function by(){sc=!1,Pi!==null&&Cs(Pi)&&(Pi=null),Gi!==null&&Cs(Gi)&&(Gi=null),Hi!==null&&Cs(Hi)&&(Hi=null),al.forEach(_h),ll.forEach(_h)}function Ns(e,n){e.blockedOn===n&&(e.blockedOn=null,sc||(sc=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,by)))}var As=null;function bh(e){As!==e&&(As=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){As===e&&(As=null);for(var n=0;n<e.length;n+=3){var a=e[n],s=e[n+1],p=e[n+2];if(typeof s!="function"){if(lc(s||a)===null)continue;break}var m=vi(a);m!==null&&(e.splice(n,3),n-=3,au(m,{pending:!0,data:p,method:a.method,action:s},s,p))}}))}function oa(e){function n(w){return Ns(w,e)}Pi!==null&&Ns(Pi,e),Gi!==null&&Ns(Gi,e),Hi!==null&&Ns(Hi,e),al.forEach(n),ll.forEach(n);for(var a=0;a<qi.length;a++){var s=qi[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<qi.length&&(a=qi[0],a.blockedOn===null);)xh(a),a.blockedOn===null&&qi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var p=a[s],m=a[s+1],b=p[Gt]||null;if(typeof m=="function")b||bh(a);else if(b){var C=null;if(m&&m.hasAttribute("formAction")){if(p=m,b=m[Gt]||null)C=b.formAction;else if(lc(p)!==null)continue}else C=b.action;typeof C=="function"?a[s+1]=C:(a.splice(s,3),s-=3),bh(a)}}}function Sh(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return p=b})},focusReset:"manual",scroll:"manual"})}function n(){p!==null&&(p(),p=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),p!==null&&(p(),p=null)}}}function rc(e){this._internalRoot=e}ws.prototype.render=rc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));var a=n.current,s=mn();ph(a,s,e,n,null,null)},ws.prototype.unmount=rc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ph(e.current,2,null,e,null,null),rs(),n[gn]=null}};function ws(e){this._internalRoot=e}ws.prototype.unstable_scheduleHydration=function(e){if(e){var n=gl();e={blockedOn:null,target:e,priority:n};for(var a=0;a<qi.length&&n!==0&&n<qi[a].priority;a++);qi.splice(a,0,e),a===0&&xh(e)}};var Th=t.version;if(Th!=="19.2.3")throw Error(l(527,Th,"19.2.3"));te.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=v(n),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Sy={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ms.isDisabled&&Ms.supportsFiber)try{Ji=Ms.inject(Sy),Ot=Ms}catch{}}return ul.createRoot=function(e,n){if(!r(e))throw Error(l(299));var a=!1,s="",p=Rf,m=If,b=kf;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(p=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=dh(e,1,!1,null,null,a,s,null,p,m,b,Sh),e[gn]=n.current,Fu(e),new rc(n)},ul.hydrateRoot=function(e,n,a){if(!r(e))throw Error(l(299));var s=!1,p="",m=Rf,b=If,C=kf,w=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),n=dh(e,1,!0,n,a??null,s,p,w,m,b,C,Sh),n.context=fh(null),a=n.current,s=mn(),s=Ki(s),p=Ci(s),p.callback=null,Ni(a,p,s),a=s,n.current.lanes=a,wn(n,a),Vn(n),e[gn]=n.current,Fu(e),new ws(n)},ul.version="19.2.3",ul}var Dh;function Ly(){if(Dh)return dc.exports;Dh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),dc.exports=Uy(),dc.exports}var zy=Ly(),Py={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Gy,Hy;function qy(){return{geminiUrl:Gy,vertexUrl:Hy}}function Vy(i,t,o,l){var r,d;if(!(i!=null&&i.baseUrl)){const h=qy();return t?(r=h.vertexUrl)!==null&&r!==void 0?r:o:(d=h.geminiUrl)!==null&&d!==void 0?d:l}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ci{}function ue(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(l,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const d=t[r];return d!=null?String(d):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,o){for(let d=0;d<t.length-1;d++){const h=t[d];if(h.endsWith("[]")){const g=h.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${h}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(o))for(let v=0;v<y.length;v++){const x=y[v];c(x,t.slice(d+1),o[v])}else for(const v of y)c(v,t.slice(d+1),o)}return}else if(h.endsWith("[0]")){const g=h.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],t.slice(d+1),o);return}(!i[h]||typeof i[h]!="object")&&(i[h]={}),i=i[h]}const l=t[t.length-1],r=i[l];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else l==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[l]=o}function u(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let l=0;l<t.length;l++){if(typeof i!="object"||i===null)return o;const r=t[l];if(r.endsWith("[]")){const d=r.slice(0,-2);if(d in i){const h=i[d];return Array.isArray(h)?h.map(g=>u(g,t.slice(l+1),o)):o}else return o}else i=i[r]}return i}catch(l){if(l instanceof TypeError)return o;throw l}}function By(i,t){for(const[o,l]of Object.entries(t)){const r=o.split("."),d=l.split("."),h=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&d.length>g)for(let y=g;y<d.length;y++){const v=d[y];v!=="*"&&!v.endsWith("[]")&&!v.endsWith("[0]")&&h.add(v)}_c(i,r,d,0,h)}}function _c(i,t,o,l,r){if(l>=t.length||typeof i!="object"||i===null)return;const d=t[l];if(d.endsWith("[]")){const h=d.slice(0,-2),g=i;if(h in g&&Array.isArray(g[h]))for(const y of g[h])_c(y,t,o,l+1,r)}else if(d==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const h=i,g=Object.keys(h).filter(v=>!v.startsWith("_")&&!r.has(v)),y={};for(const v of g)y[v]=h[v];for(const[v,x]of Object.entries(y)){const _=[];for(const S of o.slice(l))S==="*"?_.push(v):_.push(S);c(h,_,x)}for(const v of g)delete h[v]}}else{const h=i;d in h&&_c(h[d],t,o,l+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zc(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fy(i){const t={},o=u(i,["operationName"]);o!=null&&c(t,["operationName"],o);const l=u(i,["resourceName"]);return l!=null&&c(t,["_url","resourceName"],l),t}function Oy(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const l=u(i,["metadata"]);l!=null&&c(t,["metadata"],l);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const h=u(i,["response","generateVideoResponse"]);return h!=null&&c(t,["response"],Jy(h)),t}function jy(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const l=u(i,["metadata"]);l!=null&&c(t,["metadata"],l);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const h=u(i,["response"]);return h!=null&&c(t,["response"],Yy(h)),t}function Jy(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(h=>Ky(h))),c(t,["generatedVideos"],d)}const l=u(i,["raiMediaFilteredCount"]);l!=null&&c(t,["raiMediaFilteredCount"],l);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Yy(i){const t={},o=u(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(h=>Xy(h))),c(t,["generatedVideos"],d)}const l=u(i,["raiMediaFilteredCount"]);l!=null&&c(t,["raiMediaFilteredCount"],l);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Ky(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],tx(o)),t}function Xy(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],nx(o)),t}function $y(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function Qy(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function Zy(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const l=u(i,["metadata"]);l!=null&&c(t,["metadata"],l);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const h=u(i,["response"]);return h!=null&&c(t,["response"],Wy(h)),t}function Wy(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["parent"]);l!=null&&c(t,["parent"],l);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function b0(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const l=u(i,["metadata"]);l!=null&&c(t,["metadata"],l);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const h=u(i,["response"]);return h!=null&&c(t,["response"],ex(h)),t}function ex(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["parent"]);l!=null&&c(t,["parent"],l);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function tx(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const l=u(i,["encodedVideo"]);l!=null&&c(t,["videoBytes"],zc(l));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function nx(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const l=u(i,["bytesBase64Encoded"]);l!=null&&c(t,["videoBytes"],zc(l));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Uh;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Uh||(Uh={}));var Lh;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Lh||(Lh={}));var zh;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(zh||(zh={}));var Bi;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Bi||(Bi={}));var Ph;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Ph||(Ph={}));var Gh;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Gh||(Gh={}));var Hh;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Hh||(Hh={}));var qh;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(qh||(qh={}));var Vh;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Vh||(Vh={}));var Bh;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(Bh||(Bh={}));var Fh;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Fh||(Fh={}));var Oh;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Oh||(Oh={}));var jh;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(jh||(jh={}));var Jh;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Jh||(Jh={}));var Yh;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Yh||(Yh={}));var Kh;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Kh||(Kh={}));var Xh;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Xh||(Xh={}));var $h;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})($h||($h={}));var Qh;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Qh||(Qh={}));var qs;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(qs||(qs={}));var Zh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Zh||(Zh={}));var Wh;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Wh||(Wh={}));var em;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(em||(em={}));var bc;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(bc||(bc={}));var tm;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(tm||(tm={}));var nm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(nm||(nm={}));var im;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(im||(im={}));var om;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(om||(om={}));var am;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(am||(am={}));var lm;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(lm||(lm={}));var sm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(sm||(sm={}));var rm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(rm||(rm={}));var um;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(um||(um={}));var cm;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(cm||(cm={}));var dm;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(dm||(dm={}));var fm;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(fm||(fm={}));var pm;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(pm||(pm={}));var hm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(hm||(hm={}));var mm;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(mm||(mm={}));var gm;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(gm||(gm={}));var vm;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(vm||(vm={}));var ym;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(ym||(ym={}));var xm;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(xm||(xm={}));var _m;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(_m||(_m={}));var bm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(bm||(bm={}));var Sm;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(Sm||(Sm={}));var Tm;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Tm||(Tm={}));var Em;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Em||(Em={}));var Cm;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Cm||(Cm={}));var Nm;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Nm||(Nm={}));var Am;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Am||(Am={}));var wm;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(wm||(wm={}));var Mm;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Mm||(Mm={}));var Rm;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Rm||(Rm={}));var Im;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Im||(Im={}));var sa;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(sa||(sa={}));class Sc{constructor(t){const o={};for(const l of t.headers.entries())o[l[0]]=l[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class cl{get text(){var t,o,l,r,d,h,g,y;if(((r=(l=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let v="",x=!1;const _=[];for(const S of(y=(g=(h=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[E,I]of Object.entries(S))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(I!==null||I!==void 0)&&_.push(E);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;x=!0,v+=S.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?v:void 0}get data(){var t,o,l,r,d,h,g,y;if(((r=(l=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let v="";const x=[];for(const _ of(y=(g=(h=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[S,E]of Object.entries(_))S!=="inlineData"&&(E!==null||E!==void 0)&&x.push(S);_.inlineData&&typeof _.inlineData.data=="string"&&(v+=atob(_.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),v.length>0?btoa(v):void 0}get functionCalls(){var t,o,l,r,d,h,g,y;if(((r=(l=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const v=(y=(g=(h=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((v==null?void 0:v.length)!==0)return v}get executableCode(){var t,o,l,r,d,h,g,y,v;if(((r=(l=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(y=(g=(h=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((x==null?void 0:x.length)!==0)return(v=x==null?void 0:x[0])===null||v===void 0?void 0:v.code}get codeExecutionResult(){var t,o,l,r,d,h,g,y,v;if(((r=(l=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(y=(g=(h=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((x==null?void 0:x.length)!==0)return(v=x==null?void 0:x[0])===null||v===void 0?void 0:v.output}}class km{}class Dm{}class ix{}class ox{}class ax{}class lx{}class Um{}class Lm{}class zm{}class sx{}class Vs{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const l=new Vs;let r;const d=t;return o?r=jy(d):r=Oy(d),Object.assign(l,r),l}}class Pm{}class Gm{}class Hm{}class qm{}class rx{}class ux{}class cx{}class Pc{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const l=new Pc,d=Zy(t);return Object.assign(l,d),l}}class dx{}class fx{}class px{}class Vm{}class hx{get text(){var t,o,l;let r="",d=!1;const h=[];for(const g of(l=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[y,v]of Object.entries(g))y!=="text"&&y!=="thought"&&v!==null&&h.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,r+=g.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?r:void 0}get data(){var t,o,l;let r="";const d=[];for(const h of(l=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[g,y]of Object.entries(h))g!=="inlineData"&&y!==null&&d.push(g);h.inlineData&&typeof h.inlineData.data=="string"&&(r+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class mx{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Gc{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const l=new Gc,d=b0(t);return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function je(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function S0(i,t){const o=je(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function T0(i){return Array.isArray(i)?i.map(t=>Bs(t)):[Bs(i)]}function Bs(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function E0(i){const t=Bs(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function C0(i){const t=Bs(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Bm(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function N0(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>Bm(t)):[Bm(i)]}function Tc(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Fm(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Om(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function Vt(i){if(i==null)throw new Error("ContentUnion is required");return Tc(i)?i:{role:"user",parts:N0(i)}}function Hc(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const l=Vt(o);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(i.isVertexAI()){const o=Vt(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>Vt(o)):[Vt(t)]}function Nn(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Fm(i)||Om(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Vt(i)]}const t=[],o=[],l=Tc(i[0]);for(const r of i){const d=Tc(r);if(d!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)t.push(r);else{if(Fm(r)||Om(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return l||t.push({role:"user",parts:N0(o)}),t}function gx(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(l=>l!=="null");if(o.length===1)t.type=Object.values(Bi).includes(o[0].toUpperCase())?o[0].toUpperCase():Bi.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const l of o)t.anyOf.push({type:Object.values(Bi).includes(l.toUpperCase())?l.toUpperCase():Bi.TYPE_UNSPECIFIED})}}function ua(i){const t={},o=["items"],l=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=i.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(t.nullable=!0,i=d[1]):d[1].type==="null"&&(t.nullable=!0,i=d[0])),i.type instanceof Array&&gx(i.type,t);for(const[h,g]of Object.entries(i))if(g!=null)if(h=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(Bi).includes(g.toUpperCase())?g.toUpperCase():Bi.TYPE_UNSPECIFIED}else if(o.includes(h))t[h]=ua(g);else if(l.includes(h)){const y=[];for(const v of g){if(v.type=="null"){t.nullable=!0;continue}y.push(ua(v))}t[h]=y}else if(r.includes(h)){const y={};for(const[v,x]of Object.entries(g))y[v]=ua(x);t[h]=y}else{if(h==="additionalProperties")continue;t[h]=g}return t}function qc(i){return ua(i)}function Vc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Bc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function pa(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=ua(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=ua(t.response));return i}function ha(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function vx(i,t,o,l=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===l;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function di(i,t){if(typeof t!="string")throw new Error("name must be a string");return vx(i,t,"cachedContents")}function A0(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Fi(i){return zc(i)}function yx(i){return i!=null&&typeof i=="object"&&"name"in i}function xx(i){return i!=null&&typeof i=="object"&&"video"in i}function _x(i){return i!=null&&typeof i=="object"&&"uri"in i}function w0(i){var t;let o;if(yx(i)&&(o=i.name),!(_x(i)&&(o=i.uri,o===void 0))&&!(xx(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function M0(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function R0(i){for(const t of["models","tunedModels","publisherModels"])if(bx(i,t))return i[t];return[]}function bx(i,t){return i!==null&&typeof i=="object"&&t in i}function Sx(i,t={}){const o=i,l={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(l.responseJsonSchema=o.outputSchema),t.behavior&&(l.behavior=t.behavior),{functionDeclarations:[l]}}function Tx(i,t={}){const o=[],l=new Set;for(const r of i){const d=r.name;if(l.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);l.add(d);const h=Sx(r,t);h.functionDeclarations&&o.push(...h.functionDeclarations)}return{functionDeclarations:o}}function I0(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const l=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||l!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(l>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function Ex(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function k0(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let d=!1;for(const h of r){if(typeof h!="object"||h===null)continue;const y=h.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){d=!0;break}}return d&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function ma(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function D0(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cx(i){const t={},o=u(i,["responsesFile"]);o!=null&&c(t,["fileName"],o);const l=u(i,["inlinedResponses","inlinedResponses"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>a_(h))),c(t,["inlinedResponses"],d)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),c(t,["inlinedEmbedContentResponses"],d)}return t}function Nx(i){const t={},o=u(i,["predictionsFormat"]);o!=null&&c(t,["format"],o);const l=u(i,["gcsDestination","outputUriPrefix"]);l!=null&&c(t,["gcsUri"],l);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function Ax(i){const t={},o=u(i,["format"]);o!=null&&c(t,["predictionsFormat"],o);const l=u(i,["gcsUri"]);l!=null&&c(t,["gcsDestination","outputUriPrefix"],l);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function zs(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const l=u(i,["metadata","displayName"]);l!=null&&c(t,["displayName"],l);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],D0(r));const d=u(i,["metadata","createTime"]);d!=null&&c(t,["createTime"],d);const h=u(i,["metadata","endTime"]);h!=null&&c(t,["endTime"],h);const g=u(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const v=u(i,["metadata","output"]);return v!=null&&c(t,["dest"],Cx(k0(v))),t}function Ec(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const l=u(i,["displayName"]);l!=null&&c(t,["displayName"],l);const r=u(i,["state"]);r!=null&&c(t,["state"],D0(r));const d=u(i,["error"]);d!=null&&c(t,["error"],d);const h=u(i,["createTime"]);h!=null&&c(t,["createTime"],h);const g=u(i,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const v=u(i,["updateTime"]);v!=null&&c(t,["updateTime"],v);const x=u(i,["model"]);x!=null&&c(t,["model"],x);const _=u(i,["inputConfig"]);_!=null&&c(t,["src"],wx(_));const S=u(i,["outputConfig"]);S!=null&&c(t,["dest"],Nx(k0(S)));const E=u(i,["completionStats"]);return E!=null&&c(t,["completionStats"],E),t}function wx(i){const t={},o=u(i,["instancesFormat"]);o!=null&&c(t,["format"],o);const l=u(i,["gcsSource","uris"]);l!=null&&c(t,["gcsUri"],l);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function Mx(i,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=u(t,["fileName"]);l!=null&&c(o,["fileName"],l);const r=u(t,["inlinedRequests"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>o_(i,h))),c(o,["requests","requests"],d)}return o}function Rx(i){const t={},o=u(i,["format"]);o!=null&&c(t,["instancesFormat"],o);const l=u(i,["gcsUri"]);l!=null&&c(t,["gcsSource","uris"],l);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Ix(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function kx(i,t){const o={},l=u(t,["name"]);return l!=null&&c(o,["_url","name"],ma(i,l)),o}function Dx(i,t){const o={},l=u(t,["name"]);return l!=null&&c(o,["_url","name"],ma(i,l)),o}function Ux(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const l=u(i,["citationMetadata"]);l!=null&&c(t,["citationMetadata"],Lx(l));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const h=u(i,["avgLogprobs"]);h!=null&&c(t,["avgLogprobs"],h);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const v=u(i,["logprobsResult"]);v!=null&&c(t,["logprobsResult"],v);const x=u(i,["safetyRatings"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(E=>E)),c(t,["safetyRatings"],S)}const _=u(i,["urlContextMetadata"]);return _!=null&&c(t,["urlContextMetadata"],_),t}function Lx(i){const t={},o=u(i,["citationSources"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>r)),c(t,["citations"],l)}return t}function U0(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>f_(d))),c(t,["parts"],r)}const l=u(i,["role"]);return l!=null&&c(t,["role"],l),t}function zx(i,t){const o={},l=u(i,["displayName"]);if(t!==void 0&&l!=null&&c(t,["batch","displayName"],l),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function Px(i,t){const o={},l=u(i,["displayName"]);t!==void 0&&l!=null&&c(t,["displayName"],l);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],Ax(Ex(r))),o}function jm(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],je(i,l));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],Mx(i,I0(i,r)));const d=u(t,["config"]);return d!=null&&zx(d,o),o}function Gx(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["model"],je(i,l));const r=u(t,["src"]);r!=null&&c(o,["inputConfig"],Rx(I0(i,r)));const d=u(t,["config"]);return d!=null&&Px(d,o),o}function Hx(i,t){const o={},l=u(i,["displayName"]);return t!==void 0&&l!=null&&c(t,["batch","displayName"],l),o}function qx(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],je(i,l));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],Yx(i,r));const d=u(t,["config"]);return d!=null&&Hx(d,o),o}function Vx(i,t){const o={},l=u(t,["name"]);return l!=null&&c(o,["_url","name"],ma(i,l)),o}function Bx(i,t){const o={},l=u(t,["name"]);return l!=null&&c(o,["_url","name"],ma(i,l)),o}function Fx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["name"]);l!=null&&c(t,["name"],l);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);return d!=null&&c(t,["error"],d),t}function Ox(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["name"]);l!=null&&c(t,["name"],l);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);return d!=null&&c(t,["error"],d),t}function jx(i,t){const o={},l=u(t,["contents"]);if(l!=null){let d=Hc(i,l);Array.isArray(d)&&(d=d.map(h=>h)),c(o,["requests[]","request","content"],d)}const r=u(t,["config"]);return r!=null&&(c(o,["_self"],Jx(r,o)),By(o,{"requests[].*":"requests[].request.*"})),o}function Jx(i,t){const o={},l=u(i,["taskType"]);t!==void 0&&l!=null&&c(t,["requests[]","taskType"],l);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function Yx(i,t){const o={},l=u(t,["fileName"]);l!=null&&c(o,["file_name"],l);const r=u(t,["inlinedRequests"]);return r!=null&&c(o,["requests"],jx(i,r)),o}function Kx(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const l=u(i,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function Xx(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const l=u(i,["args"]);l!=null&&c(t,["args"],l);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function $x(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const l=u(i,["allowedFunctionNames"]);if(l!=null&&c(t,["allowedFunctionNames"],l),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Qx(i,t,o){const l={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],U0(Vt(r)));const d=u(t,["temperature"]);d!=null&&c(l,["temperature"],d);const h=u(t,["topP"]);h!=null&&c(l,["topP"],h);const g=u(t,["topK"]);g!=null&&c(l,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(l,["candidateCount"],y);const v=u(t,["maxOutputTokens"]);v!=null&&c(l,["maxOutputTokens"],v);const x=u(t,["stopSequences"]);x!=null&&c(l,["stopSequences"],x);const _=u(t,["responseLogprobs"]);_!=null&&c(l,["responseLogprobs"],_);const S=u(t,["logprobs"]);S!=null&&c(l,["logprobs"],S);const E=u(t,["presencePenalty"]);E!=null&&c(l,["presencePenalty"],E);const I=u(t,["frequencyPenalty"]);I!=null&&c(l,["frequencyPenalty"],I);const U=u(t,["seed"]);U!=null&&c(l,["seed"],U);const M=u(t,["responseMimeType"]);M!=null&&c(l,["responseMimeType"],M);const k=u(t,["responseSchema"]);k!=null&&c(l,["responseSchema"],qc(k));const K=u(t,["responseJsonSchema"]);if(K!=null&&c(l,["responseJsonSchema"],K),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const j=u(t,["safetySettings"]);if(o!==void 0&&j!=null){let re=j;Array.isArray(re)&&(re=re.map(Ae=>p_(Ae))),c(o,["safetySettings"],re)}const z=u(t,["tools"]);if(o!==void 0&&z!=null){let re=ha(z);Array.isArray(re)&&(re=re.map(Ae=>m_(pa(Ae)))),c(o,["tools"],re)}const ie=u(t,["toolConfig"]);if(o!==void 0&&ie!=null&&c(o,["toolConfig"],h_(ie)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=u(t,["cachedContent"]);o!==void 0&&X!=null&&c(o,["cachedContent"],di(i,X));const $=u(t,["responseModalities"]);$!=null&&c(l,["responseModalities"],$);const ye=u(t,["mediaResolution"]);ye!=null&&c(l,["mediaResolution"],ye);const le=u(t,["speechConfig"]);if(le!=null&&c(l,["speechConfig"],Vc(le)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ge=u(t,["thinkingConfig"]);ge!=null&&c(l,["thinkingConfig"],ge);const W=u(t,["imageConfig"]);W!=null&&c(l,["imageConfig"],i_(W));const ne=u(t,["enableEnhancedCivicAnswers"]);return ne!=null&&c(l,["enableEnhancedCivicAnswers"],ne),l}function Zx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(v=>Ux(v))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const h=u(i,["responseId"]);h!=null&&c(t,["responseId"],h);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function Wx(i,t){const o={},l=u(t,["name"]);return l!=null&&c(o,["_url","name"],ma(i,l)),o}function e_(i,t){const o={},l=u(t,["name"]);return l!=null&&c(o,["_url","name"],ma(i,l)),o}function t_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function n_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function i_(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const l=u(i,["imageSize"]);if(l!=null&&c(t,["imageSize"],l),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function o_(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["request","model"],je(i,l));const r=u(t,["contents"]);if(r!=null){let g=Nn(r);Array.isArray(g)&&(g=g.map(y=>U0(y))),c(o,["request","contents"],g)}const d=u(t,["metadata"]);d!=null&&c(o,["metadata"],d);const h=u(t,["config"]);return h!=null&&c(o,["request","generationConfig"],Qx(i,h,u(o,["request"],{}))),o}function a_(i){const t={},o=u(i,["response"]);o!=null&&c(t,["response"],Zx(o));const l=u(i,["error"]);return l!=null&&c(t,["error"],l),t}function l_(i,t){const o={},l=u(i,["pageSize"]);t!==void 0&&l!=null&&c(t,["_query","pageSize"],l);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function s_(i,t){const o={},l=u(i,["pageSize"]);t!==void 0&&l!=null&&c(t,["_query","pageSize"],l);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const d=u(i,["filter"]);return t!==void 0&&d!=null&&c(t,["_query","filter"],d),o}function r_(i){const t={},o=u(i,["config"]);return o!=null&&l_(o,t),t}function u_(i){const t={},o=u(i,["config"]);return o!=null&&s_(o,t),t}function c_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["nextPageToken"]);l!=null&&c(t,["nextPageToken"],l);const r=u(i,["operations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>zs(h))),c(t,["batchJobs"],d)}return t}function d_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["nextPageToken"]);l!=null&&c(t,["nextPageToken"],l);const r=u(i,["batchPredictionJobs"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>Ec(h))),c(t,["batchJobs"],d)}return t}function f_(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const l=u(i,["codeExecutionResult"]);l!=null&&c(t,["codeExecutionResult"],l);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],Kx(d));const h=u(i,["functionCall"]);h!=null&&c(t,["functionCall"],Xx(h));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Ix(y));const v=u(i,["text"]);v!=null&&c(t,["text"],v);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const _=u(i,["thoughtSignature"]);_!=null&&c(t,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&c(t,["videoMetadata"],S),t}function p_(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=u(i,["threshold"]);return l!=null&&c(t,["threshold"],l),t}function h_(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],$x(o));const l=u(i,["retrievalConfig"]);return l!=null&&c(t,["retrievalConfig"],l),t}function m_(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(_=>_)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["googleSearchRetrieval"]);l!=null&&c(t,["googleSearchRetrieval"],l);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const h=u(i,["codeExecution"]);if(h!=null&&c(t,["codeExecution"],h),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],t_(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],n_(y));const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ui;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(ui||(ui={}));class yo{constructor(t,o,l,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,l,r)}init(t,o,l){var r,d;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let h={config:{}};!l||Object.keys(l).length===0?h={config:{}}:typeof l=="object"?h=Object.assign({},l):h=l,h.config&&(h.config.pageToken=o.nextPageToken),this.paramsInternal=h,this.pageInternalSize=(d=(r=h.config)===null||r===void 0?void 0:r.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g_ extends ci{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new yo(ui.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=jm(this.apiClient,t),l=o._url,r=ue("{model}:batchGenerateContent",l),g=o.batch.inputConfig.requests,y=g.requests,v=[];for(const x of y){const _=Object.assign({},x);if(_.systemInstruction){const S=_.systemInstruction;delete _.systemInstruction;const E=_.request;E.systemInstruction=S,_.request=E}v.push(_)}return g.requests=v,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const l=o?Object.assign({},o):{},r=Date.now().toString();if(l.displayName||(l.displayName=`genaiBatchJob_${r}`),l.dest===void 0){const d=this.getGcsUri(t),h=this.getBigqueryUri(t);if(d)d.endsWith(".jsonl")?l.dest=`${d.slice(0,-6)}/dest`:l.dest=`${d}_dest_${r}`;else if(h)l.dest=`${h}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return l}async createInternal(t){var o,l,r,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const v=Gx(this.apiClient,t);return g=ue("batchPredictionJobs",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),h.then(x=>Ec(x))}else{const v=jm(this.apiClient,t);return g=ue("{model}:batchGenerateContent",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),h.then(x=>zs(x))}}async createEmbeddingsInternal(t){var o,l;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=qx(this.apiClient,t);return d=ue("{model}:asyncBatchEmbedContent",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>zs(y))}}async get(t){var o,l,r,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const v=e_(this.apiClient,t);return g=ue("batchPredictionJobs/{name}",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),h.then(x=>Ec(x))}else{const v=Wx(this.apiClient,t);return g=ue("batches/{name}",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),h.then(x=>zs(x))}}async cancel(t){var o,l,r,d;let h="",g={};if(this.apiClient.isVertexAI()){const y=Dx(this.apiClient,t);h=ue("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=kx(this.apiClient,t);h=ue("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(t){var o,l,r,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const v=u_(t);return g=ue("batchPredictionJobs",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>{const _=d_(x),S=new Vm;return Object.assign(S,_),S})}else{const v=r_(t);return g=ue("batches",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>{const _=c_(x),S=new Vm;return Object.assign(S,_),S})}}async delete(t){var o,l,r,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const v=Bx(this.apiClient,t);return g=ue("batchPredictionJobs/{name}",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>Ox(x))}else{const v=Vx(this.apiClient,t);return g=ue("batches/{name}",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>Fx(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v_(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function Jm(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>q_(d))),c(t,["parts"],r)}const l=u(i,["role"]);return l!=null&&c(t,["role"],l),t}function y_(i,t){const o={},l=u(i,["ttl"]);t!==void 0&&l!=null&&c(t,["ttl"],l);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const h=u(i,["contents"]);if(t!==void 0&&h!=null){let x=Nn(h);Array.isArray(x)&&(x=x.map(_=>Jm(_))),c(t,["contents"],x)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Jm(Vt(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(_=>B_(_))),c(t,["tools"],x)}const v=u(i,["toolConfig"]);if(t!==void 0&&v!=null&&c(t,["toolConfig"],V_(v)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function x_(i,t){const o={},l=u(i,["ttl"]);t!==void 0&&l!=null&&c(t,["ttl"],l);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const h=u(i,["contents"]);if(t!==void 0&&h!=null){let _=Nn(h);Array.isArray(_)&&(_=_.map(S=>S)),c(t,["contents"],_)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Vt(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let _=y;Array.isArray(_)&&(_=_.map(S=>F_(S))),c(t,["tools"],_)}const v=u(i,["toolConfig"]);t!==void 0&&v!=null&&c(t,["toolConfig"],v);const x=u(i,["kmsKeyName"]);return t!==void 0&&x!=null&&c(t,["encryption_spec","kmsKeyName"],x),o}function __(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["model"],S0(i,l));const r=u(t,["config"]);return r!=null&&y_(r,o),o}function b_(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["model"],S0(i,l));const r=u(t,["config"]);return r!=null&&x_(r,o),o}function S_(i,t){const o={},l=u(t,["name"]);return l!=null&&c(o,["_url","name"],di(i,l)),o}function T_(i,t){const o={},l=u(t,["name"]);return l!=null&&c(o,["_url","name"],di(i,l)),o}function E_(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function C_(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function N_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const l=u(i,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function A_(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const l=u(i,["args"]);l!=null&&c(t,["args"],l);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function w_(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const l=u(i,["allowedFunctionNames"]);if(l!=null&&c(t,["allowedFunctionNames"],l),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function M_(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const l=u(i,["name"]);l!=null&&c(t,["name"],l);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const h=u(i,["response"]);h!=null&&c(t,["response"],h);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function R_(i,t){const o={},l=u(t,["name"]);return l!=null&&c(o,["_url","name"],di(i,l)),o}function I_(i,t){const o={},l=u(t,["name"]);return l!=null&&c(o,["_url","name"],di(i,l)),o}function k_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function D_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function U_(i,t){const o={},l=u(i,["pageSize"]);t!==void 0&&l!=null&&c(t,["_query","pageSize"],l);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function L_(i,t){const o={},l=u(i,["pageSize"]);t!==void 0&&l!=null&&c(t,["_query","pageSize"],l);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function z_(i){const t={},o=u(i,["config"]);return o!=null&&U_(o,t),t}function P_(i){const t={},o=u(i,["config"]);return o!=null&&L_(o,t),t}function G_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["nextPageToken"]);l!=null&&c(t,["nextPageToken"],l);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),c(t,["cachedContents"],d)}return t}function H_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["nextPageToken"]);l!=null&&c(t,["nextPageToken"],l);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),c(t,["cachedContents"],d)}return t}function q_(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const l=u(i,["codeExecutionResult"]);l!=null&&c(t,["codeExecutionResult"],l);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],N_(d));const h=u(i,["functionCall"]);h!=null&&c(t,["functionCall"],A_(h));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],v_(y));const v=u(i,["text"]);v!=null&&c(t,["text"],v);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const _=u(i,["thoughtSignature"]);_!=null&&c(t,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&c(t,["videoMetadata"],S),t}function V_(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],w_(o));const l=u(i,["retrievalConfig"]);return l!=null&&c(t,["retrievalConfig"],l),t}function B_(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(_=>_)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["googleSearchRetrieval"]);l!=null&&c(t,["googleSearchRetrieval"],l);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const h=u(i,["codeExecution"]);if(h!=null&&c(t,["codeExecution"],h),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],k_(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],D_(y));const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function F_(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(S=>M_(S))),c(t,["functionDeclarations"],_)}const l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const d=u(i,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const h=u(i,["codeExecution"]);h!=null&&c(t,["codeExecution"],h);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const v=u(i,["googleSearch"]);v!=null&&c(t,["googleSearch"],v);const x=u(i,["urlContext"]);return x!=null&&c(t,["urlContext"],x),t}function O_(i,t){const o={},l=u(i,["ttl"]);t!==void 0&&l!=null&&c(t,["ttl"],l);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function j_(i,t){const o={},l=u(i,["ttl"]);t!==void 0&&l!=null&&c(t,["ttl"],l);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function J_(i,t){const o={},l=u(t,["name"]);l!=null&&c(o,["_url","name"],di(i,l));const r=u(t,["config"]);return r!=null&&O_(r,o),o}function Y_(i,t){const o={},l=u(t,["name"]);l!=null&&c(o,["_url","name"],di(i,l));const r=u(t,["config"]);return r!=null&&j_(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K_ extends ci{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new yo(ui.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(o),o)}async create(t){var o,l,r,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const v=b_(this.apiClient,t);return g=ue("cachedContents",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),h.then(x=>x)}else{const v=__(this.apiClient,t);return g=ue("cachedContents",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),h.then(x=>x)}}async get(t){var o,l,r,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const v=I_(this.apiClient,t);return g=ue("{name}",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),h.then(x=>x)}else{const v=R_(this.apiClient,t);return g=ue("{name}",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),h.then(x=>x)}}async delete(t){var o,l,r,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const v=T_(this.apiClient,t);return g=ue("{name}",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>{const _=C_(x),S=new Hm;return Object.assign(S,_),S})}else{const v=S_(this.apiClient,t);return g=ue("{name}",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>{const _=E_(x),S=new Hm;return Object.assign(S,_),S})}}async update(t){var o,l,r,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const v=Y_(this.apiClient,t);return g=ue("{name}",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),h.then(x=>x)}else{const v=J_(this.apiClient,t);return g=ue("{name}",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),h.then(x=>x)}}async listInternal(t){var o,l,r,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const v=P_(t);return g=ue("cachedContents",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>{const _=H_(x),S=new qm;return Object.assign(S,_),S})}else{const v=z_(t);return g=ue("cachedContents",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>{const _=G_(x),S=new qm;return Object.assign(S,_),S})}}}function Fs(i,t){var o={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&t.indexOf(l)<0&&(o[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,l=Object.getOwnPropertySymbols(i);r<l.length;r++)t.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(i,l[r])&&(o[l[r]]=i[l[r]]);return o}function Ym(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],l=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&l>=i.length&&(i=void 0),{value:i&&i[l++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ce(i){return this instanceof Ce?(this.v=i,this):new Ce(i)}function Un(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(i,t||[]),r,d=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",h),r[Symbol.asyncIterator]=function(){return this},r;function h(E){return function(I){return Promise.resolve(I).then(E,_)}}function g(E,I){l[E]&&(r[E]=function(U){return new Promise(function(M,k){d.push([E,U,M,k])>1||y(E,U)})},I&&(r[E]=I(r[E])))}function y(E,I){try{v(l[E](I))}catch(U){S(d[0][3],U)}}function v(E){E.value instanceof Ce?Promise.resolve(E.value.v).then(x,_):S(d[0][2],E)}function x(E){y("next",E)}function _(E){y("throw",E)}function S(E,I){E(I),d.shift(),d.length&&y(d[0][0],d[0][1])}}function Ln(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof Ym=="function"?Ym(i):i[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(d){o[d]=i[d]&&function(h){return new Promise(function(g,y){h=i[d](h),r(g,y,h.done,h.value)})}}function r(d,h,g,y){Promise.resolve(y).then(function(v){d({value:v,done:g})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X_(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:L0(o)}function L0(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function $_(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Km(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let l=0;for(;l<o;)if(i[l].role==="user")t.push(i[l]),l++;else{const r=[];let d=!0;for(;l<o&&i[l].role==="model";)r.push(i[l]),d&&!L0(i[l])&&(d=!1),l++;d?t.push(...r):t.pop()}return t}class Q_{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new Z_(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Z_{constructor(t,o,l,r={},d=[]){this.apiClient=t,this.modelsModule=o,this.model=l,this.config=r,this.history=d,this.sendPromise=Promise.resolve(),$_(d)}async sendMessage(t){var o;await this.sendPromise;const l=Vt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,h,g;const y=await r,v=(h=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content,x=y.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let S=[];x!=null&&(S=(g=x.slice(_))!==null&&g!==void 0?g:[]);const E=v?[v]:[];this.recordHistory(l,E,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const l=Vt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const d=await r;return this.processStreamResponse(d,l)}getHistory(t=!1){const o=t?Km(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return Un(this,arguments,function*(){var r,d,h,g,y,v;const x=[];try{for(var _=!0,S=Ln(t),E;E=yield Ce(S.next()),r=E.done,!r;_=!0){g=E.value,_=!1;const I=g;if(X_(I)){const U=(v=(y=I.candidates)===null||y===void 0?void 0:y[0])===null||v===void 0?void 0:v.content;U!==void 0&&x.push(U)}yield yield Ce(I)}}catch(I){d={error:I}}finally{try{!_&&!r&&(h=S.return)&&(yield Ce(h.call(S)))}finally{if(d)throw d.error}}this.recordHistory(o,x)})}recordHistory(t,o,l){let r=[];o.length>0&&o.every(d=>d.role!==void 0)?r=o:r.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...Km(l)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ks extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Ks.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W_(i){const t={},o=u(i,["file"]);return o!=null&&c(t,["file"],o),t}function eb(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function tb(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],w0(o)),t}function nb(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function ib(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],w0(o)),t}function ob(i,t){const o={},l=u(i,["pageSize"]);t!==void 0&&l!=null&&c(t,["_query","pageSize"],l);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function ab(i){const t={},o=u(i,["config"]);return o!=null&&ob(o,t),t}function lb(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["nextPageToken"]);l!=null&&c(t,["nextPageToken"],l);const r=u(i,["files"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),c(t,["files"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sb extends ci{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new yo(ui.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,l;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ab(t);return d=ue("files",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const v=lb(y),x=new dx;return Object.assign(x,v),x})}}async createInternal(t){var o,l;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=W_(t);return d=ue("upload/v1beta/files",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>{const v=eb(y),x=new fx;return Object.assign(x,v),x})}}async get(t){var o,l;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ib(t);return d=ue("files/{file}",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,l;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=tb(t);return d=ue("files/{file}",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const v=nb(y),x=new px;return Object.assign(x,v),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ps(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function rb(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>Eb(d))),c(t,["parts"],r)}const l=u(i,["role"]);return l!=null&&c(t,["role"],l),t}function ub(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const l=u(i,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function cb(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const l=u(i,["args"]);l!=null&&c(t,["args"],l);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function db(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const l=u(i,["name"]);l!=null&&c(t,["name"],l);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const h=u(i,["response"]);h!=null&&c(t,["response"],h);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function fb(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const l=u(i,["responseJsonSchema"]);l!=null&&c(t,["responseJsonSchema"],l);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const h=u(i,["enableAffectiveDialog"]);h!=null&&c(t,["enableAffectiveDialog"],h);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const v=u(i,["maxOutputTokens"]);v!=null&&c(t,["maxOutputTokens"],v);const x=u(i,["mediaResolution"]);x!=null&&c(t,["mediaResolution"],x);const _=u(i,["presencePenalty"]);_!=null&&c(t,["presencePenalty"],_);const S=u(i,["responseLogprobs"]);S!=null&&c(t,["responseLogprobs"],S);const E=u(i,["responseMimeType"]);E!=null&&c(t,["responseMimeType"],E);const I=u(i,["responseModalities"]);I!=null&&c(t,["responseModalities"],I);const U=u(i,["responseSchema"]);U!=null&&c(t,["responseSchema"],U);const M=u(i,["routingConfig"]);M!=null&&c(t,["routingConfig"],M);const k=u(i,["seed"]);k!=null&&c(t,["seed"],k);const K=u(i,["speechConfig"]);K!=null&&c(t,["speechConfig"],K);const j=u(i,["stopSequences"]);j!=null&&c(t,["stopSequences"],j);const z=u(i,["temperature"]);z!=null&&c(t,["temperature"],z);const ie=u(i,["thinkingConfig"]);ie!=null&&c(t,["thinkingConfig"],ie);const X=u(i,["topK"]);X!=null&&c(t,["topK"],X);const $=u(i,["topP"]);if($!=null&&c(t,["topP"],$),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function pb(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function hb(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function mb(i,t){const o={},l=u(i,["generationConfig"]);t!==void 0&&l!=null&&c(t,["setup","generationConfig"],l);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const h=u(i,["topP"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","topP"],h);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const v=u(i,["mediaResolution"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","mediaResolution"],v);const x=u(i,["seed"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","seed"],x);const _=u(i,["speechConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","speechConfig"],Bc(_));const S=u(i,["thinkingConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","thinkingConfig"],S);const E=u(i,["enableAffectiveDialog"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],E);const I=u(i,["systemInstruction"]);t!==void 0&&I!=null&&c(t,["setup","systemInstruction"],rb(Vt(I)));const U=u(i,["tools"]);if(t!==void 0&&U!=null){let X=ha(U);Array.isArray(X)&&(X=X.map($=>Nb(pa($)))),c(t,["setup","tools"],X)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&c(t,["setup","sessionResumption"],Cb(M));const k=u(i,["inputAudioTranscription"]);t!==void 0&&k!=null&&c(t,["setup","inputAudioTranscription"],k);const K=u(i,["outputAudioTranscription"]);t!==void 0&&K!=null&&c(t,["setup","outputAudioTranscription"],K);const j=u(i,["realtimeInputConfig"]);t!==void 0&&j!=null&&c(t,["setup","realtimeInputConfig"],j);const z=u(i,["contextWindowCompression"]);t!==void 0&&z!=null&&c(t,["setup","contextWindowCompression"],z);const ie=u(i,["proactivity"]);if(t!==void 0&&ie!=null&&c(t,["setup","proactivity"],ie),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function gb(i,t){const o={},l=u(i,["generationConfig"]);t!==void 0&&l!=null&&c(t,["setup","generationConfig"],fb(l));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const h=u(i,["topP"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","topP"],h);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const v=u(i,["mediaResolution"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","mediaResolution"],v);const x=u(i,["seed"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","seed"],x);const _=u(i,["speechConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","speechConfig"],Bc(_));const S=u(i,["thinkingConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","thinkingConfig"],S);const E=u(i,["enableAffectiveDialog"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],E);const I=u(i,["systemInstruction"]);t!==void 0&&I!=null&&c(t,["setup","systemInstruction"],Vt(I));const U=u(i,["tools"]);if(t!==void 0&&U!=null){let $=ha(U);Array.isArray($)&&($=$.map(ye=>Ab(pa(ye)))),c(t,["setup","tools"],$)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&c(t,["setup","sessionResumption"],M);const k=u(i,["inputAudioTranscription"]);t!==void 0&&k!=null&&c(t,["setup","inputAudioTranscription"],k);const K=u(i,["outputAudioTranscription"]);t!==void 0&&K!=null&&c(t,["setup","outputAudioTranscription"],K);const j=u(i,["realtimeInputConfig"]);t!==void 0&&j!=null&&c(t,["setup","realtimeInputConfig"],j);const z=u(i,["contextWindowCompression"]);t!==void 0&&z!=null&&c(t,["setup","contextWindowCompression"],z);const ie=u(i,["proactivity"]);t!==void 0&&ie!=null&&c(t,["setup","proactivity"],ie);const X=u(i,["explicitVadSignal"]);return t!==void 0&&X!=null&&c(t,["setup","explicitVadSignal"],X),o}function vb(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["setup","model"],je(i,l));const r=u(t,["config"]);return r!=null&&c(o,["config"],mb(r,o)),o}function yb(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["setup","model"],je(i,l));const r=u(t,["config"]);return r!=null&&c(o,["config"],gb(r,o)),o}function xb(i){const t={},o=u(i,["musicGenerationConfig"]);return o!=null&&c(t,["musicGenerationConfig"],o),t}function _b(i){const t={},o=u(i,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>r)),c(t,["weightedPrompts"],l)}return t}function bb(i){const t={},o=u(i,["media"]);if(o!=null){let v=T0(o);Array.isArray(v)&&(v=v.map(x=>Ps(x))),c(t,["mediaChunks"],v)}const l=u(i,["audio"]);l!=null&&c(t,["audio"],Ps(C0(l)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&c(t,["video"],Ps(E0(d)));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function Sb(i){const t={},o=u(i,["media"]);if(o!=null){let v=T0(o);Array.isArray(v)&&(v=v.map(x=>x)),c(t,["mediaChunks"],v)}const l=u(i,["audio"]);l!=null&&c(t,["audio"],C0(l));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&c(t,["video"],E0(d));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function Tb(i){const t={},o=u(i,["setupComplete"]);o!=null&&c(t,["setupComplete"],o);const l=u(i,["serverContent"]);l!=null&&c(t,["serverContent"],l);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const d=u(i,["toolCallCancellation"]);d!=null&&c(t,["toolCallCancellation"],d);const h=u(i,["usageMetadata"]);h!=null&&c(t,["usageMetadata"],wb(h));const g=u(i,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const v=u(i,["voiceActivityDetectionSignal"]);return v!=null&&c(t,["voiceActivityDetectionSignal"],v),t}function Eb(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const l=u(i,["codeExecutionResult"]);l!=null&&c(t,["codeExecutionResult"],l);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],ub(d));const h=u(i,["functionCall"]);h!=null&&c(t,["functionCall"],cb(h));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Ps(y));const v=u(i,["text"]);v!=null&&c(t,["text"],v);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const _=u(i,["thoughtSignature"]);_!=null&&c(t,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&c(t,["videoMetadata"],S),t}function Cb(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Nb(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(_=>_)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["googleSearchRetrieval"]);l!=null&&c(t,["googleSearchRetrieval"],l);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const h=u(i,["codeExecution"]);if(h!=null&&c(t,["codeExecution"],h),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],pb(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],hb(y));const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function Ab(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(S=>db(S))),c(t,["functionDeclarations"],_)}const l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const d=u(i,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const h=u(i,["codeExecution"]);h!=null&&c(t,["codeExecution"],h);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const v=u(i,["googleSearch"]);v!=null&&c(t,["googleSearch"],v);const x=u(i,["urlContext"]);return x!=null&&c(t,["urlContext"],x),t}function wb(i){const t={},o=u(i,["promptTokenCount"]);o!=null&&c(t,["promptTokenCount"],o);const l=u(i,["cachedContentTokenCount"]);l!=null&&c(t,["cachedContentTokenCount"],l);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const d=u(i,["toolUsePromptTokenCount"]);d!=null&&c(t,["toolUsePromptTokenCount"],d);const h=u(i,["thoughtsTokenCount"]);h!=null&&c(t,["thoughtsTokenCount"],h);const g=u(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(I=>I)),c(t,["promptTokensDetails"],E)}const v=u(i,["cacheTokensDetails"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(I=>I)),c(t,["cacheTokensDetails"],E)}const x=u(i,["candidatesTokensDetails"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(I=>I)),c(t,["responseTokensDetails"],E)}const _=u(i,["toolUsePromptTokensDetails"]);if(_!=null){let E=_;Array.isArray(E)&&(E=E.map(I=>I)),c(t,["toolUsePromptTokensDetails"],E)}const S=u(i,["trafficType"]);return S!=null&&c(t,["trafficType"],S),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mb(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function Rb(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const l=u(i,["citationMetadata"]);l!=null&&c(t,["citationMetadata"],Ib(l));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const h=u(i,["avgLogprobs"]);h!=null&&c(t,["avgLogprobs"],h);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const v=u(i,["logprobsResult"]);v!=null&&c(t,["logprobsResult"],v);const x=u(i,["safetyRatings"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(E=>E)),c(t,["safetyRatings"],S)}const _=u(i,["urlContextMetadata"]);return _!=null&&c(t,["urlContextMetadata"],_),t}function Ib(i){const t={},o=u(i,["citationSources"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>r)),c(t,["citations"],l)}return t}function kb(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],je(i,l));const r=u(t,["contents"]);if(r!=null){let d=Nn(r);Array.isArray(d)&&(d=d.map(h=>h)),c(o,["contents"],d)}return o}function Db(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["tokensInfo"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["tokensInfo"],r)}return t}function Ub(i){const t={},o=u(i,["values"]);o!=null&&c(t,["values"],o);const l=u(i,["statistics"]);return l!=null&&c(t,["statistics"],Lb(l)),t}function Lb(i){const t={},o=u(i,["truncated"]);o!=null&&c(t,["truncated"],o);const l=u(i,["token_count"]);return l!=null&&c(t,["tokenCount"],l),t}function Xs(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>O1(d))),c(t,["parts"],r)}const l=u(i,["role"]);return l!=null&&c(t,["role"],l),t}function zb(i){const t={},o=u(i,["controlType"]);o!=null&&c(t,["controlType"],o);const l=u(i,["enableControlImageComputation"]);return l!=null&&c(t,["computeControl"],l),t}function Pb(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function Gb(i,t){const o={},l=u(i,["systemInstruction"]);t!==void 0&&l!=null&&c(t,["systemInstruction"],Vt(l));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let h=r;Array.isArray(h)&&(h=h.map(g=>H0(g))),c(t,["tools"],h)}const d=u(i,["generationConfig"]);return t!==void 0&&d!=null&&c(t,["generationConfig"],M1(d)),o}function Hb(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],je(i,l));const r=u(t,["contents"]);if(r!=null){let h=Nn(r);Array.isArray(h)&&(h=h.map(g=>Xs(g))),c(o,["contents"],h)}const d=u(t,["config"]);return d!=null&&Pb(d),o}function qb(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],je(i,l));const r=u(t,["contents"]);if(r!=null){let h=Nn(r);Array.isArray(h)&&(h=h.map(g=>g)),c(o,["contents"],h)}const d=u(t,["config"]);return d!=null&&Gb(d,o),o}function Vb(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["totalTokens"]);l!=null&&c(t,["totalTokens"],l);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function Bb(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["totalTokens"]);return l!=null&&c(t,["totalTokens"],l),t}function Fb(i,t){const o={},l=u(t,["model"]);return l!=null&&c(o,["_url","name"],je(i,l)),o}function Ob(i,t){const o={},l=u(t,["model"]);return l!=null&&c(o,["_url","name"],je(i,l)),o}function jb(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function Jb(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function Yb(i,t){const o={},l=u(i,["outputGcsUri"]);t!==void 0&&l!=null&&c(t,["parameters","storageUri"],l);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const h=u(i,["aspectRatio"]);t!==void 0&&h!=null&&c(t,["parameters","aspectRatio"],h);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const v=u(i,["safetyFilterLevel"]);t!==void 0&&v!=null&&c(t,["parameters","safetySetting"],v);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&c(t,["parameters","personGeneration"],x);const _=u(i,["includeSafetyAttributes"]);t!==void 0&&_!=null&&c(t,["parameters","includeSafetyAttributes"],_);const S=u(i,["includeRaiReason"]);t!==void 0&&S!=null&&c(t,["parameters","includeRaiReason"],S);const E=u(i,["language"]);t!==void 0&&E!=null&&c(t,["parameters","language"],E);const I=u(i,["outputMimeType"]);t!==void 0&&I!=null&&c(t,["parameters","outputOptions","mimeType"],I);const U=u(i,["outputCompressionQuality"]);t!==void 0&&U!=null&&c(t,["parameters","outputOptions","compressionQuality"],U);const M=u(i,["addWatermark"]);t!==void 0&&M!=null&&c(t,["parameters","addWatermark"],M);const k=u(i,["labels"]);t!==void 0&&k!=null&&c(t,["labels"],k);const K=u(i,["editMode"]);t!==void 0&&K!=null&&c(t,["parameters","editMode"],K);const j=u(i,["baseSteps"]);return t!==void 0&&j!=null&&c(t,["parameters","editConfig","baseSteps"],j),o}function Kb(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],je(i,l));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>$1(y))),c(o,["instances[0]","referenceImages"],g)}const h=u(t,["config"]);return h!=null&&Yb(h,o),o}function Xb(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>$s(d))),c(t,["generatedImages"],r)}return t}function $b(i,t){const o={},l=u(i,["taskType"]);t!==void 0&&l!=null&&c(t,["requests[]","taskType"],l);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function Qb(i,t){const o={},l=u(i,["taskType"]);t!==void 0&&l!=null&&c(t,["instances[]","task_type"],l);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const d=u(i,["outputDimensionality"]);t!==void 0&&d!=null&&c(t,["parameters","outputDimensionality"],d);const h=u(i,["mimeType"]);t!==void 0&&h!=null&&c(t,["instances[]","mimeType"],h);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),o}function Zb(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],je(i,l));const r=u(t,["contents"]);if(r!=null){let g=Hc(i,r);Array.isArray(g)&&(g=g.map(y=>y)),c(o,["requests[]","content"],g)}const d=u(t,["config"]);d!=null&&$b(d,o);const h=u(t,["model"]);return h!==void 0&&c(o,["requests[]","model"],je(i,h)),o}function Wb(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],je(i,l));const r=u(t,["contents"]);if(r!=null){let h=Hc(i,r);Array.isArray(h)&&(h=h.map(g=>g)),c(o,["instances[]","content"],h)}const d=u(t,["config"]);return d!=null&&Qb(d,o),o}function e1(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["embeddings"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>h)),c(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function t1(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["predictions[]","embeddings"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>Ub(h))),c(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function n1(i){const t={},o=u(i,["endpoint"]);o!=null&&c(t,["name"],o);const l=u(i,["deployedModelId"]);return l!=null&&c(t,["deployedModelId"],l),t}function i1(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const l=u(i,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function o1(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const l=u(i,["args"]);l!=null&&c(t,["args"],l);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function a1(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const l=u(i,["allowedFunctionNames"]);if(l!=null&&c(t,["allowedFunctionNames"],l),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function l1(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const l=u(i,["name"]);l!=null&&c(t,["name"],l);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const h=u(i,["response"]);h!=null&&c(t,["response"],h);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function s1(i,t,o){const l={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],Xs(Vt(r)));const d=u(t,["temperature"]);d!=null&&c(l,["temperature"],d);const h=u(t,["topP"]);h!=null&&c(l,["topP"],h);const g=u(t,["topK"]);g!=null&&c(l,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(l,["candidateCount"],y);const v=u(t,["maxOutputTokens"]);v!=null&&c(l,["maxOutputTokens"],v);const x=u(t,["stopSequences"]);x!=null&&c(l,["stopSequences"],x);const _=u(t,["responseLogprobs"]);_!=null&&c(l,["responseLogprobs"],_);const S=u(t,["logprobs"]);S!=null&&c(l,["logprobs"],S);const E=u(t,["presencePenalty"]);E!=null&&c(l,["presencePenalty"],E);const I=u(t,["frequencyPenalty"]);I!=null&&c(l,["frequencyPenalty"],I);const U=u(t,["seed"]);U!=null&&c(l,["seed"],U);const M=u(t,["responseMimeType"]);M!=null&&c(l,["responseMimeType"],M);const k=u(t,["responseSchema"]);k!=null&&c(l,["responseSchema"],qc(k));const K=u(t,["responseJsonSchema"]);if(K!=null&&c(l,["responseJsonSchema"],K),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const j=u(t,["safetySettings"]);if(o!==void 0&&j!=null){let re=j;Array.isArray(re)&&(re=re.map(Ae=>Q1(Ae))),c(o,["safetySettings"],re)}const z=u(t,["tools"]);if(o!==void 0&&z!=null){let re=ha(z);Array.isArray(re)&&(re=re.map(Ae=>oS(pa(Ae)))),c(o,["tools"],re)}const ie=u(t,["toolConfig"]);if(o!==void 0&&ie!=null&&c(o,["toolConfig"],iS(ie)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=u(t,["cachedContent"]);o!==void 0&&X!=null&&c(o,["cachedContent"],di(i,X));const $=u(t,["responseModalities"]);$!=null&&c(l,["responseModalities"],$);const ye=u(t,["mediaResolution"]);ye!=null&&c(l,["mediaResolution"],ye);const le=u(t,["speechConfig"]);if(le!=null&&c(l,["speechConfig"],Vc(le)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ge=u(t,["thinkingConfig"]);ge!=null&&c(l,["thinkingConfig"],ge);const W=u(t,["imageConfig"]);W!=null&&c(l,["imageConfig"],U1(W));const ne=u(t,["enableEnhancedCivicAnswers"]);return ne!=null&&c(l,["enableEnhancedCivicAnswers"],ne),l}function r1(i,t,o){const l={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],Vt(r));const d=u(t,["temperature"]);d!=null&&c(l,["temperature"],d);const h=u(t,["topP"]);h!=null&&c(l,["topP"],h);const g=u(t,["topK"]);g!=null&&c(l,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(l,["candidateCount"],y);const v=u(t,["maxOutputTokens"]);v!=null&&c(l,["maxOutputTokens"],v);const x=u(t,["stopSequences"]);x!=null&&c(l,["stopSequences"],x);const _=u(t,["responseLogprobs"]);_!=null&&c(l,["responseLogprobs"],_);const S=u(t,["logprobs"]);S!=null&&c(l,["logprobs"],S);const E=u(t,["presencePenalty"]);E!=null&&c(l,["presencePenalty"],E);const I=u(t,["frequencyPenalty"]);I!=null&&c(l,["frequencyPenalty"],I);const U=u(t,["seed"]);U!=null&&c(l,["seed"],U);const M=u(t,["responseMimeType"]);M!=null&&c(l,["responseMimeType"],M);const k=u(t,["responseSchema"]);k!=null&&c(l,["responseSchema"],qc(k));const K=u(t,["responseJsonSchema"]);K!=null&&c(l,["responseJsonSchema"],K);const j=u(t,["routingConfig"]);j!=null&&c(l,["routingConfig"],j);const z=u(t,["modelSelectionConfig"]);z!=null&&c(l,["modelConfig"],z);const ie=u(t,["safetySettings"]);if(o!==void 0&&ie!=null){let q=ie;Array.isArray(q)&&(q=q.map(te=>te)),c(o,["safetySettings"],q)}const X=u(t,["tools"]);if(o!==void 0&&X!=null){let q=ha(X);Array.isArray(q)&&(q=q.map(te=>H0(pa(te)))),c(o,["tools"],q)}const $=u(t,["toolConfig"]);o!==void 0&&$!=null&&c(o,["toolConfig"],$);const ye=u(t,["labels"]);o!==void 0&&ye!=null&&c(o,["labels"],ye);const le=u(t,["cachedContent"]);o!==void 0&&le!=null&&c(o,["cachedContent"],di(i,le));const ge=u(t,["responseModalities"]);ge!=null&&c(l,["responseModalities"],ge);const W=u(t,["mediaResolution"]);W!=null&&c(l,["mediaResolution"],W);const ne=u(t,["speechConfig"]);ne!=null&&c(l,["speechConfig"],Vc(ne));const re=u(t,["audioTimestamp"]);re!=null&&c(l,["audioTimestamp"],re);const Ae=u(t,["thinkingConfig"]);Ae!=null&&c(l,["thinkingConfig"],Ae);const Ye=u(t,["imageConfig"]);if(Ye!=null&&c(l,["imageConfig"],L1(Ye)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return l}function Xm(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],je(i,l));const r=u(t,["contents"]);if(r!=null){let h=Nn(r);Array.isArray(h)&&(h=h.map(g=>Xs(g))),c(o,["contents"],h)}const d=u(t,["config"]);return d!=null&&c(o,["generationConfig"],s1(i,d,o)),o}function $m(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],je(i,l));const r=u(t,["contents"]);if(r!=null){let h=Nn(r);Array.isArray(h)&&(h=h.map(g=>g)),c(o,["contents"],h)}const d=u(t,["config"]);return d!=null&&c(o,["generationConfig"],r1(i,d,o)),o}function Qm(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(v=>Rb(v))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const h=u(i,["responseId"]);h!=null&&c(t,["responseId"],h);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function Zm(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["candidates"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(x=>x)),c(t,["candidates"],v)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const d=u(i,["modelVersion"]);d!=null&&c(t,["modelVersion"],d);const h=u(i,["promptFeedback"]);h!=null&&c(t,["promptFeedback"],h);const g=u(i,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function u1(i,t){const o={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=u(i,["numberOfImages"]);t!==void 0&&l!=null&&c(t,["parameters","sampleCount"],l);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const d=u(i,["guidanceScale"]);if(t!==void 0&&d!=null&&c(t,["parameters","guidanceScale"],d),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const v=u(i,["includeRaiReason"]);t!==void 0&&v!=null&&c(t,["parameters","includeRaiReason"],v);const x=u(i,["language"]);t!==void 0&&x!=null&&c(t,["parameters","language"],x);const _=u(i,["outputMimeType"]);t!==void 0&&_!=null&&c(t,["parameters","outputOptions","mimeType"],_);const S=u(i,["outputCompressionQuality"]);if(t!==void 0&&S!=null&&c(t,["parameters","outputOptions","compressionQuality"],S),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=u(i,["imageSize"]);if(t!==void 0&&E!=null&&c(t,["parameters","sampleImageSize"],E),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function c1(i,t){const o={},l=u(i,["outputGcsUri"]);t!==void 0&&l!=null&&c(t,["parameters","storageUri"],l);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const h=u(i,["aspectRatio"]);t!==void 0&&h!=null&&c(t,["parameters","aspectRatio"],h);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const v=u(i,["safetyFilterLevel"]);t!==void 0&&v!=null&&c(t,["parameters","safetySetting"],v);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&c(t,["parameters","personGeneration"],x);const _=u(i,["includeSafetyAttributes"]);t!==void 0&&_!=null&&c(t,["parameters","includeSafetyAttributes"],_);const S=u(i,["includeRaiReason"]);t!==void 0&&S!=null&&c(t,["parameters","includeRaiReason"],S);const E=u(i,["language"]);t!==void 0&&E!=null&&c(t,["parameters","language"],E);const I=u(i,["outputMimeType"]);t!==void 0&&I!=null&&c(t,["parameters","outputOptions","mimeType"],I);const U=u(i,["outputCompressionQuality"]);t!==void 0&&U!=null&&c(t,["parameters","outputOptions","compressionQuality"],U);const M=u(i,["addWatermark"]);t!==void 0&&M!=null&&c(t,["parameters","addWatermark"],M);const k=u(i,["labels"]);t!==void 0&&k!=null&&c(t,["labels"],k);const K=u(i,["imageSize"]);t!==void 0&&K!=null&&c(t,["parameters","sampleImageSize"],K);const j=u(i,["enhancePrompt"]);return t!==void 0&&j!=null&&c(t,["parameters","enhancePrompt"],j),o}function d1(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],je(i,l));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&u1(d,o),o}function f1(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],je(i,l));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&c1(d,o),o}function p1(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["predictions"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>C1(h))),c(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],P0(r)),t}function h1(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["predictions"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>$s(h))),c(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],G0(r)),t}function m1(i,t){const o={},l=u(i,["numberOfVideos"]);if(t!==void 0&&l!=null&&c(t,["parameters","sampleCount"],l),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(i,["aspectRatio"]);t!==void 0&&d!=null&&c(t,["parameters","aspectRatio"],d);const h=u(i,["resolution"]);t!==void 0&&h!=null&&c(t,["parameters","resolution"],h);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const v=u(i,["enhancePrompt"]);if(t!==void 0&&v!=null&&c(t,["parameters","enhancePrompt"],v),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=u(i,["lastFrame"]);t!==void 0&&x!=null&&c(t,["instances[0]","lastFrame"],Qs(x));const _=u(i,["referenceImages"]);if(t!==void 0&&_!=null){let S=_;Array.isArray(S)&&(S=S.map(E=>vS(E))),c(t,["instances[0]","referenceImages"],S)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function g1(i,t){const o={},l=u(i,["numberOfVideos"]);t!==void 0&&l!=null&&c(t,["parameters","sampleCount"],l);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const d=u(i,["fps"]);t!==void 0&&d!=null&&c(t,["parameters","fps"],d);const h=u(i,["durationSeconds"]);t!==void 0&&h!=null&&c(t,["parameters","durationSeconds"],h);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const v=u(i,["resolution"]);t!==void 0&&v!=null&&c(t,["parameters","resolution"],v);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&c(t,["parameters","personGeneration"],x);const _=u(i,["pubsubTopic"]);t!==void 0&&_!=null&&c(t,["parameters","pubsubTopic"],_);const S=u(i,["negativePrompt"]);t!==void 0&&S!=null&&c(t,["parameters","negativePrompt"],S);const E=u(i,["enhancePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","enhancePrompt"],E);const I=u(i,["generateAudio"]);t!==void 0&&I!=null&&c(t,["parameters","generateAudio"],I);const U=u(i,["lastFrame"]);t!==void 0&&U!=null&&c(t,["instances[0]","lastFrame"],zn(U));const M=u(i,["referenceImages"]);if(t!==void 0&&M!=null){let j=M;Array.isArray(j)&&(j=j.map(z=>yS(z))),c(t,["instances[0]","referenceImages"],j)}const k=u(i,["mask"]);t!==void 0&&k!=null&&c(t,["instances[0]","mask"],gS(k));const K=u(i,["compressionQuality"]);return t!==void 0&&K!=null&&c(t,["parameters","compressionQuality"],K),o}function v1(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const l=u(i,["metadata"]);l!=null&&c(t,["metadata"],l);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const h=u(i,["response","generateVideoResponse"]);return h!=null&&c(t,["response"],b1(h)),t}function y1(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const l=u(i,["metadata"]);l!=null&&c(t,["metadata"],l);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const h=u(i,["response"]);return h!=null&&c(t,["response"],S1(h)),t}function x1(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],je(i,l));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(o,["instances[0]","image"],Qs(d));const h=u(t,["video"]);h!=null&&c(o,["instances[0]","video"],q0(h));const g=u(t,["source"]);g!=null&&T1(g,o);const y=u(t,["config"]);return y!=null&&m1(y,o),o}function _1(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],je(i,l));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(o,["instances[0]","image"],zn(d));const h=u(t,["video"]);h!=null&&c(o,["instances[0]","video"],V0(h));const g=u(t,["source"]);g!=null&&E1(g,o);const y=u(t,["config"]);return y!=null&&g1(y,o),o}function b1(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(h=>A1(h))),c(t,["generatedVideos"],d)}const l=u(i,["raiMediaFilteredCount"]);l!=null&&c(t,["raiMediaFilteredCount"],l);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function S1(i){const t={},o=u(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(h=>w1(h))),c(t,["generatedVideos"],d)}const l=u(i,["raiMediaFilteredCount"]);l!=null&&c(t,["raiMediaFilteredCount"],l);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function T1(i,t){const o={},l=u(i,["prompt"]);t!==void 0&&l!=null&&c(t,["instances[0]","prompt"],l);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Qs(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],q0(d)),o}function E1(i,t){const o={},l=u(i,["prompt"]);t!==void 0&&l!=null&&c(t,["instances[0]","prompt"],l);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],zn(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],V0(d)),o}function C1(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],z1(o));const l=u(i,["raiFilteredReason"]);l!=null&&c(t,["raiFilteredReason"],l);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],P0(r)),t}function $s(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],z0(o));const l=u(i,["raiFilteredReason"]);l!=null&&c(t,["raiFilteredReason"],l);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],G0(r));const d=u(i,["prompt"]);return d!=null&&c(t,["enhancedPrompt"],d),t}function N1(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["mask"],z0(o));const l=u(i,["labels"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["labels"],r)}return t}function A1(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],hS(o)),t}function w1(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],mS(o)),t}function M1(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const l=u(i,["responseJsonSchema"]);l!=null&&c(t,["responseJsonSchema"],l);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const h=u(i,["enableAffectiveDialog"]);h!=null&&c(t,["enableAffectiveDialog"],h);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const v=u(i,["maxOutputTokens"]);v!=null&&c(t,["maxOutputTokens"],v);const x=u(i,["mediaResolution"]);x!=null&&c(t,["mediaResolution"],x);const _=u(i,["presencePenalty"]);_!=null&&c(t,["presencePenalty"],_);const S=u(i,["responseLogprobs"]);S!=null&&c(t,["responseLogprobs"],S);const E=u(i,["responseMimeType"]);E!=null&&c(t,["responseMimeType"],E);const I=u(i,["responseModalities"]);I!=null&&c(t,["responseModalities"],I);const U=u(i,["responseSchema"]);U!=null&&c(t,["responseSchema"],U);const M=u(i,["routingConfig"]);M!=null&&c(t,["routingConfig"],M);const k=u(i,["seed"]);k!=null&&c(t,["seed"],k);const K=u(i,["speechConfig"]);K!=null&&c(t,["speechConfig"],K);const j=u(i,["stopSequences"]);j!=null&&c(t,["stopSequences"],j);const z=u(i,["temperature"]);z!=null&&c(t,["temperature"],z);const ie=u(i,["thinkingConfig"]);ie!=null&&c(t,["thinkingConfig"],ie);const X=u(i,["topK"]);X!=null&&c(t,["topK"],X);const $=u(i,["topP"]);if($!=null&&c(t,["topP"],$),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function R1(i,t){const o={},l=u(t,["model"]);return l!=null&&c(o,["_url","name"],je(i,l)),o}function I1(i,t){const o={},l=u(t,["model"]);return l!=null&&c(o,["_url","name"],je(i,l)),o}function k1(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function D1(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function U1(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const l=u(i,["imageSize"]);if(l!=null&&c(t,["imageSize"],l),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function L1(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const l=u(i,["imageSize"]);l!=null&&c(t,["imageSize"],l);const r=u(i,["outputMimeType"]);r!=null&&c(t,["imageOutputOptions","mimeType"],r);const d=u(i,["outputCompressionQuality"]);return d!=null&&c(t,["imageOutputOptions","compressionQuality"],d),t}function z1(i){const t={},o=u(i,["bytesBase64Encoded"]);o!=null&&c(t,["imageBytes"],Fi(o));const l=u(i,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function z0(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const l=u(i,["bytesBase64Encoded"]);l!=null&&c(t,["imageBytes"],Fi(l));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Qs(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(i,["imageBytes"]);o!=null&&c(t,["bytesBase64Encoded"],Fi(o));const l=u(i,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function zn(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const l=u(i,["imageBytes"]);l!=null&&c(t,["bytesBase64Encoded"],Fi(l));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function P1(i,t,o){const l={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const d=u(t,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const h=u(t,["filter"]);o!==void 0&&h!=null&&c(o,["_query","filter"],h);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],M0(i,g)),l}function G1(i,t,o){const l={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const d=u(t,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const h=u(t,["filter"]);o!==void 0&&h!=null&&c(o,["_query","filter"],h);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],M0(i,g)),l}function H1(i,t){const o={},l=u(t,["config"]);return l!=null&&P1(i,l,o),o}function q1(i,t){const o={},l=u(t,["config"]);return l!=null&&G1(i,l,o),o}function V1(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["nextPageToken"]);l!=null&&c(t,["nextPageToken"],l);const r=u(i,["_self"]);if(r!=null){let d=R0(r);Array.isArray(d)&&(d=d.map(h=>Cc(h))),c(t,["models"],d)}return t}function B1(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["nextPageToken"]);l!=null&&c(t,["nextPageToken"],l);const r=u(i,["_self"]);if(r!=null){let d=R0(r);Array.isArray(d)&&(d=d.map(h=>Nc(h))),c(t,["models"],d)}return t}function F1(i){const t={},o=u(i,["maskMode"]);o!=null&&c(t,["maskMode"],o);const l=u(i,["segmentationClasses"]);l!=null&&c(t,["maskClasses"],l);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function Cc(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const l=u(i,["displayName"]);l!=null&&c(t,["displayName"],l);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const d=u(i,["version"]);d!=null&&c(t,["version"],d);const h=u(i,["_self"]);h!=null&&c(t,["tunedModelInfo"],aS(h));const g=u(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const v=u(i,["supportedGenerationMethods"]);v!=null&&c(t,["supportedActions"],v);const x=u(i,["temperature"]);x!=null&&c(t,["temperature"],x);const _=u(i,["maxTemperature"]);_!=null&&c(t,["maxTemperature"],_);const S=u(i,["topP"]);S!=null&&c(t,["topP"],S);const E=u(i,["topK"]);E!=null&&c(t,["topK"],E);const I=u(i,["thinking"]);return I!=null&&c(t,["thinking"],I),t}function Nc(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const l=u(i,["displayName"]);l!=null&&c(t,["displayName"],l);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const d=u(i,["versionId"]);d!=null&&c(t,["version"],d);const h=u(i,["deployedModels"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(S=>n1(S))),c(t,["endpoints"],_)}const g=u(i,["labels"]);g!=null&&c(t,["labels"],g);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],lS(y));const v=u(i,["defaultCheckpointId"]);v!=null&&c(t,["defaultCheckpointId"],v);const x=u(i,["checkpoints"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(S=>S)),c(t,["checkpoints"],_)}return t}function O1(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const l=u(i,["codeExecutionResult"]);l!=null&&c(t,["codeExecutionResult"],l);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],i1(d));const h=u(i,["functionCall"]);h!=null&&c(t,["functionCall"],o1(h));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Mb(y));const v=u(i,["text"]);v!=null&&c(t,["text"],v);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const _=u(i,["thoughtSignature"]);_!=null&&c(t,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&c(t,["videoMetadata"],S),t}function j1(i){const t={},o=u(i,["productImage"]);return o!=null&&c(t,["image"],zn(o)),t}function J1(i,t){const o={},l=u(i,["numberOfImages"]);t!==void 0&&l!=null&&c(t,["parameters","sampleCount"],l);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const d=u(i,["outputGcsUri"]);t!==void 0&&d!=null&&c(t,["parameters","storageUri"],d);const h=u(i,["seed"]);t!==void 0&&h!=null&&c(t,["parameters","seed"],h);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const v=u(i,["addWatermark"]);t!==void 0&&v!=null&&c(t,["parameters","addWatermark"],v);const x=u(i,["outputMimeType"]);t!==void 0&&x!=null&&c(t,["parameters","outputOptions","mimeType"],x);const _=u(i,["outputCompressionQuality"]);t!==void 0&&_!=null&&c(t,["parameters","outputOptions","compressionQuality"],_);const S=u(i,["enhancePrompt"]);t!==void 0&&S!=null&&c(t,["parameters","enhancePrompt"],S);const E=u(i,["labels"]);return t!==void 0&&E!=null&&c(t,["labels"],E),o}function Y1(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],je(i,l));const r=u(t,["source"]);r!=null&&X1(r,o);const d=u(t,["config"]);return d!=null&&J1(d,o),o}function K1(i){const t={},o=u(i,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>$s(r))),c(t,["generatedImages"],l)}return t}function X1(i,t){const o={},l=u(i,["prompt"]);t!==void 0&&l!=null&&c(t,["instances[0]","prompt"],l);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],zn(r));const d=u(i,["productImages"]);if(t!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>j1(g))),c(t,["instances[0]","productImages"],h)}return o}function $1(i){const t={},o=u(i,["referenceImage"]);o!=null&&c(t,["referenceImage"],zn(o));const l=u(i,["referenceId"]);l!=null&&c(t,["referenceId"],l);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const d=u(i,["maskImageConfig"]);d!=null&&c(t,["maskImageConfig"],F1(d));const h=u(i,["controlImageConfig"]);h!=null&&c(t,["controlImageConfig"],zb(h));const g=u(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function P0(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const l=u(i,["safetyAttributes","scores"]);l!=null&&c(t,["scores"],l);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function G0(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const l=u(i,["safetyAttributes","scores"]);l!=null&&c(t,["scores"],l);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function Q1(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=u(i,["threshold"]);return l!=null&&c(t,["threshold"],l),t}function Z1(i){const t={},o=u(i,["image"]);return o!=null&&c(t,["image"],zn(o)),t}function W1(i,t){const o={},l=u(i,["mode"]);t!==void 0&&l!=null&&c(t,["parameters","mode"],l);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const d=u(i,["confidenceThreshold"]);t!==void 0&&d!=null&&c(t,["parameters","confidenceThreshold"],d);const h=u(i,["maskDilation"]);t!==void 0&&h!=null&&c(t,["parameters","maskDilation"],h);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),o}function eS(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],je(i,l));const r=u(t,["source"]);r!=null&&nS(r,o);const d=u(t,["config"]);return d!=null&&W1(d,o),o}function tS(i){const t={},o=u(i,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>N1(r))),c(t,["generatedMasks"],l)}return t}function nS(i,t){const o={},l=u(i,["prompt"]);t!==void 0&&l!=null&&c(t,["instances[0]","prompt"],l);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],zn(r));const d=u(i,["scribbleImage"]);return t!==void 0&&d!=null&&c(t,["instances[0]","scribble"],Z1(d)),o}function iS(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],a1(o));const l=u(i,["retrievalConfig"]);return l!=null&&c(t,["retrievalConfig"],l),t}function oS(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(_=>_)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["googleSearchRetrieval"]);l!=null&&c(t,["googleSearchRetrieval"],l);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const h=u(i,["codeExecution"]);if(h!=null&&c(t,["codeExecution"],h),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],k1(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],D1(y));const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function H0(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(S=>l1(S))),c(t,["functionDeclarations"],_)}const l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const d=u(i,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const h=u(i,["codeExecution"]);h!=null&&c(t,["codeExecution"],h);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const v=u(i,["googleSearch"]);v!=null&&c(t,["googleSearch"],v);const x=u(i,["urlContext"]);return x!=null&&c(t,["urlContext"],x),t}function aS(i){const t={},o=u(i,["baseModel"]);o!=null&&c(t,["baseModel"],o);const l=u(i,["createTime"]);l!=null&&c(t,["createTime"],l);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function lS(i){const t={},o=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(t,["baseModel"],o);const l=u(i,["createTime"]);l!=null&&c(t,["createTime"],l);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function sS(i,t){const o={},l=u(i,["displayName"]);t!==void 0&&l!=null&&c(t,["displayName"],l);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),o}function rS(i,t){const o={},l=u(i,["displayName"]);t!==void 0&&l!=null&&c(t,["displayName"],l);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),o}function uS(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","name"],je(i,l));const r=u(t,["config"]);return r!=null&&sS(r,o),o}function cS(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],je(i,l));const r=u(t,["config"]);return r!=null&&rS(r,o),o}function dS(i,t){const o={},l=u(i,["outputGcsUri"]);t!==void 0&&l!=null&&c(t,["parameters","storageUri"],l);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const d=u(i,["personGeneration"]);t!==void 0&&d!=null&&c(t,["parameters","personGeneration"],d);const h=u(i,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const v=u(i,["enhanceInputImage"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],v);const x=u(i,["imagePreservationFactor"]);t!==void 0&&x!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],x);const _=u(i,["labels"]);t!==void 0&&_!=null&&c(t,["labels"],_);const S=u(i,["numberOfImages"]);t!==void 0&&S!=null&&c(t,["parameters","sampleCount"],S);const E=u(i,["mode"]);return t!==void 0&&E!=null&&c(t,["parameters","mode"],E),o}function fS(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],je(i,l));const r=u(t,["image"]);r!=null&&c(o,["instances[0]","image"],zn(r));const d=u(t,["upscaleFactor"]);d!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],d);const h=u(t,["config"]);return h!=null&&dS(h,o),o}function pS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>$s(d))),c(t,["generatedImages"],r)}return t}function hS(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const l=u(i,["encodedVideo"]);l!=null&&c(t,["videoBytes"],Fi(l));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function mS(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const l=u(i,["bytesBase64Encoded"]);l!=null&&c(t,["videoBytes"],Fi(l));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function gS(i){const t={},o=u(i,["image"]);o!=null&&c(t,["_self"],zn(o));const l=u(i,["maskMode"]);return l!=null&&c(t,["maskMode"],l),t}function vS(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],Qs(o));const l=u(i,["referenceType"]);return l!=null&&c(t,["referenceType"],l),t}function yS(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],zn(o));const l=u(i,["referenceType"]);return l!=null&&c(t,["referenceType"],l),t}function q0(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const l=u(i,["videoBytes"]);l!=null&&c(t,["encodedVideo"],Fi(l));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function V0(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["gcsUri"],o);const l=u(i,["videoBytes"]);l!=null&&c(t,["bytesBase64Encoded"],Fi(l));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xS(i,t){const o={},l=u(i,["displayName"]);return t!==void 0&&l!=null&&c(t,["displayName"],l),o}function _S(i){const t={},o=u(i,["config"]);return o!=null&&xS(o,t),t}function bS(i,t){const o={},l=u(i,["force"]);return t!==void 0&&l!=null&&c(t,["_query","force"],l),o}function SS(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const l=u(i,["config"]);return l!=null&&bS(l,t),t}function TS(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function ES(i,t){const o={},l=u(i,["customMetadata"]);if(t!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>h)),c(t,["customMetadata"],d)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),o}function CS(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const l=u(i,["metadata"]);l!=null&&c(t,["metadata"],l);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const h=u(i,["response"]);return h!=null&&c(t,["response"],AS(h)),t}function NS(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const l=u(i,["fileName"]);l!=null&&c(t,["fileName"],l);const r=u(i,["config"]);return r!=null&&ES(r,t),t}function AS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["parent"]);l!=null&&c(t,["parent"],l);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function wS(i,t){const o={},l=u(i,["pageSize"]);t!==void 0&&l!=null&&c(t,["_query","pageSize"],l);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function MS(i){const t={},o=u(i,["config"]);return o!=null&&wS(o,t),t}function RS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["nextPageToken"]);l!=null&&c(t,["nextPageToken"],l);const r=u(i,["fileSearchStores"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),c(t,["fileSearchStores"],d)}return t}function B0(i,t){const o={},l=u(i,["mimeType"]);t!==void 0&&l!=null&&c(t,["mimeType"],l);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const d=u(i,["customMetadata"]);if(t!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const h=u(i,["chunkingConfig"]);return t!==void 0&&h!=null&&c(t,["chunkingConfig"],h),o}function IS(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const l=u(i,["config"]);return l!=null&&B0(l,t),t}function kS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DS="Content-Type",US="X-Server-Timeout",LS="User-Agent",Ac="x-goog-api-client",zS="1.34.0",PS=`google-genai-sdk/${zS}`,GS="v1beta1",HS="v1beta";class qS{constructor(t){var o,l;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:GS,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:HS,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&l.push(t.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,l){const r=[this.getRequestUrlInternal(o)];return l&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const l=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,l);if(t.queryParams)for(const[h,g]of Object.entries(t.queryParams))r.searchParams.append(h,String(g));let d={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=t.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,r.toString(),t.abortSignal),this.unaryApiCall(r,d,t.httpMethod)}patchHttpOptions(t,o){const l=JSON.parse(JSON.stringify(t));for(const[r,d]of Object.entries(o))typeof d=="object"?l[r]=Object.assign(Object.assign({},l[r]),d):d!==void 0&&(l[r]=d);return l}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const l=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,l);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let d={};return d.body=t.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,r.toString(),t.abortSignal),this.streamApiCall(r,d,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,l,r){if(o&&o.timeout||r){const d=new AbortController,h=d.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>d.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{d.abort()}),t.signal=h}return o&&o.extraBody!==null&&VS(t,o.extraBody),t.headers=await this.getHeadersInternal(o,l),t}async unaryApiCall(t,o,l){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:l})).then(async r=>(await Wm(r),new Sc(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,l){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:l})).then(async r=>(await Wm(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Un(this,arguments,function*(){var l;const r=(l=t==null?void 0:t.body)===null||l===void 0?void 0:l.getReader(),d=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let h="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:v,value:x}=yield Ce(r.read());if(v){if(h.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=d.decode(x,{stream:!0});try{const I=JSON.parse(_);if("error"in I){const U=JSON.parse(JSON.stringify(I.error)),M=U.status,k=U.code,K=`got status: ${M}. ${JSON.stringify(I)}`;if(k>=400&&k<600)throw new Ks({message:K,status:k})}}catch(I){if(I.name==="ApiError")throw I}h+=_;let S=-1,E=0;for(;;){S=-1,E=0;for(const M of y){const k=h.indexOf(M);k!==-1&&(S===-1||k<S)&&(S=k,E=M.length)}if(S===-1)break;const I=h.substring(0,S);h=h.substring(S+E);const U=I.trim();if(U.startsWith(g)){const M=U.substring(g.length).trim();try{const k=new Response(M,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Ce(new Sc(k))}catch(k){throw new Error(`exception parsing stream chunk ${M}. ${k}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const t={},o=PS+" "+this.clientOptions.userAgentExtra;return t[LS]=o,t[Ac]=o,t[DS]="application/json",t}async getHeadersInternal(t,o){const l=new Headers;if(t&&t.headers){for(const[r,d]of Object.entries(t.headers))l.append(r,d);t.timeout&&t.timeout>0&&l.append(US,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l,o),l}getFileName(t){var o;let l="";return typeof t=="string"&&(l=t.replace(/[/\\]+$/,""),l=(o=l.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),l}async uploadFile(t,o){var l;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const d=this.clientOptions.uploader,h=await d.stat(t);r.sizeBytes=String(h.size);const g=(l=o==null?void 0:o.mimeType)!==null&&l!==void 0?l:h.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},v=this.getFileName(t),x=ue("upload/v1beta/files",y._url),_=await this.fetchUploadUrl(x,r.sizeBytes,r.mimeType,v,y,o==null?void 0:o.httpOptions);return d.upload(t,_,this)}async uploadFileToFileSearchStore(t,o,l){var r;const d=this.clientOptions.uploader,h=await d.stat(o),g=String(h.size),y=(r=l==null?void 0:l.mimeType)!==null&&r!==void 0?r:h.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const v=`upload/v1beta/${t}:uploadToFileSearchStore`,x=this.getFileName(o),_={};l!=null&&B0(l,_);const S=await this.fetchUploadUrl(v,g,y,x,_,l==null?void 0:l.httpOptions);return d.uploadToFileSearchStore(o,S,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,l,r,d,h){var g;let y={};h?y=h:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${l}`},r?{"X-Goog-Upload-File-Name":r}:{})};const v=await this.request({path:t,body:JSON.stringify(d),httpMethod:"POST",httpOptions:y});if(!v||!(v!=null&&v.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(g=v==null?void 0:v.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function Wm(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let l;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?l=await i.json():l={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(l);throw o>=400&&o<600?new Ks({message:r,status:o}):new Error(r)}}function VS(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const d=JSON.parse(i.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(d,h){const g=Object.assign({},d);for(const y in h)if(Object.prototype.hasOwnProperty.call(h,y)){const v=h[y],x=g[y];v&&typeof v=="object"&&!Array.isArray(v)&&x&&typeof x=="object"&&!Array.isArray(x)?g[y]=l(x,v):(x&&v&&typeof x!=typeof v&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof x}, New type: ${typeof v}. Overwriting.`),g[y]=v)}return g}const r=l(o,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BS="mcp_used/unknown";let FS=!1;function F0(i){for(const t of i)if(OS(t)||typeof t=="object"&&"inputSchema"in t)return!0;return FS}function O0(i){var t;const o=(t=i[Ac])!==null&&t!==void 0?t:"";i[Ac]=(o+` ${BS}`).trimStart()}function OS(i){return i!==null&&typeof i=="object"&&i instanceof Fc}function jS(i){return Un(this,arguments,function*(o,l=100){let r,d=0;for(;d<l;){const h=yield Ce(o.listTools({cursor:r}));for(const g of h.tools)yield yield Ce(g),d++;if(!h.nextCursor)break;r=h.nextCursor}})}class Fc{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new Fc(t,o)}async initialize(){var t,o,l,r;if(this.mcpTools.length>0)return;const d={},h=[];for(const x of this.mcpClients)try{for(var g=!0,y=(o=void 0,Ln(jS(x))),v;v=await y.next(),t=v.done,!t;g=!0){r=v.value,g=!1;const _=r;h.push(_);const S=_.name;if(d[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);d[S]=x}}catch(_){o={error:_}}finally{try{!g&&!t&&(l=y.return)&&await l.call(y)}finally{if(o)throw o.error}}this.mcpTools=h,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),Tx(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const l of t)if(l.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[l.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const h=await r.callTool({name:l.name,arguments:l.args},void 0,d);o.push({functionResponse:{name:l.name,response:h.isError?{error:h}:h}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function JS(i,t,o){const l=new mx;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(l,r),t(l)}class YS{constructor(t,o,l){this.apiClient=t,this.auth=o,this.webSocketFactory=l}async connect(t){var o,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),h=$S(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let v=()=>{};const x=new Promise(j=>{v=j}),_=t.callbacks,S=function(){v({})},E=this.apiClient,I={onopen:S,onmessage:j=>{JS(E,_.onmessage,j)},onerror:(o=_==null?void 0:_.onerror)!==null&&o!==void 0?o:function(j){},onclose:(l=_==null?void 0:_.onclose)!==null&&l!==void 0?l:function(j){}},U=this.webSocketFactory.create(y,XS(h),I);U.connect(),await x;const K={setup:{model:je(this.apiClient,t.model)}};return U.send(JSON.stringify(K)),new KS(U,this.apiClient)}}class KS{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=_b(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=xb(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(sa.PLAY)}pause(){this.sendPlaybackControl(sa.PAUSE)}stop(){this.sendPlaybackControl(sa.STOP)}resetContext(){this.sendPlaybackControl(sa.RESET_CONTEXT)}close(){this.conn.close()}}function XS(i){const t={};return i.forEach((o,l)=>{t[l]=o}),t}function $S(i){const t=new Headers;for(const[o,l]of Object.entries(i))t.append(o,l);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function ZS(i,t,o){const l=new hx;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const d=JSON.parse(r);if(i.isVertexAI()){const h=Tb(d);Object.assign(l,h)}else Object.assign(l,d);t(l)}class WS{constructor(t,o,l){this.apiClient=t,this.auth=o,this.webSocketFactory=l,this.music=new YS(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,l,r,d,h,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),v=this.apiClient.getApiVersion();let x;const _=this.apiClient.getHeaders();t.config&&t.config.tools&&F0(t.config.tools)&&O0(_);const S=iT(_);if(this.apiClient.isVertexAI())x=`${y}/ws/google.cloud.aiplatform.${v}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,x);else{const le=this.apiClient.getApiKey();let ge="BidiGenerateContent",W="key";le!=null&&le.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),v!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ge="BidiGenerateContentConstrained",W="access_token"),x=`${y}/ws/google.ai.generativelanguage.${v}.GenerativeService.${ge}?${W}=${le}`}let E=()=>{};const I=new Promise(le=>{E=le}),U=t.callbacks,M=function(){var le;(le=U==null?void 0:U.onopen)===null||le===void 0||le.call(U),E({})},k=this.apiClient,K={onopen:M,onmessage:le=>{ZS(k,U.onmessage,le)},onerror:(o=U==null?void 0:U.onerror)!==null&&o!==void 0?o:function(le){},onclose:(l=U==null?void 0:U.onclose)!==null&&l!==void 0?l:function(le){}},j=this.webSocketFactory.create(x,nT(S),K);j.connect(),await I;let z=je(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&z.startsWith("publishers/")){const le=this.apiClient.getProject(),ge=this.apiClient.getLocation();z=`projects/${le}/locations/${ge}/`+z}let ie={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[qs.AUDIO]}:t.config.responseModalities=[qs.AUDIO]),!((d=t.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const X=(g=(h=t.config)===null||h===void 0?void 0:h.tools)!==null&&g!==void 0?g:[],$=[];for(const le of X)if(this.isCallableTool(le)){const ge=le;$.push(await ge.tool())}else $.push(le);$.length>0&&(t.config.tools=$);const ye={model:z,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?ie=yb(this.apiClient,ye):ie=vb(this.apiClient,ye),delete ie.config,j.send(JSON.stringify(ie)),new tT(j,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const eT={turnComplete:!0};class tT{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let l=[];try{l=Nn(o.turns),t.isVertexAI()||(l=l.map(r=>Xs(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:l,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let l=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?l=o.functionResponses:l=[o.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const d of l){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!t.isVertexAI()&&!("id"in d))throw new Error(QS)}return{toolResponse:{functionResponses:l}}}sendClientContent(t){t=Object.assign(Object.assign({},eT),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:Sb(t)}:o={realtimeInput:bb(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function nT(i){const t={};return i.forEach((o,l)=>{t[l]=o}),t}function iT(i){const t=new Headers;for(const[o,l]of Object.entries(i))t.append(o,l);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const e0=10;function t0(i){var t,o,l;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const h of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(ca(h)){r=!0;break}if(!r)return!0;const d=(l=i==null?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function ca(i){return"callTool"in i&&typeof i.callTool=="function"}function oT(i){var t,o,l;return(l=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>ca(r)))!==null&&l!==void 0?l:!1}function n0(i){var t;const o=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((l,r)=>{if(ca(l))return;const d=l;d.functionDeclarations&&d.functionDeclarations.length>0&&o.push(r)}),o}function i0(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aT extends ci{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var l,r,d,h,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!oT(o)||t0(o.config))return await this.generateContentInternal(y);const v=n0(o);if(v.length>0){const U=v.map(M=>`tools[${M}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${U}.`)}let x,_;const S=Nn(y.contents),E=(d=(r=(l=y.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&d!==void 0?d:e0;let I=0;for(;I<E&&(x=await this.generateContentInternal(y),!(!x.functionCalls||x.functionCalls.length===0));){const U=x.candidates[0].content,M=[];for(const k of(g=(h=o.config)===null||h===void 0?void 0:h.tools)!==null&&g!==void 0?g:[])if(ca(k)){const j=await k.callTool(x.functionCalls);M.push(...j)}I++,_={role:"user",parts:M},y.contents=Nn(y.contents),y.contents.push(U),y.contents.push(_),i0(y.config)&&(S.push(U),S.push(_))}return i0(y.config)&&(x.automaticFunctionCallingHistory=S),x},this.generateContentStream=async o=>{var l,r,d,h,g;if(this.maybeMoveToResponseJsonSchem(o),t0(o.config)){const _=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(_)}const y=n0(o);if(y.length>0){const _=y.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const v=(d=(r=(l=o==null?void 0:o.config)===null||l===void 0?void 0:l.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||d===void 0?void 0:d.streamFunctionCallArguments,x=(g=(h=o==null?void 0:o.config)===null||h===void 0?void 0:h.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(v&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(l=>{var r;let d;const h=[];if(l!=null&&l.generatedImages)for(const y of l.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:h.push(y);let g;return d?g={generatedImages:h,positivePromptSafetyAttributes:d,sdkHttpResponse:l.sdkHttpResponse}:g={generatedImages:h,sdkHttpResponse:l.sdkHttpResponse},g}),this.list=async o=>{var l;const h={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!h.config.queryBase){if(!((l=h.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");h.config.filter="labels.tune-type:*"}return new yo(ui.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(h),h)},this.editImage=async o=>{const l={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(l.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async o=>{let l={numberOfImages:1,mode:"upscale"};o.config&&(l=Object.assign(Object.assign({},l),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:l};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var l,r,d,h,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((l=o.video)===null||l===void 0)&&l.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((h=(d=o.source)===null||d===void 0?void 0:d.video)===null||h===void 0)&&h.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,l,r;const d=(o=t.config)===null||o===void 0?void 0:o.tools;if(!d)return t;const h=await Promise.all(d.map(async y=>ca(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:h})};if(g.config.tools=h,t.config&&t.config.tools&&F0(t.config.tools)){const y=(r=(l=t.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&r!==void 0?r:{};let v=Object.assign({},y);Object.keys(v).length===0&&(v=this.apiClient.getDefaultHeaders()),O0(v),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:v})}return g}async initAfcToolsMap(t){var o,l,r;const d=new Map;for(const h of(l=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(ca(h)){const g=h,y=await g.tool();for(const v of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!v.name)throw new Error("Function declaration name is required.");if(d.has(v.name))throw new Error(`Duplicate tool declaration name: ${v.name}`);d.set(v.name,g)}}return d}async processAfcStream(t){var o,l,r;const d=(r=(l=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&r!==void 0?r:e0;let h=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(v,x,_){return Un(this,arguments,function*(){for(var S,E,I,U,M,k;g<d;){h&&(g++,h=!1);const ie=yield Ce(v.processParamsMaybeAddMcpUsage(_)),X=yield Ce(v.generateContentStreamInternal(ie)),$=[],ye=[];try{for(var K=!0,j=(E=void 0,Ln(X)),z;z=yield Ce(j.next()),S=z.done,!S;K=!0){U=z.value,K=!1;const le=U;if(yield yield Ce(le),le.candidates&&(!((M=le.candidates[0])===null||M===void 0)&&M.content)){ye.push(le.candidates[0].content);for(const ge of(k=le.candidates[0].content.parts)!==null&&k!==void 0?k:[])if(g<d&&ge.functionCall){if(!ge.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(ge.functionCall.name)){const W=yield Ce(x.get(ge.functionCall.name).callTool([ge.functionCall]));$.push(...W)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${ge.functionCall.name}`)}}}}catch(le){E={error:le}}finally{try{!K&&!S&&(I=j.return)&&(yield Ce(I.call(j)))}finally{if(E)throw E.error}}if($.length>0){h=!0;const le=new cl;le.candidates=[{content:{role:"user",parts:$}}],yield yield Ce(le);const ge=[];ge.push(...ye),ge.push({role:"user",parts:$});const W=Nn(_.contents).concat(ge);_.contents=W}else break}})})(this,y,t)}async generateContentInternal(t){var o,l,r,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const v=$m(this.apiClient,t);return g=ue("{model}:generateContent",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>{const _=Zm(x),S=new cl;return Object.assign(S,_),S})}else{const v=Xm(this.apiClient,t);return g=ue("{model}:generateContent",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>{const _=Qm(x),S=new cl;return Object.assign(S,_),S})}}async generateContentStreamInternal(t){var o,l,r,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const v=$m(this.apiClient,t);return g=ue("{model}:streamGenerateContent?alt=sse",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),h.then(function(_){return Un(this,arguments,function*(){var S,E,I,U;try{for(var M=!0,k=Ln(_),K;K=yield Ce(k.next()),S=K.done,!S;M=!0){U=K.value,M=!1;const j=U,z=Zm(yield Ce(j.json()));z.sdkHttpResponse={headers:j.headers};const ie=new cl;Object.assign(ie,z),yield yield Ce(ie)}}catch(j){E={error:j}}finally{try{!M&&!S&&(I=k.return)&&(yield Ce(I.call(k)))}finally{if(E)throw E.error}}})})}else{const v=Xm(this.apiClient,t);return g=ue("{model}:streamGenerateContent?alt=sse",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}),h.then(function(_){return Un(this,arguments,function*(){var S,E,I,U;try{for(var M=!0,k=Ln(_),K;K=yield Ce(k.next()),S=K.done,!S;M=!0){U=K.value,M=!1;const j=U,z=Qm(yield Ce(j.json()));z.sdkHttpResponse={headers:j.headers};const ie=new cl;Object.assign(ie,z),yield yield Ce(ie)}}catch(j){E={error:j}}finally{try{!M&&!S&&(I=k.return)&&(yield Ce(I.call(k)))}finally{if(E)throw E.error}}})})}}async embedContent(t){var o,l,r,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const v=Wb(this.apiClient,t);return g=ue("{model}:predict",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>{const _=t1(x),S=new km;return Object.assign(S,_),S})}else{const v=Zb(this.apiClient,t);return g=ue("{model}:batchEmbedContents",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>{const _=e1(x),S=new km;return Object.assign(S,_),S})}}async generateImagesInternal(t){var o,l,r,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const v=f1(this.apiClient,t);return g=ue("{model}:predict",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>{const _=h1(x),S=new Dm;return Object.assign(S,_),S})}else{const v=d1(this.apiClient,t);return g=ue("{model}:predict",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>{const _=p1(x),S=new Dm;return Object.assign(S,_),S})}}async editImageInternal(t){var o,l;let r,d="",h={};if(this.apiClient.isVertexAI()){const g=Kb(this.apiClient,t);return d=ue("{model}:predict",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const v=Xb(y),x=new ix;return Object.assign(x,v),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,l;let r,d="",h={};if(this.apiClient.isVertexAI()){const g=fS(this.apiClient,t);return d=ue("{model}:predict",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const v=pS(y),x=new ox;return Object.assign(x,v),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,l;let r,d="",h={};if(this.apiClient.isVertexAI()){const g=Y1(this.apiClient,t);return d=ue("{model}:predict",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>{const v=K1(y),x=new ax;return Object.assign(x,v),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,l;let r,d="",h={};if(this.apiClient.isVertexAI()){const g=eS(this.apiClient,t);return d=ue("{model}:predict",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>{const v=tS(y),x=new lx;return Object.assign(x,v),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,l,r,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const v=I1(this.apiClient,t);return g=ue("{name}",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),h.then(x=>Nc(x))}else{const v=R1(this.apiClient,t);return g=ue("{name}",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),h.then(x=>Cc(x))}}async listInternal(t){var o,l,r,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const v=q1(this.apiClient,t);return g=ue("{models_url}",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>{const _=B1(x),S=new Um;return Object.assign(S,_),S})}else{const v=H1(this.apiClient,t);return g=ue("{models_url}",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>{const _=V1(x),S=new Um;return Object.assign(S,_),S})}}async update(t){var o,l,r,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const v=cS(this.apiClient,t);return g=ue("{model}",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),h.then(x=>Nc(x))}else{const v=uS(this.apiClient,t);return g=ue("{name}",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),h.then(x=>Cc(x))}}async delete(t){var o,l,r,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const v=Ob(this.apiClient,t);return g=ue("{name}",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>{const _=Jb(x),S=new Lm;return Object.assign(S,_),S})}else{const v=Fb(this.apiClient,t);return g=ue("{name}",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>{const _=jb(x),S=new Lm;return Object.assign(S,_),S})}}async countTokens(t){var o,l,r,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const v=qb(this.apiClient,t);return g=ue("{model}:countTokens",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>{const _=Bb(x),S=new zm;return Object.assign(S,_),S})}else{const v=Hb(this.apiClient,t);return g=ue("{model}:countTokens",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>{const _=Vb(x),S=new zm;return Object.assign(S,_),S})}}async computeTokens(t){var o,l;let r,d="",h={};if(this.apiClient.isVertexAI()){const g=kb(this.apiClient,t);return d=ue("{model}:computeTokens",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const v=Db(y),x=new sx;return Object.assign(x,v),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,l,r,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const v=_1(this.apiClient,t);return g=ue("{model}:predictLongRunning",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),h.then(x=>{const _=y1(x),S=new Vs;return Object.assign(S,_),S})}else{const v=x1(this.apiClient,t);return g=ue("{model}:predictLongRunning",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),h.then(x=>{const _=v1(x),S=new Vs;return Object.assign(S,_),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lT extends ci{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,l=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let d;l&&"httpOptions"in l&&(d=l.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:h,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,l=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let d;l&&"httpOptions"in l&&(d=l.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:h,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,l,r,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const v=Qy(t);return g=ue("{operationName}",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),h}else{const v=$y(t);return g=ue("{operationName}",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),h}}async fetchPredictVideosOperationInternal(t){var o,l;let r,d="",h={};if(this.apiClient.isVertexAI()){const g=Fy(t);return d=ue("{resourceName}:fetchPredictOperation",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sT(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function rT(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>vT(d))),c(t,["parts"],r)}const l=u(i,["role"]);return l!=null&&c(t,["role"],l),t}function uT(i,t,o){const l={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const d=u(t,["newSessionExpireTime"]);o!==void 0&&d!=null&&c(o,["newSessionExpireTime"],d);const h=u(t,["uses"]);o!==void 0&&h!=null&&c(o,["uses"],h);const g=u(t,["liveConnectConstraints"]);o!==void 0&&g!=null&&c(o,["bidiGenerateContentSetup"],gT(i,g));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),l}function cT(i,t){const o={},l=u(t,["config"]);return l!=null&&c(o,["config"],uT(i,l,o)),o}function dT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const l=u(i,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function fT(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const l=u(i,["args"]);l!=null&&c(t,["args"],l);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function pT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function hT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function mT(i,t){const o={},l=u(i,["generationConfig"]);t!==void 0&&l!=null&&c(t,["setup","generationConfig"],l);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const h=u(i,["topP"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","topP"],h);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const v=u(i,["mediaResolution"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","mediaResolution"],v);const x=u(i,["seed"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","seed"],x);const _=u(i,["speechConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","speechConfig"],Bc(_));const S=u(i,["thinkingConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","thinkingConfig"],S);const E=u(i,["enableAffectiveDialog"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],E);const I=u(i,["systemInstruction"]);t!==void 0&&I!=null&&c(t,["setup","systemInstruction"],rT(Vt(I)));const U=u(i,["tools"]);if(t!==void 0&&U!=null){let X=ha(U);Array.isArray(X)&&(X=X.map($=>xT(pa($)))),c(t,["setup","tools"],X)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&c(t,["setup","sessionResumption"],yT(M));const k=u(i,["inputAudioTranscription"]);t!==void 0&&k!=null&&c(t,["setup","inputAudioTranscription"],k);const K=u(i,["outputAudioTranscription"]);t!==void 0&&K!=null&&c(t,["setup","outputAudioTranscription"],K);const j=u(i,["realtimeInputConfig"]);t!==void 0&&j!=null&&c(t,["setup","realtimeInputConfig"],j);const z=u(i,["contextWindowCompression"]);t!==void 0&&z!=null&&c(t,["setup","contextWindowCompression"],z);const ie=u(i,["proactivity"]);if(t!==void 0&&ie!=null&&c(t,["setup","proactivity"],ie),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function gT(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["setup","model"],je(i,l));const r=u(t,["config"]);return r!=null&&c(o,["config"],mT(r,o)),o}function vT(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const l=u(i,["codeExecutionResult"]);l!=null&&c(t,["codeExecutionResult"],l);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],dT(d));const h=u(i,["functionCall"]);h!=null&&c(t,["functionCall"],fT(h));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],sT(y));const v=u(i,["text"]);v!=null&&c(t,["text"],v);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const _=u(i,["thoughtSignature"]);_!=null&&c(t,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&c(t,["videoMetadata"],S),t}function yT(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function xT(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(_=>_)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["googleSearchRetrieval"]);l!=null&&c(t,["googleSearchRetrieval"],l);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const h=u(i,["codeExecution"]);if(h!=null&&c(t,["codeExecution"],h),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],pT(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],hT(y));const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _T(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const l=i[o];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const r=Object.keys(l).map(d=>`${o}.${d}`);t.push(...r)}else t.push(o)}return t.join(",")}function bT(i,t){let o=null;const l=i.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const d=l.setup;typeof d=="object"&&d!==null?(i.bidiGenerateContentSetup=d,o=d):delete i.bidiGenerateContentSetup}else l!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const d=_T(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)d?i.fieldMask=d:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const h=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(v=>h.includes(v)?`generationConfig.${v}`:v));const y=[];d&&y.push(d),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class ST extends ci{constructor(t){super(),this.apiClient=t}async create(t){var o,l;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=cT(this.apiClient,t);d=ue("auth_tokens",g._url),h=g._query,delete g.config,delete g._url,delete g._query;const y=bT(g,t.config);return r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),r.then(v=>v)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TT(i,t){const o={},l=u(i,["force"]);return t!==void 0&&l!=null&&c(t,["_query","force"],l),o}function ET(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const l=u(i,["config"]);return l!=null&&TT(l,t),t}function CT(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function NT(i,t){const o={},l=u(i,["pageSize"]);t!==void 0&&l!=null&&c(t,["_query","pageSize"],l);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function AT(i){const t={},o=u(i,["parent"]);o!=null&&c(t,["_url","parent"],o);const l=u(i,["config"]);return l!=null&&NT(l,t),t}function wT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["nextPageToken"]);l!=null&&c(t,["nextPageToken"],l);const r=u(i,["documents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),c(t,["documents"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MT extends ci{constructor(t){super(),this.apiClient=t,this.list=async o=>new yo(ui.PAGED_ITEM_DOCUMENTS,l=>this.listInternal({parent:o.parent,config:l.config}),await this.listInternal(o),o)}async get(t){var o,l;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=CT(t);return d=ue("{name}",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,l;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ET(t);r=ue("{name}",h._url),d=h._query,delete h._url,delete h._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(t){var o,l;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=AT(t);return d=ue("{parent}/documents",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>{const v=wT(y),x=new rx;return Object.assign(x,v),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RT extends ci{constructor(t,o=new MT(t)){super(),this.apiClient=t,this.documents=o,this.list=async(l={})=>new yo(ui.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(l),l)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,l;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=_S(t);return d=ue("fileSearchStores",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var o,l;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=TS(t);return d=ue("{name}",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,l;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=SS(t);r=ue("{name}",h._url),d=h._query,delete h._url,delete h._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(t){var o,l;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=MS(t);return d=ue("fileSearchStores",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>{const v=RS(y),x=new ux;return Object.assign(x,v),x})}}async uploadToFileSearchStoreInternal(t){var o,l;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=IS(t);return d=ue("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>{const v=kS(y),x=new cx;return Object.assign(x,v),x})}}async importFile(t){var o,l;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=NS(t);return d=ue("{file_search_store_name}:importFile",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>{const v=CS(y),x=new Pc;return Object.assign(x,v),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let j0=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return j0=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),o=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,l=>(+l^o()&15>>+l/4).toString(16))};const IT=()=>j0();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wc(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Mc=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class An extends Error{}class Kt extends An{constructor(t,o,l,r){super(`${Kt.makeMessage(t,o,l)}`),this.status=t,this.headers=r,this.error=o}static makeMessage(t,o,l){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):l;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,o,l,r){if(!t||!r)return new Zs({message:l,cause:Mc(o)});const d=o;return t===400?new Y0(t,d,l,r):t===401?new K0(t,d,l,r):t===403?new X0(t,d,l,r):t===404?new $0(t,d,l,r):t===409?new Q0(t,d,l,r):t===422?new Z0(t,d,l,r):t===429?new W0(t,d,l,r):t>=500?new eg(t,d,l,r):new Kt(t,d,l,r)}}class Rc extends Kt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Zs extends Kt{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class J0 extends Zs{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Y0 extends Kt{}class K0 extends Kt{}class X0 extends Kt{}class $0 extends Kt{}class Q0 extends Kt{}class Z0 extends Kt{}class W0 extends Kt{}class eg extends Kt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kT=/^[a-z][a-z0-9+.-]*:/i,DT=i=>kT.test(i);let Ic=i=>(Ic=Array.isArray,Ic(i));const UT=Ic;let LT=UT;const o0=LT;function zT(i){if(!i)return!0;for(const t in i)return!1;return!0}function PT(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const GT=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new An(`${i} must be an integer`);if(t<0)throw new An(`${i} must be a positive integer`);return t},HT=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qT=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const la="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VT(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const BT=()=>{var i,t,o,l,r;const d=VT();if(d==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":la,"X-Stainless-OS":l0(Deno.build.os),"X-Stainless-Arch":a0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":la,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(d==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":la,"X-Stainless-OS":l0((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":a0((l=globalThis.process.arch)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const h=FT();return h?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":la,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${h.browser}`,"X-Stainless-Runtime-Version":h.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":la,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function FT(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of i){const l=o.exec(navigator.userAgent);if(l){const r=l[1]||0,d=l[2]||0,h=l[3]||0;return{browser:t,version:`${r}.${d}.${h}`}}}return null}const a0=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",l0=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Rs;const OT=()=>Rs??(Rs=BT());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jT(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function tg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function JT(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return tg({start(){},async pull(o){const{done:l,value:r}=await t.next();l?o.close():o.enqueue(r)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function ng(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function YT(i){var t,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(t=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const l=i.getReader(),r=l.cancel();l.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KT=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ig=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function mc(i,t,o){return ig(),new File(i,t??"unknown_file",o)}function XT(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const $T=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const og=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",QT=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&og(i),ZT=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function WT(i,t,o){if(ig(),i=await i,QT(i))return i instanceof File?i:mc([await i.arrayBuffer()],i.name);if(ZT(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),mc(await kc(r),t,o)}const l=await kc(i);if(t||(t=XT(i)),!(o!=null&&o.type)){const r=l.find(d=>typeof d=="object"&&"type"in d&&d.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return mc(l,t,o)}async function kc(i){var t,o,l,r,d;let h=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)h.push(i);else if(og(i))h.push(i instanceof Blob?i:await i.arrayBuffer());else if($T(i))try{for(var g=!0,y=Ln(i),v;v=await y.next(),t=v.done,!t;g=!0){r=v.value,g=!1;const x=r;h.push(...await kc(x))}}catch(x){o={error:x}}finally{try{!g&&!t&&(l=y.return)&&await l.call(y)}finally{if(o)throw o.error}}else{const x=(d=i==null?void 0:i.constructor)===null||d===void 0?void 0:d.name;throw new Error(`Unexpected data type: ${typeof i}${x?`; constructor: ${x}`:""}${eE(i)}`)}return h}function eE(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ag{constructor(t){this._client=t}}ag._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const s0=Object.freeze(Object.create(null)),tE=(i=lg)=>(function(o,...l){if(o.length===1)return o[0];let r=!1;const d=[],h=o.reduce((x,_,S)=>{var E,I,U;/[?#]/.test(_)&&(r=!0);const M=l[S];let k=(r?encodeURIComponent:i)(""+M);return S!==l.length&&(M==null||typeof M=="object"&&M.toString===((U=Object.getPrototypeOf((I=Object.getPrototypeOf((E=M.hasOwnProperty)!==null&&E!==void 0?E:s0))!==null&&I!==void 0?I:s0))===null||U===void 0?void 0:U.toString))&&(k=M+"",d.push({start:x.length+_.length,length:k.length,error:`Value of type ${Object.prototype.toString.call(M).slice(8,-1)} is not a valid path parameter`})),x+_+(S===l.length?"":k)},""),g=h.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let v;for(;(v=y.exec(g))!==null;)d.push({start:v.index,length:v[0].length,error:`Value "${v[0]}" can't be safely passed as a path parameter`});if(d.sort((x,_)=>x.start-_.start),d.length>0){let x=0;const _=d.reduce((S,E)=>{const I=" ".repeat(E.start-x),U="^".repeat(E.length);return x=E.start+E.length,S+I+U},"");throw new An(`Path parameters result in path with invalid segments:
${d.map(S=>S.error).join(`
`)}
${h}
${_}`)}return h}),Is=tE(lg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sg extends ag{create(t,o){var l;const{api_version:r=this._client.apiVersion}=t,d=Fs(t,["api_version"]);if("model"in d&&"agent_config"in d)throw new An("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in d&&"generation_config"in d)throw new An("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Is`/${r}/interactions`,Object.assign(Object.assign({body:d},o),{stream:(l=t.stream)!==null&&l!==void 0?l:!1}))}delete(t,o={},l){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(Is`/${r}/interactions/${t}`,l)}cancel(t,o={},l){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(Is`/${r}/interactions/${t}/cancel`,l)}get(t,o={},l){var r;const d=o??{},{api_version:h=this._client.apiVersion}=d,g=Fs(d,["api_version"]);return this._client.get(Is`/${h}/interactions/${t}`,Object.assign(Object.assign({query:g},l),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}sg._key=Object.freeze(["interactions"]);class rg extends sg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nE(i){let t=0;for(const r of i)t+=r.length;const o=new Uint8Array(t);let l=0;for(const r of i)o.set(r,l),l+=r.length;return o}let ks;function Oc(i){let t;return(ks??(t=new globalThis.TextEncoder,ks=t.encode.bind(t)))(i)}let Ds;function r0(i){let t;return(Ds??(t=new globalThis.TextDecoder,Ds=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ws{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Oc(t):t;this.buffer=nE([this.buffer,o]);const l=[];let r;for(;(r=iE(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){l.push(r0(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const d=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,h=r0(this.buffer.subarray(0,d));l.push(h),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return l}flush(){return this.buffer.length?this.decode(`
`):[]}}Ws.NEWLINE_CHARS=new Set([`
`,"\r"]);Ws.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function iE(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function oE(i){for(let l=0;l<i.length-1;l++){if(i[l]===10&&i[l+1]===10||i[l]===13&&i[l+1]===13)return l+2;if(i[l]===13&&i[l+1]===10&&l+3<i.length&&i[l+2]===13&&i[l+3]===10)return l+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Os={off:0,error:200,warn:300,info:400,debug:500},u0=(i,t,o)=>{if(i){if(PT(Os,i))return i;Yt(o).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Os))}`)}};function fl(){}function Us(i,t,o){return!t||Os[i]>Os[o]?fl:t[i].bind(t)}const aE={error:fl,warn:fl,info:fl,debug:fl};let c0=new WeakMap;function Yt(i){var t;const o=i.logger,l=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!o)return aE;const r=c0.get(o);if(r&&r[0]===l)return r[1];const d={error:Us("error",o,l),warn:Us("warn",o,l),info:Us("info",o,l),debug:Us("debug",o,l)};return c0.set(o,[l,d]),d}const vo=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ra{constructor(t,o,l){this.iterator=t,this.controller=o,this.client=l}static fromSSEResponse(t,o,l){let r=!1;const d=l?Yt(l):console;function h(){return Un(this,arguments,function*(){var y,v,x,_;if(r)throw new An("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var E=!0,I=Ln(lE(t,o)),U;U=yield Ce(I.next()),y=U.done,!y;E=!0){_=U.value,E=!1;const M=_;if(!S)if(M.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield Ce(JSON.parse(M.data))}catch(k){throw d.error("Could not parse message into JSON:",M.data),d.error("From chunk:",M.raw),k}}}catch(M){v={error:M}}finally{try{!E&&!y&&(x=I.return)&&(yield Ce(x.call(I)))}finally{if(v)throw v.error}}S=!0}catch(M){if(wc(M))return yield Ce(void 0);throw M}finally{S||o.abort()}})}return new ra(h,o,l)}static fromReadableStream(t,o,l){let r=!1;function d(){return Un(this,arguments,function*(){var y,v,x,_;const S=new Ws,E=ng(t);try{for(var I=!0,U=Ln(E),M;M=yield Ce(U.next()),y=M.done,!y;I=!0){_=M.value,I=!1;const k=_;for(const K of S.decode(k))yield yield Ce(K)}}catch(k){v={error:k}}finally{try{!I&&!y&&(x=U.return)&&(yield Ce(x.call(U)))}finally{if(v)throw v.error}}for(const k of S.flush())yield yield Ce(k)})}function h(){return Un(this,arguments,function*(){var y,v,x,_;if(r)throw new An("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var E=!0,I=Ln(d()),U;U=yield Ce(I.next()),y=U.done,!y;E=!0){_=U.value,E=!1;const M=_;S||M&&(yield yield Ce(JSON.parse(M)))}}catch(M){v={error:M}}finally{try{!E&&!y&&(x=I.return)&&(yield Ce(x.call(I)))}finally{if(v)throw v.error}}S=!0}catch(M){if(wc(M))return yield Ce(void 0);throw M}finally{S||o.abort()}})}return new ra(h,o,l)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],l=this.iterator(),r=d=>({next:()=>{if(d.length===0){const h=l.next();t.push(h),o.push(h)}return d.shift()}});return[new ra(()=>r(t),this.controller,this.client),new ra(()=>r(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return tg({async start(){o=t[Symbol.asyncIterator]()},async pull(l){try{const{value:r,done:d}=await o.next();if(d)return l.close();const h=Oc(JSON.stringify(r)+`
`);l.enqueue(h)}catch(r){l.error(r)}},async cancel(){var l;await((l=o.return)===null||l===void 0?void 0:l.call(o))}})}}function lE(i,t){return Un(this,arguments,function*(){var l,r,d,h;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new An("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new An("Attempted to iterate over a response with no body");const g=new rE,y=new Ws,v=ng(i.body);try{for(var x=!0,_=Ln(sE(v)),S;S=yield Ce(_.next()),l=S.done,!l;x=!0){h=S.value,x=!1;const E=h;for(const I of y.decode(E)){const U=g.decode(I);U&&(yield yield Ce(U))}}}catch(E){r={error:E}}finally{try{!x&&!l&&(d=_.return)&&(yield Ce(d.call(_)))}finally{if(r)throw r.error}}for(const E of y.flush()){const I=g.decode(E);I&&(yield yield Ce(I))}})}function sE(i){return Un(this,arguments,function*(){var o,l,r,d;let h=new Uint8Array;try{for(var g=!0,y=Ln(i),v;v=yield Ce(y.next()),o=v.done,!o;g=!0){d=v.value,g=!1;const x=d;if(x==null)continue;const _=x instanceof ArrayBuffer?new Uint8Array(x):typeof x=="string"?Oc(x):x;let S=new Uint8Array(h.length+_.length);S.set(h),S.set(_,h.length),h=S;let E;for(;(E=oE(h))!==-1;)yield yield Ce(h.slice(0,E)),h=h.slice(E)}}catch(x){l={error:x}}finally{try{!g&&!o&&(r=y.return)&&(yield Ce(r.call(y)))}finally{if(l)throw l.error}}h.length>0&&(yield yield Ce(h))})}class rE{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const d={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],d}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,l,r]=uE(t,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function uE(i,t){const o=i.indexOf(t);return o!==-1?[i.substring(0,o),t,i.substring(o+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function cE(i,t){const{response:o,requestLogID:l,retryOfRequestLogID:r,startTime:d}=t,h=await(async()=>{var g;if(t.options.stream)return Yt(i).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,i):ra.fromSSEResponse(o,t.controller,i);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),v=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(v==null?void 0:v.includes("application/json"))||(v==null?void 0:v.endsWith("+json"))?await o.json():await o.text()})();return Yt(i).debug(`[${l}] response parsed`,vo({retryOfRequestLogID:r,url:o.url,status:o.status,body:h,durationMs:Date.now()-d})),h}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jc extends Promise{constructor(t,o,l=cE){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=l,this.client=t}_thenUnwrap(t){return new jc(this.client,this.responsePromise,async(o,l)=>t(await this.parseResponse(o,l),l))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ug=Symbol("brand.privateNullableHeaders");function*dE(i){if(!i)return;if(ug in i){const{values:l,nulls:r}=i;yield*l.entries();for(const d of r)yield[d,null];return}let t=!1,o;i instanceof Headers?o=i.entries():o0(i)?o=i:(t=!0,o=Object.entries(i??{}));for(let l of o){const r=l[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const d=o0(l[1])?l[1]:[l[1]];let h=!1;for(const g of d)g!==void 0&&(t&&!h&&(h=!0,yield[r,null]),yield[r,g])}}const dl=i=>{const t=new Headers,o=new Set;for(const l of i){const r=new Set;for(const[d,h]of dE(l)){const g=d.toLowerCase();r.has(g)||(t.delete(d),r.add(g)),h===null?(t.delete(d),o.add(g)):(t.append(d,h),o.delete(g))}}return{[ug]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gc=i=>{var t,o,l,r,d,h;if(typeof globalThis.process<"u")return(l=(o=(t=Py)===null||t===void 0?void 0:t[i])===null||o===void 0?void 0:o.trim())!==null&&l!==void 0?l:void 0;if(typeof globalThis.Deno<"u")return(h=(d=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||d===void 0?void 0:d.call(r,i))===null||h===void 0?void 0:h.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var cg;class er{constructor(t){var o,l,r,d,h,g,y,{baseURL:v=gc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:x=(o=gc("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:_="v1beta"}=t,S=Fs(t,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:x,apiVersion:_},S),{baseURL:v||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(l=E.timeout)!==null&&l!==void 0?l:er.DEFAULT_TIMEOUT,this.logger=(r=E.logger)!==null&&r!==void 0?r:console;const I="warn";this.logLevel=I,this.logLevel=(h=(d=u0(E.logLevel,"ClientOptions.logLevel",this))!==null&&d!==void 0?d:u0(gc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&h!==void 0?h:I,this.fetchOptions=E.fetchOptions,this.maxRetries=(g=E.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=E.fetch)!==null&&y!==void 0?y:jT(),this.encoder=KT,this._options=E,this.apiKey=x,this.apiVersion=_,this.clientAdapter=E.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const o=dl([t.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return dl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return dl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([o,l])=>typeof l<"u").map(([o,l])=>{if(typeof l=="string"||typeof l=="number"||typeof l=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(l)}`;if(l===null)return`${encodeURIComponent(o)}=`;throw new An(`Cannot stringify type ${typeof l}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${la}`}defaultIdempotencyKey(){return`stainless-node-retry-${IT()}`}makeStatusError(t,o,l,r){return Kt.generate(t,o,l,r)}buildURL(t,o,l){const r=!this.baseURLOverridden()&&l||this.baseURL,d=DT(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),h=this.defaultQuery();return zT(h)||(o=Object.assign(Object.assign({},h),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(d.search=this.stringifyQuery(o)),d.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const o=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(t,{url:o,options:l}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,l){return this.request(Promise.resolve(l).then(r=>Object.assign({method:t,path:o},r)))}request(t,o=null){return new jc(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,l){var r,d,h;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=y),await this.prepareOptions(g);const{req:v,url:x,timeout:_}=await this.buildRequest(g,{retryCount:y-o});await this.prepareRequest(v,{url:x,options:g});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=l===void 0?"":`, retryOf: ${l}`,I=Date.now();if(Yt(this).debug(`[${S}] sending request`,vo({retryOfRequestLogID:l,method:g.method,url:x,options:g,headers:v.headers})),!((d=g.signal)===null||d===void 0)&&d.aborted)throw new Rc;const U=new AbortController,M=await this.fetchWithTimeout(x,v,_,U).catch(Mc),k=Date.now();if(M instanceof globalThis.Error){const j=`retrying, ${o} attempts remaining`;if(!((h=g.signal)===null||h===void 0)&&h.aborted)throw new Rc;const z=wc(M)||/timed? ?out/i.test(String(M)+("cause"in M?String(M.cause):""));if(o)return Yt(this).info(`[${S}] connection ${z?"timed out":"failed"} - ${j}`),Yt(this).debug(`[${S}] connection ${z?"timed out":"failed"} (${j})`,vo({retryOfRequestLogID:l,url:x,durationMs:k-I,message:M.message})),this.retryRequest(g,o,l??S);throw Yt(this).info(`[${S}] connection ${z?"timed out":"failed"} - error; no more retries left`),Yt(this).debug(`[${S}] connection ${z?"timed out":"failed"} (error; no more retries left)`,vo({retryOfRequestLogID:l,url:x,durationMs:k-I,message:M.message})),z?new J0:new Zs({cause:M})}const K=`[${S}${E}] ${v.method} ${x} ${M.ok?"succeeded":"failed"} with status ${M.status} in ${k-I}ms`;if(!M.ok){const j=await this.shouldRetry(M);if(o&&j){const le=`retrying, ${o} attempts remaining`;return await YT(M.body),Yt(this).info(`${K} - ${le}`),Yt(this).debug(`[${S}] response error (${le})`,vo({retryOfRequestLogID:l,url:M.url,status:M.status,headers:M.headers,durationMs:k-I})),this.retryRequest(g,o,l??S,M.headers)}const z=j?"error; no more retries left":"error; not retryable";Yt(this).info(`${K} - ${z}`);const ie=await M.text().catch(le=>Mc(le).message),X=HT(ie),$=X?void 0:ie;throw Yt(this).debug(`[${S}] response error (${z})`,vo({retryOfRequestLogID:l,url:M.url,status:M.status,headers:M.headers,message:$,durationMs:Date.now()-I})),this.makeStatusError(M.status,X,$,M.headers)}return Yt(this).info(K),Yt(this).debug(`[${S}] response start`,vo({retryOfRequestLogID:l,url:M.url,status:M.status,headers:M.headers,durationMs:k-I})),{response:M,options:g,controller:U,requestLogID:S,retryOfRequestLogID:l,startTime:I}}async fetchWithTimeout(t,o,l,r){const d=o||{},{signal:h,method:g}=d,y=Fs(d,["signal","method"]);h&&h.addEventListener("abort",()=>r.abort());const v=setTimeout(()=>r.abort(),l),x=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,_=Object.assign(Object.assign(Object.assign({signal:r.signal},x?{duplex:"half"}:{}),{method:"GET"}),y);g&&(_.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,_)}finally{clearTimeout(v)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,l,r){var d;let h;const g=r==null?void 0:r.get("retry-after-ms");if(g){const v=parseFloat(g);Number.isNaN(v)||(h=v)}const y=r==null?void 0:r.get("retry-after");if(y&&!h){const v=parseFloat(y);Number.isNaN(v)?h=Date.parse(y)-Date.now():h=v*1e3}if(!(h&&0<=h&&h<60*1e3)){const v=(d=t.maxRetries)!==null&&d!==void 0?d:this.maxRetries;h=this.calculateDefaultRetryTimeoutMillis(o,v)}return await qT(h),this.makeRequest(t,o-1,l)}calculateDefaultRetryTimeoutMillis(t,o){const d=o-t,h=Math.min(.5*Math.pow(2,d),8),g=1-Math.random()*.25;return h*g*1e3}async buildRequest(t,{retryCount:o=0}={}){var l,r,d;const h=Object.assign({},t),{method:g,path:y,query:v,defaultBaseURL:x}=h,_=this.buildURL(y,v,x);"timeout"in h&&GT("timeout",h.timeout),h.timeout=(l=h.timeout)!==null&&l!==void 0?l:this.timeout;const{bodyHeaders:S,body:E}=this.buildBody({options:h}),I=await this.buildHeaders({options:t,method:g,bodyHeaders:S,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:I},h.signal&&{signal:h.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(d=h.fetchOptions)!==null&&d!==void 0?d:{}),url:_,timeout:h.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:l,retryCount:r}){let d={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),d[this.idempotencyHeader]=t.idempotencyKey);const h=await this.authHeaders(t);let g=dl([d,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),OT()),this._options.defaultHeaders,l,t.headers,h]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const l=dl([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&l.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:JT(t)}:this.encoder({body:t,headers:l})}}er.DEFAULT_TIMEOUT=6e4;class kt extends er{constructor(){super(...arguments),this.interactions=new rg(this)}}cg=kt;kt.GeminiNextGenAPIClient=cg;kt.GeminiNextGenAPIClientError=An;kt.APIError=Kt;kt.APIConnectionError=Zs;kt.APIConnectionTimeoutError=J0;kt.APIUserAbortError=Rc;kt.NotFoundError=$0;kt.ConflictError=Q0;kt.RateLimitError=W0;kt.BadRequestError=Y0;kt.AuthenticationError=K0;kt.InternalServerError=eg;kt.PermissionDeniedError=X0;kt.UnprocessableEntityError=Z0;kt.toFile=WT;kt.Interactions=rg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fE(i,t){const o={},l=u(i,["name"]);return l!=null&&c(o,["_url","name"],l),o}function pE(i,t){const o={},l=u(i,["name"]);return l!=null&&c(o,["_url","name"],l),o}function hE(i,t){const o={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(o,["sdkHttpResponse"],l),o}function mE(i,t){const o={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(o,["sdkHttpResponse"],l),o}function gE(i,t,o){const l={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=u(i,["epochCount"]);t!==void 0&&d!=null&&c(t,["tuningTask","hyperparameters","epochCount"],d);const h=u(i,["learningRateMultiplier"]);if(h!=null&&c(l,["tuningTask","hyperparameters","learningRateMultiplier"],h),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return l}function vE(i,t,o){const l={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const E=u(i,["validationDataset"]);t!==void 0&&E!=null&&c(t,["supervisedTuningSpec"],d0(E))}else if(r==="PREFERENCE_TUNING"){const E=u(i,["validationDataset"]);t!==void 0&&E!=null&&c(t,["preferenceOptimizationSpec"],d0(E))}const d=u(i,["tunedModelDisplayName"]);t!==void 0&&d!=null&&c(t,["tunedModelDisplayName"],d);const h=u(i,["description"]);t!==void 0&&h!=null&&c(t,["description"],h);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const E=u(i,["epochCount"]);t!==void 0&&E!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(g==="PREFERENCE_TUNING"){const E=u(i,["epochCount"]);t!==void 0&&E!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const E=u(i,["learningRateMultiplier"]);t!==void 0&&E!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(y==="PREFERENCE_TUNING"){const E=u(i,["learningRateMultiplier"]);t!==void 0&&E!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const E=u(i,["exportLastCheckpointOnly"]);t!==void 0&&E!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(v==="PREFERENCE_TUNING"){const E=u(i,["exportLastCheckpointOnly"]);t!==void 0&&E!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let x=u(o,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const E=u(i,["adapterSize"]);t!==void 0&&E!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(x==="PREFERENCE_TUNING"){const E=u(i,["adapterSize"]);t!==void 0&&E!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=u(i,["labels"]);t!==void 0&&_!=null&&c(t,["labels"],_);const S=u(i,["beta"]);return t!==void 0&&S!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],S),l}function yE(i,t){const o={},l=u(i,["baseModel"]);l!=null&&c(o,["baseModel"],l);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&ME(d);const h=u(i,["config"]);return h!=null&&gE(h,o),o}function xE(i,t){const o={},l=u(i,["baseModel"]);l!=null&&c(o,["baseModel"],l);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&RE(d,o,t);const h=u(i,["config"]);return h!=null&&vE(h,o,t),o}function _E(i,t){const o={},l=u(i,["name"]);return l!=null&&c(o,["_url","name"],l),o}function bE(i,t){const o={},l=u(i,["name"]);return l!=null&&c(o,["_url","name"],l),o}function SE(i,t,o){const l={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const h=u(i,["filter"]);return t!==void 0&&h!=null&&c(t,["_query","filter"],h),l}function TE(i,t,o){const l={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const h=u(i,["filter"]);return t!==void 0&&h!=null&&c(t,["_query","filter"],h),l}function EE(i,t){const o={},l=u(i,["config"]);return l!=null&&SE(l,o),o}function CE(i,t){const o={},l=u(i,["config"]);return l!=null&&TE(l,o),o}function NE(i,t){const o={},l=u(i,["sdkHttpResponse"]);l!=null&&c(o,["sdkHttpResponse"],l);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const d=u(i,["tunedModels"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>dg(g))),c(o,["tuningJobs"],h)}return o}function AE(i,t){const o={},l=u(i,["sdkHttpResponse"]);l!=null&&c(o,["sdkHttpResponse"],l);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const d=u(i,["tuningJobs"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>Dc(g))),c(o,["tuningJobs"],h)}return o}function wE(i,t){const o={},l=u(i,["name"]);l!=null&&c(o,["model"],l);const r=u(i,["name"]);return r!=null&&c(o,["endpoint"],r),o}function ME(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=u(i,["examples"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>d)),c(o,["examples","examples"],r)}return o}function RE(i,t,o){const l={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const h=u(i,["gcsUri"]);t!==void 0&&h!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],h)}else if(r==="PREFERENCE_TUNING"){const h=u(i,["gcsUri"]);t!==void 0&&h!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],h)}let d=u(o,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const h=u(i,["vertexDatasetResource"]);t!==void 0&&h!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],h)}else if(d==="PREFERENCE_TUNING"){const h=u(i,["vertexDatasetResource"]);t!==void 0&&h!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],h)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function dg(i,t){const o={},l=u(i,["sdkHttpResponse"]);l!=null&&c(o,["sdkHttpResponse"],l);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const d=u(i,["state"]);d!=null&&c(o,["state"],A0(d));const h=u(i,["createTime"]);h!=null&&c(o,["createTime"],h);const g=u(i,["tuningTask","startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const v=u(i,["updateTime"]);v!=null&&c(o,["updateTime"],v);const x=u(i,["description"]);x!=null&&c(o,["description"],x);const _=u(i,["baseModel"]);_!=null&&c(o,["baseModel"],_);const S=u(i,["_self"]);return S!=null&&c(o,["tunedModel"],wE(S)),o}function Dc(i,t){const o={},l=u(i,["sdkHttpResponse"]);l!=null&&c(o,["sdkHttpResponse"],l);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const d=u(i,["state"]);d!=null&&c(o,["state"],A0(d));const h=u(i,["createTime"]);h!=null&&c(o,["createTime"],h);const g=u(i,["startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(o,["endTime"],y);const v=u(i,["updateTime"]);v!=null&&c(o,["updateTime"],v);const x=u(i,["error"]);x!=null&&c(o,["error"],x);const _=u(i,["description"]);_!=null&&c(o,["description"],_);const S=u(i,["baseModel"]);S!=null&&c(o,["baseModel"],S);const E=u(i,["tunedModel"]);E!=null&&c(o,["tunedModel"],E);const I=u(i,["preTunedModel"]);I!=null&&c(o,["preTunedModel"],I);const U=u(i,["supervisedTuningSpec"]);U!=null&&c(o,["supervisedTuningSpec"],U);const M=u(i,["preferenceOptimizationSpec"]);M!=null&&c(o,["preferenceOptimizationSpec"],M);const k=u(i,["tuningDataStats"]);k!=null&&c(o,["tuningDataStats"],k);const K=u(i,["encryptionSpec"]);K!=null&&c(o,["encryptionSpec"],K);const j=u(i,["partnerModelTuningSpec"]);j!=null&&c(o,["partnerModelTuningSpec"],j);const z=u(i,["customBaseModel"]);z!=null&&c(o,["customBaseModel"],z);const ie=u(i,["experiment"]);ie!=null&&c(o,["experiment"],ie);const X=u(i,["labels"]);X!=null&&c(o,["labels"],X);const $=u(i,["outputUri"]);$!=null&&c(o,["outputUri"],$);const ye=u(i,["pipelineJob"]);ye!=null&&c(o,["pipelineJob"],ye);const le=u(i,["serviceAccount"]);le!=null&&c(o,["serviceAccount"],le);const ge=u(i,["tunedModelDisplayName"]);ge!=null&&c(o,["tunedModelDisplayName"],ge);const W=u(i,["veoTuningSpec"]);return W!=null&&c(o,["veoTuningSpec"],W),o}function IE(i,t){const o={},l=u(i,["sdkHttpResponse"]);l!=null&&c(o,["sdkHttpResponse"],l);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const d=u(i,["metadata"]);d!=null&&c(o,["metadata"],d);const h=u(i,["done"]);h!=null&&c(o,["done"],h);const g=u(i,["error"]);return g!=null&&c(o,["error"],g),o}function d0(i,t){const o={},l=u(i,["gcsUri"]);l!=null&&c(o,["validationDatasetUri"],l);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kE extends ci{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new yo(ui.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var l;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((l=o.config)===null||l===void 0)&&l.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},o),{preTunedModel:r});return d.baseModel=void 0,await this.tuneInternal(d)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),d=await this.tuneMldevInternal(r);let h="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?h=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(h=d.name.split("/operations/")[0]),{name:h,state:bc.JOB_STATE_QUEUED}}}}async getInternal(t){var o,l,r,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const v=bE(t);return g=ue("{name}",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>Dc(x))}else{const v=_E(t);return g=ue("{name}",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>dg(x))}}async listInternal(t){var o,l,r,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const v=CE(t);return g=ue("tuningJobs",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>{const _=AE(x),S=new Pm;return Object.assign(S,_),S})}else{const v=EE(t);return g=ue("tunedModels",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>{const _=NE(x),S=new Pm;return Object.assign(S,_),S})}}async cancel(t){var o,l,r,d;let h,g="",y={};if(this.apiClient.isVertexAI()){const v=pE(t);return g=ue("{name}:cancel",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>{const _=mE(x),S=new Gm;return Object.assign(S,_),S})}else{const v=fE(t);return g=ue("{name}:cancel",v._url),y=v._query,delete v._url,delete v._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),h.then(x=>{const _=hE(x),S=new Gm;return Object.assign(S,_),S})}}async tuneInternal(t){var o,l;let r,d="",h={};if(this.apiClient.isVertexAI()){const g=xE(t,t);return d=ue("tuningJobs",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>Dc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,l;let r,d="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=yE(t);return d=ue("tunedModels",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>IE(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DE{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const UE=1024*1024*8,LE=3,zE=1e3,PE=2,js="x-goog-upload-status";async function GE(i,t,o){var l;const r=await fg(i,t,o),d=await(r==null?void 0:r.json());if(((l=r==null?void 0:r.headers)===null||l===void 0?void 0:l[js])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function HE(i,t,o){var l;const r=await fg(i,t,o),d=await(r==null?void 0:r.json());if(((l=r==null?void 0:r.headers)===null||l===void 0?void 0:l[js])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const h=b0(d),g=new Gc;return Object.assign(g,h),g}async function fg(i,t,o){var l,r;let d=0,h=0,g=new Sc(new Response),y="upload";for(d=i.size;h<d;){const v=Math.min(UE,d-h),x=i.slice(h,h+v);h+v>=d&&(y+=", finalize");let _=0,S=zE;for(;_<LE&&(g=await o.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(h),"Content-Length":String(v)}}}),!(!((l=g==null?void 0:g.headers)===null||l===void 0)&&l[js]));)_++,await VE(S),S=S*PE;if(h+=v,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[js])!=="active")break;if(d<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function qE(i){return{size:i.size,type:i.type}}function VE(i){return new Promise(t=>setTimeout(t,i))}class BE{async upload(t,o,l){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await GE(t,o,l)}async uploadToFileSearchStore(t,o,l){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await HE(t,o,l)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await qE(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FE{create(t,o,l){return new OE(t,o,l)}}class OE{constructor(t,o,l){this.url=t,this.headers=o,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const f0="x-goog-api-key";class jE{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(f0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(f0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JE="gl-node/";class YE{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new kt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=o.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const l=Vy(t.httpOptions,t.vertexai,void 0,void 0);l&&(t.httpOptions?t.httpOptions.baseUrl=l:t.httpOptions={baseUrl:l}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new jE(this.apiKey);this.apiClient=new qS({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:JE+"web",uploader:new BE,downloader:new DE}),this.models=new aT(this.apiClient),this.live=new WS(this.apiClient,r,new FE),this.batches=new g_(this.apiClient),this.chats=new Q_(this.models,this.apiClient),this.caches=new K_(this.apiClient),this.files=new sb(this.apiClient),this.operations=new lT(this.apiClient),this.authTokens=new ST(this.apiClient),this.tunings=new kE(this.apiClient),this.fileSearchStores=new RT(this.apiClient)}}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XE=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,o,l)=>l?l.toUpperCase():o.toLowerCase()),p0=i=>{const t=XE(i);return t.charAt(0).toUpperCase()+t.slice(1)},pg=(...i)=>i.filter((t,o,l)=>!!t&&t.trim()!==""&&l.indexOf(t)===o).join(" ").trim(),$E=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=F.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:r="",children:d,iconNode:h,...g},y)=>F.createElement("svg",{ref:y,...QE,width:t,height:t,stroke:i,strokeWidth:l?Number(o)*24/Number(t):o,className:pg("lucide",r),...!d&&!$E(g)&&{"aria-hidden":"true"},...g},[...h.map(([v,x])=>F.createElement(v,x)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(i,t)=>{const o=F.forwardRef(({className:l,...r},d)=>F.createElement(ZE,{ref:d,iconNode:t,className:pg(`lucide-${KE(p0(i))}`,`lucide-${i}`,l),...r}));return o.displayName=p0(i),o};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Cn=Te("activity",WE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]],Uc=Te("audio-lines",e2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["rect",{x:"14",y:"14",width:"4",height:"6",rx:"2",key:"p02svl"}],["rect",{x:"6",y:"4",width:"4",height:"6",rx:"2",key:"xm4xkj"}],["path",{d:"M6 20h4",key:"1i6q5t"}],["path",{d:"M14 10h4",key:"ru81e7"}],["path",{d:"M6 14h2v6",key:"16z9wg"}],["path",{d:"M14 4h2v6",key:"1idq9u"}]],n2=Te("binary",t2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["circle",{cx:"9",cy:"9",r:"7",key:"p2h5vp"}],["circle",{cx:"15",cy:"15",r:"7",key:"19ennj"}]],hg=Te("blend",i2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vc=Te("chevron-right",o2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],mg=Te("circle-alert",a2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],s2=Te("circle-question-mark",l2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],h0=Te("code",r2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],aa=Te("copy",u2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],d2=Te("cpu",c2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],wt=Te("diamond",f2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],tr=Te("download",p2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],gg=Te("folder-open",h2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],vg=Te("gauge",m2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],v2=Te("grip-horizontal",g2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],x2=Te("image",y2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],b2=Te("keyboard",_2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],pl=Te("layers",S2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"m12 15 4 4",key:"lnac28"}],["path",{d:"M2.352 10.648a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l6.029-6.029a1 1 0 1 1 3 3l-6.029 6.029a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l6.365-6.367A1 1 0 0 0 8.716 4.282z",key:"nlhkjb"}],["path",{d:"m5 8 4 4",key:"j6kj7e"}]],E2=Te("magnet",T2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],N2=Te("mail",C2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],yg=Te("maximize-2",A2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],M2=Te("mic",w2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],I2=Te("minimize-2",R2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],xg=Te("monitor",k2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],U2=Te("moon",D2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],m0=Te("music",L2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],g0=Te("palette",z2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],v0=Te("plus",P2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Gs=Te("radio",G2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Js=Te("refresh-cw",H2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],yc=Te("rotate-ccw",q2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],y0=Te("save",V2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],F2=Te("search",B2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],xc=Te("send",O2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],J2=Te("settings",j2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],K2=Te("shield-check",Y2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],$2=Te("sliders-vertical",X2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],_g=Te("sparkles",Q2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],W2=Te("square",Z2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],tC=Te("target",eC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],iC=Te("terminal",nC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],aC=Te("timer",oC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],da=Te("trash-2",lC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ls=Te("triangle-alert",sC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ys=Te("upload",rC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],fa=Te("video",uC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],dC=Te("waves",cC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bn=Te("x",fC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],hC=Te("zap",pC),mC=[{id:"s-galaxy",name:"Neural Galaxy",color:"#ffdc5e",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float t = u_time * u_speed * 0.5; vec3 col = vec3(0.0); for(float i=0.0; i<3.0; i++) { uv = abs(uv) * 1.4 - 1.0; float a = t + u_audio_val * 0.5; uv *= mat2(cos(a), -sin(a), sin(a), cos(a)); col += 0.005 / abs(length(uv) - 0.5) * (u_color + vec3(0.1, 0.4, 0.8)); } gl_FragColor = vec4(col * u_intensity, 1.0); }"},{id:"s-grid",name:"Cyber Grid",color:"#3b82f6",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float t = u_time * u_speed; float grid = abs(sin(uv.x * 10.0 + u_audio_val)) * abs(cos(uv.y * 10.0 + t)); vec3 col = u_color * smoothstep(0.4, 0.5, grid); gl_FragColor = vec4(col * u_intensity, 1.0); }"},{id:"s-liquid",name:"Liquid Neon",color:"#ec4899",code:"void main() { vec2 uv = gl_FragCoord.xy / u_resolution.xy; float t = u_time * u_speed; float n = sin(uv.x * 5.0 + t) + sin(uv.y * 5.0 + t + u_audio_val); vec3 col = mix(u_color, vec3(0.0, 1.0, 1.0), n); gl_FragColor = vec4(col * u_intensity, 1.0); }"},{id:"s-tunnel",name:"Infinite Tunnel",color:"#f59e0b",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float r = length(uv); float a = atan(uv.y, uv.x); float t = u_time * u_speed; float s = sin(10.0/r + t + u_audio_val * 5.0); vec3 col = u_color * smoothstep(0.1, 0.2, s); gl_FragColor = vec4(col * u_intensity / r, 1.0); }"},{id:"s-lava",name:"Molten Core",color:"#ef4444",code:"void main() { vec2 uv = gl_FragCoord.xy / u_resolution.xy; float t = u_time * u_speed; vec3 col = vec3(0.0); float d = sin(uv.x * 10.0 + t) * cos(uv.y * 10.0 - t) + u_audio_val; col = mix(vec3(0.2, 0.0, 0.0), vec3(1.0, 0.3, 0.0), d); gl_FragColor = vec4(col * u_intensity, 1.0); }"},{id:"s-nebula",name:"Deep Nebula",color:"#8b5cf6",code:"void main() { vec2 uv = gl_FragCoord.xy / u_resolution.xy; float t = u_time * u_speed * 0.1; float n = sin(uv.x * 4.0 + t) * sin(uv.y * 4.0 - t) + u_audio_val * 0.5; vec3 col = mix(vec3(0.1, 0.0, 0.2), u_color, n); gl_FragColor = vec4(col * u_intensity, 1.0); }"},{id:"s-matrix",name:"Logic Rain",color:"#22c55e",code:"void main() { vec2 uv = gl_FragCoord.xy / u_resolution.xy; float drop = step(0.95, fract(uv.x * 50.0 + sin(floor(uv.x*50.0)))) * fract(uv.y + u_time * u_speed + u_audio_val); gl_FragColor = vec4(u_color * drop * u_intensity, 1.0); }"},{id:"s-void",name:"The Void",color:"#ffffff",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float d = length(uv); float s = sin(10.0 * d - u_time * u_speed) + u_audio_val; gl_FragColor = vec4(u_color * smoothstep(0.4, 0.5, s) * u_intensity, 1.0); }"},{id:"s-web",name:"Neural Web",color:"#06b6d4",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float a = atan(uv.y, uv.x); float r = length(uv); float line = abs(sin(a * 10.0 + u_time)) * abs(sin(r * 20.0 - u_time)) + u_audio_val; gl_FragColor = vec4(u_color * step(0.8, line) * u_intensity, 1.0); }"},{id:"s-plasma",name:"Bio Plasma",color:"#ef4444",code:"void main() { vec2 uv = gl_FragCoord.xy / u_resolution.xy; float t = u_time * u_speed; float d = distance(uv, vec2(0.5)) + u_audio_val * 0.2; float n = sin(uv.x * 10.0 + t) * cos(uv.y * 10.0 - t); vec3 col = u_color * (1.0 - d) + n; gl_FragColor = vec4(col * u_intensity, 1.0); }"},{id:"s-prism",name:"Prism Rings",color:"#10b981",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float r = length(uv); float t = u_time * u_speed; float ring = abs(sin(r * 20.0 - t * 5.0 + u_audio_val * 10.0)); vec3 col = u_color / (ring * 50.0); gl_FragColor = vec4(col * u_intensity, 1.0); }"},{id:"s-flare",name:"Solar Flare",color:"#f97316",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float r = length(uv); float beam = abs(sin(atan(uv.y, uv.x) * 10.0 + u_time * u_speed)); vec3 col = u_color * beam * (1.0-r) * (1.0 + u_audio_val * 2.0); gl_FragColor = vec4(col * u_intensity, 1.0); }"},{id:"s-hyperspace",name:"Hyperspace",color:"#3b82f6",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float a = atan(uv.y, uv.x); float r = length(uv); float star = pow(abs(sin(a * 50.0 + u_time * 10.0)), 20.0) / r + u_audio_val; gl_FragColor = vec4(u_color * star * u_intensity, 1.0); }"},{id:"s-waves",name:"Acid Waves",color:"#ec4899",code:"void main() { vec2 uv = gl_FragCoord.xy / u_resolution.xy; float w = sin(uv.x * 20.0 + u_time * u_speed) * cos(uv.y * 20.0 + u_time) + u_audio_val; gl_FragColor = vec4(u_color * w * u_intensity, 1.0); }"},{id:"s-kaleido",name:"Kaleido Pulse",color:"#ffdc5e",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float a = mod(atan(uv.y, uv.x), 3.1415/3.0); float r = length(uv); vec2 p = vec2(cos(a), sin(a)) * r; float d = sin(p.x * 10.0 + u_time) + u_audio_val; gl_FragColor = vec4(u_color * d * u_intensity, 1.0); }"},{id:"s-neonweb",name:"Neon Web",color:"#10b981",code:"void main() { vec2 uv = gl_FragCoord.xy / u_resolution.xy; float line = abs(sin(uv.x * 30.0 + u_time)) * abs(cos(uv.y * 30.0 - u_time)) + u_audio_val; gl_FragColor = vec4(u_color * step(0.7, line) * u_intensity, 1.0); }"},{id:"s-pixel",name:"Pixel Glitch",color:"#f43f5e",code:"void main() { vec2 uv = floor(gl_FragCoord.xy / 20.0) * 20.0 / u_resolution.xy; float n = fract(sin(dot(uv, vec2(12.9898, 78.233))) * 43758.5453) + u_audio_val; gl_FragColor = vec4(u_color * n * u_intensity, 1.0); }"},{id:"s-bloom",name:"Fractal Bloom",color:"#fb7185",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float r = length(uv); float a = atan(uv.y, uv.x); float f = abs(cos(a*3.0 + u_time*u_speed)) * 0.5 + 0.5; vec3 col = u_color * smoothstep(f, f+0.02, r + u_audio_val*0.2); gl_FragColor = vec4(col * u_intensity, 1.0); }"},{id:"s-starfield",name:"Star Field",color:"#ffffff",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float star = pow(abs(sin(uv.x*100.0)*cos(uv.y*100.0)), 20.0); vec3 col = u_color * star * (1.0 + u_audio_val * 20.0); gl_FragColor = vec4(col * u_intensity, 1.0); }"},{id:"s-geo",name:"Geo Storm",color:"#06b6d4",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float d = max(abs(uv.x), abs(uv.y)); float shape = step(0.3 + u_audio_val * 0.2, d) * step(d, 0.4 + u_audio_val * 0.2); vec3 col = u_color * shape; gl_FragColor = vec4(col * u_intensity, 1.0); }"},{id:"s-flow",name:"Chromatic Flow",color:"#8b5cf6",code:"void main() { vec2 uv = gl_FragCoord.xy / u_resolution.xy; float t = u_time * u_speed; vec3 col = 0.5 + 0.5 * cos(t + uv.xyx + vec3(0,2,4)); col *= sin(uv.x * 10.0 + t) * u_audio_val; gl_FragColor = vec4(col * u_intensity, 1.0); }"},{id:"s-rings",name:"Sonic Rings",color:"#3b82f6",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float r = length(uv); float ring = abs(sin(r * 50.0 - u_time * 10.0)) + u_audio_val; gl_FragColor = vec4(u_color * smoothstep(0.4, 0.5, ring) * u_intensity, 1.0); }"},{id:"s-sparks",name:"Electric Sparks",color:"#ffdc5e",code:"void main() { vec2 uv = gl_FragCoord.xy / u_resolution.xy; float spark = step(0.99, fract(uv.x * 10.0 + u_time)) * step(0.99, fract(uv.y * 10.0 - u_time)) + u_audio_val; gl_FragColor = vec4(u_color * spark * u_intensity, 1.0); }"},{id:"s-bio",name:"Bio Pulse",color:"#22c55e",code:"void main() { vec2 uv = gl_FragCoord.xy / u_resolution.xy; float d = distance(uv, vec2(0.5)); float s = sin(d * 40.0 - u_time * 5.0) * 0.5 + 0.5 + u_audio_val; gl_FragColor = vec4(u_color * s * (1.0-d) * u_intensity, 1.0); }"}],gC=i=>({intensity:{min:0,max:2},speed:{min:0,max:4},zoom:{min:0,max:3},opacity:{min:0,max:1},contrast:{min:0,max:2},saturation:{min:0,max:2},brightness:{min:-1,max:1},hueRotate:{min:0,max:1},distort:{min:0,max:2},tieEffect:{min:0,max:1},feedbackDelay:{min:0,max:1},kaleidoscope:{min:0,max:12},particles:{min:0,max:1}})[i]||{min:0,max:1};class vC extends My.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,o){console.error("Error caught by boundary:",t,o)}render(){var t;return this.state.hasError?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0d0d0d] text-white p-8",children:f.jsxs("div",{className:"max-w-2xl text-center space-y-6",children:[f.jsx(mg,{size:64,className:"mx-auto text-red-500"}),f.jsx("h1",{className:"text-3xl font-black uppercase",children:"RUNTIME_ERROR"}),f.jsx("p",{className:"text-slate-400 font-mono text-sm",children:((t=this.state.error)==null?void 0:t.message)||"Unknown error occurred"}),f.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null}),window.location.reload()},className:"px-8 py-3 bg-[#ffdc5e] text-black rounded-xl font-black uppercase hover:bg-white transition-all",children:"Restart Application"})]})}):this.props.children}}const Ve=({label:i,val:t,max:o=1,onChange:l,onKeyframe:r})=>f.jsxs("div",{className:"space-y-2.5 group",children:[f.jsxs("div",{className:"flex justify-between text-[10px] font-black uppercase text-slate-600 tracking-[0.2em] transition-colors group-hover:text-slate-300",children:[f.jsx("span",{children:i}),f.jsxs("div",{className:"flex items-center gap-4",children:[r&&f.jsx("button",{onClick:r,className:"p-1 text-slate-800 hover:text-[#ffdc5e] transition-all hover:scale-150",children:f.jsx(wt,{size:10})}),f.jsx("span",{className:"text-[#ffdc5e] font-mono font-bold tracking-tight",children:t.toFixed(2)})]})]}),f.jsxs("div",{className:"h-6 w-full bg-[#0a0a0a] rounded-xl border border-white/5 relative overflow-hidden shadow-inner ring-1 ring-white/[0.02]",children:[f.jsx("div",{className:"h-full bg-gradient-to-r from-[#ffdc5e]/30 via-[#ffdc5e]/60 to-[#ffdc5e]/90 transition-all shadow-[0_0_20px_rgba(255,220,94,0.4)]",style:{width:`${t/o*100}%`}}),f.jsx("input",{type:"range",min:"0",max:o,step:"0.01",value:t,onChange:d=>l(parseFloat(d.target.value)),className:"absolute inset-0 w-full opacity-0 cursor-pointer"})]})]}),yC=({analysis:i,isZen:t,mode:o})=>{const[l,r]=F.useState([]),d=["sub","bass","lowMid","mid","highMid","treble","presence"];F.useEffect(()=>{if(o==="none")return;const g=setInterval(()=>{if(Object.values(i).some(v=>v>.8)||["glitch","hacker","topology"].includes(o)){const v=new Date().toISOString().split("T")[1].slice(0,8),x=Math.random().toString(16).slice(2,10).toUpperCase(),_={glitch:`ERR_CORE_OFFSET: 0x${x}`,radar:`OBJ_TRK_LOCKED: SIG_${x.slice(0,4)}`,hacker:`SUDO_INJECT: STACK_0x${x}`,topology:`ISO_CURVE_CALC: NODE_${x.slice(0,2)}`,circuit:`GATE_PULSE: TRANS_${x.slice(0,4)}`,stars:`NAV_FIX: AZIMUTH_${Math.floor(Math.random()*360)}`,default:`SIGNAL_PEAK_DETECTED: 0x${x}`},S=_[o]||_.default;r(E=>[`[${v}] ${S}`,...E].slice(0,15))}},o==="hacker"?80:150);return()=>clearInterval(g)},[i,o]);const h={terminal:"#ffdc5e",matrix:"#22c55e",blueprint:"#06b6d4",radar:"#10b981",glitch:"#f43f5e",hacker:"#f97316",topology:"#a855f7",circuit:"#94a3b8",stars:"#ffffff"}[o]||"#ffdc5e";return f.jsxs("div",{className:"absolute inset-0 pointer-events-none flex flex-col font-mono text-[10px] z-30 mix-blend-screen p-6 overflow-hidden transition-all duration-500",style:{color:`${h}aa`,filter:o==="hacker"?"contrast(1.2) brightness(1.1)":"none"},children:[o==="blueprint"&&f.jsx("div",{className:"absolute inset-0 opacity-10",style:{background:`linear-gradient(${h} 1px, transparent 1px) 0 0 / 40px 40px, linear-gradient(90deg, ${h} 1px, transparent 1px) 0 0 / 40px 40px`}}),o==="matrix"&&f.jsx("div",{className:"absolute inset-0 bg-black/10",children:f.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none",style:{backgroundImage:"linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 255, 255, 0.06))",backgroundSize:"100% 2px, 3px 100%"}})}),o==="radar"&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-20",children:f.jsxs("div",{className:"w-[80vw] h-[80vw] border-2 rounded-full flex items-center justify-center",style:{borderColor:h},children:[f.jsx("div",{className:"w-[60vw] h-[60vw] border rounded-full flex items-center justify-center",style:{borderColor:h},children:f.jsx("div",{className:"w-[40vw] h-[40vw] border rounded-full",style:{borderColor:h}})}),f.jsx("div",{className:"absolute w-full h-1",style:{background:`linear-gradient(90deg, transparent, ${h})`,transformOrigin:"center",animation:"spin 4s linear infinite"}})]})}),o==="hacker"&&f.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-30",style:{background:"repeating-linear-gradient(0deg, transparent 0px, rgba(0,0,0,0.5) 1px, transparent 2px)"}}),o==="topology"&&f.jsx("div",{className:"absolute inset-0 opacity-10",style:{background:`repeating-radial-gradient(circle at 50% 50%, transparent 0, transparent 40px, ${h} 41px, transparent 42px)`}}),o==="circuit"&&f.jsx("div",{className:"absolute inset-0 opacity-10",style:{background:`linear-gradient(90deg, ${h} 1px, transparent 1px) 0 0 / 100px 100px, linear-gradient(${h} 1px, transparent 1px) 0 0 / 100px 100px, radial-gradient(${h} 2px, transparent 2px) 50px 50px / 100px 100px`}}),o==="stars"&&f.jsx("div",{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(1px 1px at 20px 30px, white, rgba(0,0,0,0)), radial-gradient(1.5px 1.5px at 40px 70px, white, rgba(0,0,0,0)), radial-gradient(1px 1px at 50px 160px, white, rgba(0,0,0,0)), radial-gradient(1px 1px at 90px 40px, white, rgba(0,0,0,0)), radial-gradient(2px 2px at 130px 80px, white, rgba(0,0,0,0)), radial-gradient(1px 1px at 160px 120px, white, rgba(0,0,0,0))",backgroundSize:"200px 200px"}}),f.jsxs("div",{className:`flex justify-between w-full opacity-60 ${o==="glitch"?"animate-pulse":""}`,children:[f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsxs("span",{className:"font-black",children:["MODE_SELECTION: ",o.toUpperCase()]}),f.jsx("span",{children:"SIGNAL_ORIGIN: TITAN_CORE_V32"}),f.jsxs("span",{children:["SYNC_CLOCK: ",performance.now().toFixed(0),"MS"]}),f.jsxs("span",{children:["MODULATION_ID: ",Math.random().toString(36).slice(2,8).toUpperCase()]})]}),f.jsxs("div",{className:"text-right flex flex-col items-end",children:[f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-1.5 h-1.5 rounded-full animate-pulse",style:{backgroundColor:h}})," LIVE_STREAM_ACTIVE"]}),f.jsx("span",{children:"LATENCY: 1.2MS"}),f.jsx("span",{children:"BITRATE: 4096KBPS"})]})]}),f.jsx("div",{className:`flex-grow flex justify-center items-center opacity-30 overflow-hidden ${o==="glitch"?"translate-x-[-2px] skew-x-1":""}`,children:f.jsx("div",{className:"grid grid-cols-12 gap-10 whitespace-pre leading-none text-[8px]",children:Array.from({length:t?40:20}).map((g,y)=>f.jsx("div",{className:"flex flex-col animate-pulse",style:{animationDelay:`${y*100}ms`},children:Array.from({length:15}).map((v,x)=>{let _="1";return o==="matrix"?_=String.fromCharCode(12448+Math.random()*96):o==="hacker"?_=Math.random()>.5?"0":"X":o==="glitch"?_=String.fromCharCode(33+Math.random()*94):o==="circuit"?_=Math.random()>.8?"":Math.random()>.5?"":"":_=Math.random()>.5?"1":"0",f.jsx("span",{children:_},x)})},y))})}),f.jsxs("div",{className:"flex gap-10 h-32 items-end relative z-40",children:[f.jsx("div",{className:"flex-grow space-y-1 overflow-hidden",children:l.map((g,y)=>f.jsx("div",{className:`truncate opacity-80 transition-transform ${o==="glitch"&&Math.random()>.8?"translate-x-4":""}`,style:{opacity:1-y*.07,transform:`translateX(${y*2}px)`},children:g},y))}),f.jsx("div",{className:"w-64 space-y-2 opacity-80 shrink-0",children:d.map(g=>f.jsxs("div",{className:"flex gap-3 items-center",children:[f.jsx("span",{className:"w-16 uppercase text-[8px] tracking-tighter opacity-60",children:g}),f.jsx("div",{className:"flex-grow flex gap-0.5",children:Array.from({length:20}).map((y,v)=>f.jsx("span",{className:"transition-all duration-75",style:{color:v<i[g]*20?h:"rgba(255,255,255,0.05)"},children:o==="blueprint"?"":o==="radar"?"":o==="stars"?"*":"|"},v))})]},g))})]}),f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_0%,rgba(0,0,0,0.1)_100%)]"}),f.jsx("style",{children:`
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
      `})]})},xC=({shader:i})=>{const t=F.useRef(null),[o,l]=F.useState(null);return F.useEffect(()=>{var M;if(o)return;const r=(M=t.current)==null?void 0:M.getContext("webgl",{preserveDrawingBuffer:!0});if(!r)return;const d=r.createShader(r.VERTEX_SHADER);r.shaderSource(d,"attribute vec4 a_position; void main() { gl_Position = a_position; }"),r.compileShader(d);const h=r.createShader(r.FRAGMENT_SHADER),g=/uniform\s+(float|vec2|vec3)\s+[\w, ]+;/g,v=`
      precision mediump float; 
      uniform float u_time, u_speed, u_intensity, u_opacity, u_audio_val, u_zoom, u_kaleidoscope;
      uniform float u_distort, u_hue_rotate, u_contrast, u_saturation, u_brightness;
      uniform float u_tie_effect, u_feedback_delay, u_particles;
      uniform vec2 u_resolution; uniform vec3 u_color; 
      float dynamic_time;
      vec3 hsv2rgb(vec3 c) { vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0); vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www); return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y); }
      vec3 rgb2hsv(vec3 c) { vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0); vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g)); vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r)); float d = q.x - min(q.w, q.y); return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + 1e-10)), d / (q.x + 1e-10), q.x); }
      ${i.code.replace(/precision\s+\w+\s+float\s*;/g,"").replace(g,"").replace(/\bu_time\b/g,"dynamic_time").replace(/void\s+main\s*\([^)]*\)/gi,"void user_main()")} 
      void main() { 
        dynamic_time = u_time;
        vec2 p = gl_FragCoord.xy/u_resolution.xy; 
        user_main(); 
      }`;r.shaderSource(h,v),r.compileShader(h);const x=r.createProgram();if(r.attachShader(x,d),r.attachShader(x,h),r.linkProgram(x),!r.getProgramParameter(x,r.LINK_STATUS)){l("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");return}r.useProgram(x);const _=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,_),r.bufferData(r.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),r.STATIC_DRAW);const S=r.getAttribLocation(x,"a_position");S>=0&&(r.enableVertexAttribArray(S),r.vertexAttribPointer(S,2,r.FLOAT,!1,0,0)),r.viewport(0,0,80,80);const E=(k,K)=>{const j=r.getUniformLocation(x,k);j&&r.uniform1f(j,K)};r.uniform1f(r.getUniformLocation(x,"u_time"),1.5),r.uniform2f(r.getUniformLocation(x,"u_resolution"),80,80),E("u_speed",1),E("u_intensity",1),E("u_opacity",1),r.uniform3f(r.getUniformLocation(x,"u_color"),1,.86,.37),E("u_audio_val",.2),E("u_zoom",0),E("u_kaleidoscope",0),E("u_distort",0),E("u_hue_rotate",0),E("u_contrast",1),E("u_saturation",1),E("u_brightness",0),E("u_tie_effect",0),E("u_feedback_delay",0),E("u_particles",0),r.drawArrays(r.TRIANGLES,0,6);const I=t.current.toDataURL("image/png");l(I),r.bindBuffer(r.ARRAY_BUFFER,null),r.deleteBuffer(_),r.deleteProgram(x),r.deleteShader(d),r.deleteShader(h);const U=r.getExtension("WEBGL_lose_context");U&&U.loseContext()},[i,o]),f.jsx("div",{className:"w-14 h-14 rounded-md bg-[#0a0a0a] border border-white/5 group-hover:border-[#ffdc5e]/50 transition-all shadow-lg overflow-hidden flex items-center justify-center",children:o&&o.length>0?f.jsx("img",{src:o,alt:i.name,className:"w-full h-full object-cover"}):f.jsx("canvas",{ref:t,width:80,height:80,className:"w-full h-full opacity-0"})})},_C=({fx:i,onChange:t})=>{const o=F.useRef(null),l=r=>{if(!o.current)return;const d=o.current.getBoundingClientRect(),h="touches"in r?r.touches[0].clientX:r.clientX,g="touches"in r?r.touches[0].clientY:r.clientY,y=Math.max(0,Math.min(1,(h-d.left)/d.width)),v=Math.max(0,Math.min(1,1-(g-d.top)/d.height));t({x:y,y:v})};return f.jsxs("div",{ref:o,onMouseMove:r=>r.buttons===1&&l(r),onMouseDown:l,className:"w-full aspect-square bg-[#080808] rounded-3xl border border-white/10 relative overflow-hidden cursor-crosshair shadow-2xl group transition-all ring-1 ring-white/5 mb-4",children:[f.jsxs("div",{className:"absolute inset-0 opacity-10 pointer-events-none",children:[f.jsx("div",{className:"absolute inset-y-0 left-1/2 w-[1px] bg-white"}),f.jsx("div",{className:"absolute inset-x-0 top-1/2 h-[1px] bg-white"})]}),f.jsx("div",{className:"absolute w-7 h-7 -ml-3.5 -mt-3.5 bg-[#ffdc5e] rounded-sm border-2 border-black pointer-events-none shadow-[0_0_35px_#ffdc5e] transition-all group-active:scale-125",style:{left:`${i.feedback/20*100}%`,top:`${(1-i.bloom/1.5)*100}%`,transform:"rotate(45deg)"}})]})},bC=()=>{const i=F.useRef(null);return F.useEffect(()=>{var _;const t=(_=i.current)==null?void 0:_.getContext("webgl");if(!t)return;const o=t.createShader(t.VERTEX_SHADER);t.shaderSource(o,"attribute vec4 a_position; void main() { gl_Position = a_position; }"),t.compileShader(o);const l=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(l,`precision mediump float;
      uniform float u_time; uniform vec2 u_resolution; uniform vec2 u_mouse;
      void main() {
        vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / min(u_resolution.y, u_resolution.x);
        float d = length(uv - u_mouse * 0.1);
        vec3 col = vec3(0.18, 0.18, 0.2);
        col += (0.01 / d) * vec3(1.0, 0.86, 0.37) * (sin(u_time * 0.5) * 0.2 + 0.8);
        gl_FragColor = vec4(col * 0.4, 1.0);
      }`),t.compileShader(l);const r=t.createProgram();t.attachShader(r,o),t.attachShader(r,l),t.linkProgram(r),t.useProgram(r);const d=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,d),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),t.STATIC_DRAW);const h=t.getAttribLocation(r,"a_position");t.enableVertexAttribArray(h),t.vertexAttribPointer(h,2,t.FLOAT,!1,0,0);const g={x:0,y:0},y=S=>{g.x=S.clientX/window.innerWidth*2-1,g.y=S.clientY/window.innerHeight*-2+1};window.addEventListener("mousemove",y);const v=S=>{const E=window.innerWidth,I=window.innerHeight;i.current&&(i.current.width!==E||i.current.height!==I)&&(i.current.width=E,i.current.height=I),t.viewport(0,0,E,I),t.uniform1f(t.getUniformLocation(r,"u_time"),S*.001),t.uniform2f(t.getUniformLocation(r,"u_resolution"),E,I),t.uniform2f(t.getUniformLocation(r,"u_mouse"),g.x,g.y),t.drawArrays(t.TRIANGLES,0,6),requestAnimationFrame(v)},x=requestAnimationFrame(v);return()=>{cancelAnimationFrame(x),window.removeEventListener("mousemove",y)}},[]),f.jsx("canvas",{ref:i,className:"fixed inset-0 w-full h-full -z-10"})},SC=i=>i*i,TC=i=>i*(2-i),EC=i=>i<.5?2*i*i:-1+(4-2*i)*i,CC=i=>i<.5?2*i*i:1-Math.pow(-2*i+2,2)/2,NC=i=>i*i*(3-2*i),AC=(i,t="linear")=>{switch(t){case"linear":return i;case"ease":return CC(i);case"easeIn":return SC(i);case"easeOut":return TC(i);case"easeInOut":return EC(i);case"bezier":return NC(i);default:return i}},wC=(i,t,o)=>{if(!i||i.length===0)return t;const l=[...i].sort((r,d)=>r.t-d.t);if(o<=l[0].t)return l[0].v;if(o>=l[l.length-1].t)return l[l.length-1].v;for(let r=0;r<l.length-1;r++){const d=l[r],h=l[r+1];if(o>=d.t&&o<=h.t){const g=(o-d.t)/(h.t-d.t),y=d.curve||"linear",v=AC(g,y);return d.v+(h.v-d.v)*v}}return t},MC=(i,t,o=120)=>{const l=i.sync?o/60*i.freq:i.freq,r=t*l+i.phase;let d=0;switch(i.type){case"sine":d=Math.sin(r*Math.PI*2)*i.amp;break;case"tri":d=(Math.abs(r%1*2-1)*2-1)*i.amp;break;case"sqr":d=(r%1<.5?1:-1)*i.amp;break;case"noise":d=Math.sin(r*123.45)*Math.cos(r*678.9)*i.amp;break}return d+i.offset},bg=F.forwardRef(({playhead:i,clips:t,shaders:o,audioAnalysis:l,masterFX:r,mutes:d,solos:h,onShaderError:g},y)=>{const v=F.useRef(null),x=F.useRef(new Map),_=F.useRef(new Map),S=F.useRef(new Map),E=F.useRef({playhead:i,clips:t,shaders:o,audioAnalysis:l,masterFX:r,mutes:d,solos:h}),I=F.useRef(0),U=F.useRef(performance.now());F.useImperativeHandle(y,()=>v.current),E.current={playhead:i,clips:t,shaders:o,audioAnalysis:l,masterFX:r,mutes:d,solos:h},F.useEffect(()=>{var W;let z=(W=v.current)==null?void 0:W.getContext("webgl",{alpha:!0,antialias:!0,preserveDrawingBuffer:!0});if(!z)return;const ie=ne=>{ne.preventDefault(),console.warn("WebGL context lost, will attempt recovery")},X=()=>{var ne;z=(ne=v.current)==null?void 0:ne.getContext("webgl",{alpha:!0,antialias:!0,preserveDrawingBuffer:!0}),z&&(x.current.clear(),_.current.clear(),console.log("WebGL context restored"))},$=v.current;$&&($.addEventListener("webglcontextlost",ie),$.addEventListener("webglcontextrestored",X));const ye=z.createShader(z.VERTEX_SHADER);z.shaderSource(ye,"attribute vec4 a_position; void main() { gl_Position = a_position; }"),z.compileShader(ye);const le=z.createBuffer();z.bindBuffer(z.ARRAY_BUFFER,le),z.bufferData(z.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),z.STATIC_DRAW);const ge=()=>{if(!z||z.isContextLost()){requestAnimationFrame(ge);return}const ne=performance.now(),re=(ne-U.current)/1e3;U.current=ne,I.current+=isFinite(re)?re:0;const{playhead:Ae,clips:Ye,shaders:q,audioAnalysis:te,masterFX:Z,mutes:pe,solos:me}=E.current,A=v.current;if(!A)return;const B=A.clientWidth,ee=A.clientHeight;if((A.width!==B||A.height!==ee)&&(A.width=B,A.height=ee),z.viewport(0,0,B,ee),Z.backgroundType&&Z.backgroundType!=="none"?z.clearColor(0,0,0,0):z.clearColor(.12,.12,.12,1),z.clear(z.COLOR_BUFFER_BIT),z.enable(z.BLEND),Z.backgroundType&&Z.backgroundType,z.blendFunc(z.SRC_ALPHA,z.ONE_MINUS_SRC_ALPHA),Z.blackout)return requestAnimationFrame(ge);const ae=me.some(fe=>fe);[0,1,2,3,4,5,6,7].forEach(fe=>{pe[fe]||ae&&!me[fe]||Ye.filter(se=>se.track===fe&&Ae>=se.startTime&&Ae<se.startTime+se.duration).forEach(se=>{let oe=q.find(be=>be.id===se.shaderId);if(!oe)return;if(_.current.get(oe.id)!==oe.code){const be=z.createShader(z.FRAGMENT_SHADER),Dt=`precision mediump float;
                uniform float u_time, u_speed, u_intensity, u_opacity, u_audio_val, u_zoom, u_kaleidoscope;
                uniform float u_invert, u_chroma_burst, u_glitch_hit, u_mirror_flip, u_distort, u_hue_rotate;
                uniform float u_contrast, u_saturation, u_brightness, u_particles;
                uniform float u_tie_effect, u_feedback_delay;
                uniform float u_freeze, u_frozen_time, u_pixelate, u_noise, u_rgb_shift, u_posterize;
                uniform float u_scanlines, u_edge_detection, u_fisheye, u_twirl, u_master_kaleidoscope;
                uniform vec2 u_resolution; uniform vec3 u_color;
                float dynamic_time;
                vec3 hsv2rgb(vec3 c) { vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0); vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www); return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y); }
                vec3 rgb2hsv(vec3 c) { vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0); vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g)); vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r)); float d = q.x - min(q.w, q.y); return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + 1e-10)), d / (q.x + 1e-10), q.x); }
                
                float hash(vec2 p) { return fract(sin(dot(p, vec2(12.9898, 78.233))) * 43758.5453); }

                ${oe.code.replace(/\bu_time\b/g,"dynamic_time").replace(/void\s+main\s*\([^)]*\)/gi,"void user_main()")}
                void main() {
                  dynamic_time = u_freeze > 0.5 ? u_frozen_time : u_time;
                  vec2 p = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y;
                  
                  // Initialize gl_FragColor with transparent black to allow background to show through
                  gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
                  
                  // Master Kaleidoscope (applied early)
                  if(u_master_kaleidoscope > 0.0) {
                    float a = atan(p.y, p.x); float r = length(p);
                    float segments = floor(u_master_kaleidoscope) + 2.0;
                    a = mod(a, 3.14159 * 2.0 / segments);
                    a = abs(a - 3.14159 / segments);
                    p = vec2(cos(a), sin(a)) * r;
                  }
                  
                  // Fisheye
                  if(u_fisheye > 0.0) {
                    float r = length(p);
                    float f = 1.0 + u_fisheye * r * r;
                    p *= f;
                  }
                  
                  // Twirl
                  if(u_twirl > 0.0) {
                    float a = atan(p.y, p.x) + u_twirl * (1.0 - length(p));
                    float r = length(p);
                    p = vec2(cos(a), sin(a)) * r;
                  }
                  
                  // Pixelate (simplified - quantize coordinates)
                  if(u_pixelate > 0.0) {
                    float pixelSize = 1.0 + u_pixelate * 0.01;
                    p = floor(p * pixelSize * 10.0) / (pixelSize * 10.0);
                  }
                  
                  // Tie Effect (Radial Distortion)
                  if(u_tie_effect > 0.0) {
                     float r = length(p); float a = atan(p.y, p.x);
                     a += sin(r * 10.0 - dynamic_time) * u_tie_effect;
                     p = vec2(cos(a), sin(a)) * r;
                  }

                  if(u_distort > 0.0) { p += sin(p.yx * 8.0 + dynamic_time * 2.0) * u_distort * 0.05; }
                  if(u_zoom > 0.0) p /= (1.0 + u_zoom);
                  if(u_mirror_flip > 0.5) p = abs(p);
                  
                  // Kaleidoscope
                  if(u_kaleidoscope > 0.0) {
                     float a = atan(p.y, p.x); float r = length(p);
                     a = mod(a, 3.14159 * 2.0 / u_kaleidoscope);
                     a = abs(a - 3.14159 / u_kaleidoscope);
                     p = vec2(cos(a), sin(a)) * r;
                  }

                  if(u_glitch_hit > 0.5) p.x += sin(p.y * 30.0 + dynamic_time * 10.0) * 0.05;
                  
                  // Final Render with Temporal Feedback Loop
                  if(u_feedback_delay > 0.0) {
                     vec4 baseColor = vec4(0.0);
                     float originalTime = dynamic_time;
                     for(float i=0.0; i<3.0; i++) {
                        dynamic_time = originalTime - i * u_feedback_delay * 0.2;
                        user_main();
                        baseColor += gl_FragColor * (1.0 - i*0.3);
                     }
                     gl_FragColor = baseColor / 2.0;
                     dynamic_time = originalTime;
                  } else {
                     user_main();
                  }

                  // Particle Engine (Integrated)
                  if(u_particles > 0.0) {
                    float part = 0.0;
                    vec2 gridUV = p * 15.0;
                    vec2 id = floor(gridUV);
                    for(float x=-1.0; x<=1.0; x++) {
                      for(float y=-1.0; y<=1.0; y++) {
                        vec2 nid = id + vec2(x, y);
                        vec2 offset = vec2(hash(nid), hash(nid + 123.45)) - 0.5;
                        vec2 pPos = nid + 0.5 + offset * sin(dynamic_time + hash(nid)*10.0);
                        float d = length(gridUV - pPos);
                        part += smoothstep(0.1 + u_audio_val * 0.2, 0.0, d) * (0.5 + 0.5 * sin(dynamic_time * hash(nid)));
                      }
                    }
                    gl_FragColor.rgb += u_color * part * u_particles * 2.5;
                  }

                  vec3 col = gl_FragColor.rgb;
                  col = (col - 0.5) * u_contrast + 0.5 + u_brightness;
                  float gray = dot(col, vec3(0.299, 0.587, 0.114));
                  col = mix(vec3(gray), col, u_saturation);
                  if(u_hue_rotate > 0.0) { vec3 hsv = rgb2hsv(col); hsv.x = fract(hsv.x + u_hue_rotate); col = hsv2rgb(hsv); }
                  if(u_invert > 0.5) col = 1.0 - col;
                  if(u_chroma_burst > 0.5) col.rb += vec2(0.2);
                  
                  // Master FX Post-Processing
                  vec2 uv = gl_FragCoord.xy / u_resolution.xy;
                  
                  // Noise
                  if(u_noise > 0.0) {
                    col += (hash(gl_FragCoord.xy + dynamic_time) - 0.5) * u_noise;
                  }
                  
                  // Posterize
                  if(u_posterize > 0.0) {
                    float levels = floor(u_posterize) + 1.0;
                    col = floor(col * levels) / levels;
                  }
                  
                  // Scanlines
                  if(u_scanlines > 0.5) {
                    float scanline = step(0.5, mod(gl_FragCoord.y, 2.0));
                    col *= 0.7 + scanline * 0.3;
                  }
                  
                  // Edge Detection (simplified - based on color difference)
                  if(u_edge_detection > 0.5) {
                    float edge = abs(col.r - col.g) + abs(col.g - col.b) + abs(col.b - col.r);
                    col = vec3(edge * 3.0);
                  }
                  
                  gl_FragColor = vec4(col, gl_FragColor.a * u_opacity);
                }`;if(z.shaderSource(be,Dt),z.compileShader(be),z.getShaderParameter(be,z.COMPILE_STATUS)){const tt=z.createProgram();z.attachShader(tt,ye),z.attachShader(tt,be),z.linkProgram(tt),x.current.set(oe.id,tt),g&&g(oe.id,null),S.current.set(oe.id,null)}else{const tt=z.getShaderInfoLog(be);g&&g(oe.id,tt),S.current.set(oe.id,tt)}_.current.set(oe.id,oe.code)}let $e=x.current.get(oe.id);if(!$e){z.enable(z.BLEND),z.blendFunc(z.SRC_ALPHA,z.ONE_MINUS_SRC_ALPHA);const be=Math.sin(z.canvas.height*Ae*.1)*.1+.1;z.clearColor(.2,.05,.05,be);return}if(z.useProgram($e),Z.backgroundType&&Z.backgroundType!=="none")z.enable(z.BLEND),z.blendFunc(z.SRC_ALPHA,z.ONE_MINUS_SRC_ALPHA);else switch(z.enable(z.BLEND),se.blendMode){case"add":z.blendFunc(z.SRC_ALPHA,z.ONE);break;case"multiply":z.blendFunc(z.DST_COLOR,z.ZERO);break;case"screen":z.blendFunc(z.ONE,z.ONE_MINUS_SRC_COLOR);break;default:z.blendFunc(z.SRC_ALPHA,z.ONE_MINUS_SRC_ALPHA);break}z.bindBuffer(z.ARRAY_BUFFER,le);const ze=z.getAttribLocation($e,"a_position");z.enableVertexAttribArray(ze),z.vertexAttribPointer(ze,2,z.FLOAT,!1,0,0);const on=Ae-se.startTime,gt=on/se.duration*(se.timeStretch||1);let dt=1;on<se.fadeIn?dt=on/Math.max(.01,se.fadeIn):on>se.duration-se.fadeOut&&(dt=(se.duration-on)/Math.max(.01,se.fadeOut)),dt=Math.max(0,Math.min(1,dt));const st=(be,Dt)=>{var xo;let tt=wC((xo=se.automation)==null?void 0:xo[be],Dt,gt);return se.lfos.forEach(ji=>{ji.target===be&&(tt+=MC(ji,I.current,Z.bpm))}),tt},Ie=(be,Dt)=>{const tt=z.getUniformLocation($e,be);tt&&z.uniform1f(tt,Dt)};Ie("u_time",Ae+I.current*.1),z.uniform2f(z.getUniformLocation($e,"u_resolution"),A.width,A.height),Ie("u_speed",st("speed",se.params.speed)),Ie("u_intensity",st("intensity",se.params.intensity)),Ie("u_opacity",st("opacity",se.opacity)*dt),Ie("u_zoom",Z.zoomPunch?.9:st("zoom",se.params.zoom)),Ie("u_kaleidoscope",st("kaleidoscope",se.params.kaleidoscope)),Ie("u_distort",st("distort",se.params.distort)),Ie("u_hue_rotate",st("hueRotate",se.params.hueRotate)),Ie("u_contrast",st("contrast",se.params.contrast)),Ie("u_saturation",st("saturation",se.params.saturation)),Ie("u_brightness",st("brightness",se.params.brightness)),Ie("u_tie_effect",st("tieEffect",se.params.tieEffect)),Ie("u_feedback_delay",st("feedbackDelay",se.params.feedbackDelay)),Ie("u_particles",st("particles",se.params.particles)),Ie("u_invert",Z.invert?1:0),Ie("u_chroma_burst",Z.chromaBurst?1:0),Ie("u_glitch_hit",Z.glitchHit?1:0),Ie("u_mirror_flip",Z.mirrorFlip?1:0),Ie("u_freeze",Z.freeze?1:0),Ie("u_frozen_time",I.current),Ie("u_pixelate",Z.pixelate),Ie("u_noise",Z.noise),Ie("u_rgb_shift",Z.rgbShift),Ie("u_posterize",Z.posterize),Ie("u_scanlines",Z.scanlines?1:0),Ie("u_edge_detection",Z.edgeDetection?1:0),Ie("u_fisheye",Z.fisheye),Ie("u_twirl",Z.twirl),Ie("u_master_kaleidoscope",Z.kaleidoscope);const Bt=st("color",se.params.color),Oi=Math.max(0,Math.min(1,Math.abs(Bt*6-3)-1)),Fn=Math.max(0,Math.min(1,2-Math.abs(Bt*6-2))),fi=Math.max(0,Math.min(1,2-Math.abs(Bt*6-4)));z.uniform3f(z.getUniformLocation($e,"u_color"),Oi,Fn,fi),Ie("u_audio_val",te[se.audioTie||"vol"]*se.audioReactive),z.drawArrays(z.TRIANGLES,0,6)})}),Z.strobe&&Math.floor(I.current*25)%2===0&&(Z.backgroundType&&Z.backgroundType!=="none"?z.clearColor(1,1,1,.5):z.clearColor(1,1,1,1),z.clear(z.COLOR_BUFFER_BIT)),requestAnimationFrame(ge)};return requestAnimationFrame(ge),()=>{$&&($.removeEventListener("webglcontextlost",ie),$.removeEventListener("webglcontextrestored",X))}},[]);const M=r.feedback+(r.feedbackDrive?15:0),k=[];M>0&&k.push(`blur(${M}px)`),r.bloom>0&&k.push(`brightness(${1+r.bloom})`),r.blur>0&&k.push(`blur(${r.blur}px)`),r.invert&&k.push("invert(1)"),r.colorShift>0&&k.push(`hue-rotate(${r.colorShift}deg)`),r.sharpen>0&&k.push(`contrast(${1+r.sharpen*.1})`),r.rgbShift>0;const j={filter:k.length>0?k.join(" "):"none",backgroundColor:r.backgroundType&&r.backgroundType!=="none"?"transparent":"#1e1e1e",zIndex:1,position:"relative",mixBlendMode:(r.backgroundType&&r.backgroundType!=="none","normal")};return f.jsx("canvas",{ref:v,className:"w-full h-full block relative",style:j})});bg.displayName="ShaderCanvas";const RC=({playhead:i,isPlaying:t,isExporting:o,overlayMode:l,canUndo:r,canRedo:d,onExit:h,onPlayPause:g,onReset:y,onExport:v,onSaveProject:x,onLoadProject:_,onUndo:S,onRedo:E,onCycleOverlay:I,onZenMode:U,onPresets:M,onHelp:k,audioRef:K,analyzerRef:j,initAudio:z,setPlayhead:ie,setIsPlaying:X,logoHold:$=!1,onLogoHold:ye})=>{const le=()=>{ie(0),K.current&&(K.current.currentTime=0),X(!1),y()},ge=()=>{g()};return f.jsxs("header",{className:"flex justify-between items-center bg-[#1a1a1a] p-2.5 px-6 rounded-xl border border-white/5 shrink-0 z-50 relative overflow-hidden shadow-2xl",children:[f.jsxs("div",{className:"flex items-center gap-4 cursor-pointer group",onClick:h,children:[f.jsx("div",{className:"p-2 bg-[#ffdc5e]/10 rounded-lg group-hover:bg-[#ffdc5e]/20 transition-all duration-300 group-hover:scale-110 group-hover:shadow-[0_0_20px_rgba(255,220,94,0.4)]",children:f.jsx(Cn,{className:"text-[#ffdc5e] group-hover:animate-pulse",size:22})}),f.jsx("h2",{className:"font-black tracking-tighter text-sm text-slate-100 uppercase group-hover:text-[#ffdc5e] transition-colors duration-300",children:"EP_STUDIO_V32_11"})]}),f.jsxs("div",{className:"flex items-center gap-5 bg-[#0a0a0a] px-6 py-2 rounded-full border border-white/5 shadow-inner",children:[f.jsx("button",{onClick:le,className:"p-1.5 text-slate-500 hover:text-white transition-all duration-300 hover:rotate-[-90deg] hover:scale-110 active:scale-95",title:"Reset Playhead",children:f.jsx(yc,{size:14})}),f.jsx("button",{onClick:ge,className:`px-8 py-2 rounded-full text-[11px] font-black uppercase transition-all duration-300 transform ${t?"bg-[#ffdc5e] text-black shadow-[0_0_25px_#ffdc5e99] scale-105":"bg-[#2a2a2a] text-white hover:bg-[#333] hover:scale-105"} active:scale-95`,children:t?"Stop":"Play"}),f.jsxs("div",{className:"font-mono font-bold text-2xl text-[#ffdc5e] min-w-[120px] text-center drop-shadow-[0_0_10px_#ffdc5e44]",children:[i.toFixed(2),"s"]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:I,className:`p-3 rounded-xl transition-all duration-300 transform ${l!=="none"?"bg-[#ffdc5e] text-black shadow-[0_0_15px_#ffdc5e99] scale-105":"bg-[#2a2a2a] text-slate-400 hover:text-white hover:bg-[#333]"} hover:scale-110 active:scale-95`,title:"Cycle Neural Overlay Mode",children:f.jsx(n2,{size:18})}),M&&f.jsx("button",{onClick:M,className:"p-3 bg-[#2a2a2a] rounded-xl text-slate-400 hover:text-white transition-all duration-300 hover:scale-110 hover:bg-[#333] active:scale-95 hover:shadow-[0_0_10px_rgba(255,255,255,0.1)]",title:"Presets Manager",children:f.jsx(gg,{size:18})}),f.jsxs("button",{onClick:v,disabled:o,className:"flex items-center gap-2 px-6 py-2.5 rounded-xl font-black uppercase text-[10px] transition-all duration-300 border bg-[#2a2a2a] border-white/10 text-slate-200 hover:bg-[#333] hover:border-white/20 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",title:"Export Video/Frame (Cmd+E)",children:[o?f.jsx(Js,{size:16,className:"animate-spin"}):f.jsx(fa,{size:16,className:"transition-transform group-hover:scale-110"}),o?"Exporting...":"Render"]}),f.jsx("button",{onClick:x,className:"p-3 bg-[#2a2a2a] rounded-xl text-slate-400 hover:text-white transition-all duration-300 hover:scale-110 hover:bg-[#333] active:scale-95 hover:shadow-[0_0_10px_rgba(255,255,255,0.1)]",title:"Save Project (Cmd+S)",children:f.jsx(tr,{size:18})}),f.jsx("button",{onClick:_,className:"p-3 bg-[#2a2a2a] rounded-xl text-slate-400 hover:text-white transition-all duration-300 hover:scale-110 hover:bg-[#333] active:scale-95 hover:shadow-[0_0_10px_rgba(255,255,255,0.1)]",title:"Load Project (Cmd+O)",children:f.jsx(Ys,{size:18})}),f.jsx("button",{onClick:S,disabled:!r,className:"p-3 bg-[#2a2a2a] rounded-xl text-slate-400 hover:text-white transition-all duration-300 hover:scale-110 hover:bg-[#333] active:scale-95 disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:bg-[#2a2a2a]",title:"Undo (Cmd+Z)",children:f.jsx(yc,{size:18})}),f.jsx("button",{onClick:E,disabled:!d,className:"p-3 bg-[#2a2a2a] rounded-xl text-slate-400 hover:text-white transition-all duration-300 hover:scale-110 hover:bg-[#333] active:scale-95 disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:bg-[#2a2a2a]",title:"Redo (Cmd+Shift+Z)",children:f.jsx(yc,{size:18,className:"rotate-180"})}),f.jsx("button",{onClick:U,className:"p-3 bg-[#2a2a2a] rounded-xl text-slate-400 hover:text-white transition-all duration-300 hover:scale-110 hover:bg-[#333] active:scale-95 hover:shadow-[0_0_10px_rgba(255,255,255,0.1)]",title:"Zen Mode",children:f.jsx(yg,{size:18})}),k&&f.jsx("button",{onClick:k,className:"p-3 bg-[#2a2a2a] rounded-xl text-slate-400 hover:text-white transition-all duration-300 hover:scale-110 hover:bg-[#333] active:scale-95 hover:shadow-[0_0_10px_rgba(255,255,255,0.1)]",title:"Keyboard Shortcuts (?)",children:f.jsx(s2,{size:18})}),ye&&f.jsx("button",{onClick:ye,className:`p-3 rounded-xl transition-all duration-300 hover:scale-110 active:scale-95 ${$?"bg-[#ffdc5e] text-black shadow-[0_0_15px_#ffdc5e99]":"bg-[#2a2a2a] text-slate-400 hover:text-white hover:bg-[#333]"}`,title:$?"Logo freigeben":"Logo halten",children:$?f.jsx(Bn,{size:18}):f.jsx(pl,{size:18})})]})]})};let Hs=null,x0=!1,_0=!1;const IC=async()=>{if(!(x0||_0))try{typeof window<"u"&&(Hs=(await Ey(()=>import("./index-DPxf7GMT.js"),__vite__mapDeps([0,1,2]))).default,x0=!0)}catch(i){console.warn("Monaco Editor failed to load:",i),_0=!0}},kC=({shader:i,error:t,onChange:o})=>{const[l,r]=F.useState(!1);return F.useEffect(()=>{IC().then(()=>{Hs&&r(!0)})},[]),i?f.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300 h-full flex flex-col",children:[f.jsxs("div",{className:"bg-[#0a0a0a] p-4 rounded-2xl border border-white/5 shadow-inner flex-grow flex flex-col overflow-hidden",children:[f.jsxs("h3",{className:"text-[10px] font-black uppercase text-[#ffdc5e] mb-3 flex items-center gap-2 tracking-widest shrink-0",children:[f.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})}),"Shader Source"]}),f.jsx("div",{className:"flex-grow overflow-hidden rounded-lg border border-white/5",children:l&&Hs?f.jsx(Hs,{height:"100%",defaultLanguage:"glsl",value:i.code,onChange:d=>o(d||""),theme:"vs-dark",loading:f.jsx("div",{className:"text-slate-400 text-xs p-4",children:"Loading editor..."}),options:{minimap:{enabled:!1},fontSize:11,fontFamily:"'Fira Code', 'Monaco', 'Courier New', monospace",lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,wordWrap:"on",formatOnPaste:!1,formatOnType:!1,suggestOnTriggerCharacters:!1,quickSuggestions:!1,acceptSuggestionOnEnter:"off",bracketPairColorization:{enabled:!0},colorDecorators:!0,contextmenu:!0,cursorBlinking:"smooth",cursorSmoothCaretAnimation:"on",smoothScrolling:!0,padding:{top:8,bottom:8}}}):f.jsx("textarea",{value:i.code,onChange:d=>o(d.target.value),className:"w-full h-full bg-transparent text-[10px] font-mono text-slate-300 outline-none resize-none custom-scrollbar leading-relaxed p-4",spellCheck:!1,placeholder:"Loading Monaco Editor..."})})]}),t&&f.jsxs("div",{className:"bg-red-950/30 border-2 border-red-500/40 p-4 rounded-xl space-y-2 animate-in slide-in-from-bottom-2",children:[f.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-red-400 uppercase tracking-tighter",children:[f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),f.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),"Validation Failure"]}),f.jsx("div",{className:"text-[9px] font-mono text-red-200/80 max-h-[120px] overflow-y-auto custom-scrollbar-red bg-black/40 p-2 rounded",children:t})]})]}):null},DC=({isOpen:i,onClose:t,onExport:o,isExporting:l,progress:r,currentFrame:d,totalFrames:h})=>{const[g,y]=F.useState({format:"mp4",preset:"high",fps:30,quality:.9,resolution:{width:1920,height:1080},bitrate:8e6}),v={high:{fps:60,quality:.95,bitrate:12e6,resolution:{width:1920,height:1080}},medium:{fps:30,quality:.85,bitrate:6e6,resolution:{width:1280,height:720}},low:{fps:24,quality:.7,bitrate:3e6,resolution:{width:854,height:480}}},x=_=>{if(_==="custom")return;const S=v[_];y(E=>({...E,preset:_,...S}))};return i?f.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[9999] flex items-center justify-center p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-[#1a1a1a] border border-white/10 rounded-2xl p-6 max-w-2xl w-full shadow-2xl animate-in zoom-in-95 duration-200",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("h3",{className:"text-lg font-black uppercase text-[#ffdc5e] flex items-center gap-3",children:[f.jsx(fa,{size:20}),"Export Settings"]}),f.jsx("button",{onClick:t,disabled:l,className:"p-2 text-slate-500 hover:text-white transition-all disabled:opacity-30",children:f.jsx(Bn,{size:20})})]}),l?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-[#0a0a0a] p-6 rounded-xl border border-white/5",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("span",{className:"text-sm font-black uppercase text-slate-400",children:"Export Progress"}),f.jsx("span",{className:"text-sm font-mono text-[#ffdc5e]",children:d!==void 0&&h!==void 0?`${d}/${h} frames`:`${Math.round(r)}%`})]}),f.jsx("div",{className:"w-full h-3 bg-[#0a0a0a] rounded-full overflow-hidden border border-white/5",children:f.jsx("div",{className:"h-full bg-gradient-to-r from-[#ffdc5e] to-[#f59e0b] transition-all duration-300 shadow-[0_0_20px_#ffdc5e44]",style:{width:`${r}%`}})})]}),f.jsx("div",{className:"text-center text-sm text-slate-400 font-mono",children:g.format==="frame"?"Capturing frame...":`Rendering ${g.format.toUpperCase()}...`})]}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-black uppercase text-slate-500 mb-3 block",children:"Export Format"}),f.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[f.jsxs("button",{onClick:()=>y(_=>({..._,format:"video"})),className:`p-4 rounded-xl border transition-all flex items-center gap-3 ${g.format==="video"?"bg-[#ffdc5e]/10 border-[#ffdc5e] text-[#ffdc5e]":"bg-[#0a0a0a] border-white/5 text-slate-400 hover:border-white/20"}`,children:[f.jsx(fa,{size:20}),f.jsx("span",{className:"text-sm font-black uppercase",children:"WebM"})]}),f.jsxs("button",{onClick:()=>y(_=>({..._,format:"mp4"})),className:`p-4 rounded-xl border transition-all flex items-center gap-3 ${g.format==="mp4"?"bg-[#ffdc5e]/10 border-[#ffdc5e] text-[#ffdc5e]":"bg-[#0a0a0a] border-white/5 text-slate-400 hover:border-white/20"}`,children:[f.jsx(fa,{size:20}),f.jsx("span",{className:"text-sm font-black uppercase",children:"MP4"})]}),f.jsxs("button",{onClick:()=>y(_=>({..._,format:"frame"})),className:`p-4 rounded-xl border transition-all flex items-center gap-3 ${g.format==="frame"?"bg-[#ffdc5e]/10 border-[#ffdc5e] text-[#ffdc5e]":"bg-[#0a0a0a] border-white/5 text-slate-400 hover:border-white/20"}`,children:[f.jsx(x2,{size:20}),f.jsx("span",{className:"text-sm font-black uppercase",children:"Frame"})]})]})]}),(g.format==="video"||g.format==="mp4")&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-black uppercase text-slate-500 mb-3 block",children:"Quality Preset"}),f.jsx("div",{className:"grid grid-cols-4 gap-2",children:["high","medium","low","custom"].map(_=>f.jsx("button",{onClick:()=>x(_),className:`px-4 py-2 rounded-lg text-xs font-black uppercase transition-all border ${g.preset===_?"bg-[#ffdc5e] border-[#ffdc5e] text-black":"bg-[#0a0a0a] border-white/5 text-slate-400 hover:border-white/20"}`,children:_},_))})]}),g.preset==="custom"&&f.jsxs("div",{className:"space-y-4 bg-[#0a0a0a] p-4 rounded-xl border border-white/5",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"text-xs font-black uppercase text-slate-500 mb-2 block",children:["FPS: ",g.fps]}),f.jsx("input",{type:"range",min:"24",max:"60",step:"1",value:g.fps,onChange:_=>y(S=>({...S,fps:parseInt(_.target.value)})),className:"w-full accent-[#ffdc5e]"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"text-xs font-black uppercase text-slate-500 mb-2 block",children:["Bitrate: ",g.bitrate/1e6,"Mbps"]}),f.jsx("input",{type:"range",min:"2000000",max:"20000000",step:"1000000",value:g.bitrate,onChange:_=>y(S=>({...S,bitrate:parseInt(_.target.value)})),className:"w-full accent-[#ffdc5e]"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-black uppercase text-slate-500 mb-2 block",children:"Width"}),f.jsx("input",{type:"number",value:g.resolution.width,onChange:_=>y(S=>({...S,resolution:{...S.resolution,width:parseInt(_.target.value)}})),className:"w-full bg-[#1a1a1a] border border-white/5 p-2 rounded-lg text-sm text-white"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-black uppercase text-slate-500 mb-2 block",children:"Height"}),f.jsx("input",{type:"number",value:g.resolution.height,onChange:_=>y(S=>({...S,resolution:{...S.resolution,height:parseInt(_.target.value)}})),className:"w-full bg-[#1a1a1a] border border-white/5 p-2 rounded-lg text-sm text-white"})]})]})]})]}),f.jsxs("div",{className:"flex gap-3 pt-4 border-t border-white/5",children:[f.jsx("button",{onClick:t,disabled:l,className:"flex-1 px-6 py-3 bg-[#0a0a0a] border border-white/5 rounded-xl text-sm font-black uppercase text-slate-400 hover:text-white transition-all disabled:opacity-30",children:"Cancel"}),f.jsxs("button",{onClick:()=>o(g),disabled:l,className:"flex-1 px-6 py-3 bg-[#ffdc5e] text-black rounded-xl text-sm font-black uppercase hover:bg-[#f59e0b] transition-all flex items-center justify-center gap-2 disabled:opacity-30",children:[f.jsx(tr,{size:16}),"Export ",g.format==="video"?"Video":"Frame"]})]})]})]})}):null},UC=({isOpen:i,onClose:t,activeClip:o,masterFX:l,onSaveClipPreset:r,onLoadClipPreset:d,onSaveMasterPreset:h,onLoadMasterPreset:g})=>{const[y,v]=F.useState("clip"),[x,_]=F.useState(()=>{const X=localStorage.getItem("ep_clip_presets");return X?JSON.parse(X):[]}),[S,E]=F.useState(()=>{const X=localStorage.getItem("ep_master_presets");return X?JSON.parse(X):[]}),[I,U]=F.useState(""),M=()=>{if(!o||!I.trim())return;const X={id:`cp-${Date.now()}`,name:I.trim(),clip:{params:o.params,automation:o.automation,lfos:o.lfos,blendMode:o.blendMode,audioReactive:o.audioReactive,audioTie:o.audioTie,opacity:o.opacity,fadeIn:o.fadeIn,fadeOut:o.fadeOut}},$=[...x,X];_($),localStorage.setItem("ep_clip_presets",JSON.stringify($)),r(X),U("")},k=()=>{if(!I.trim())return;const X={id:`mp-${Date.now()}`,name:I.trim(),fx:{...l}},$=[...S,X];E($),localStorage.setItem("ep_master_presets",JSON.stringify($)),h(X),U("")},K=X=>{const $=x.filter(ye=>ye.id!==X);_($),localStorage.setItem("ep_clip_presets",JSON.stringify($))},j=X=>{const $=S.filter(ye=>ye.id!==X);E($),localStorage.setItem("ep_master_presets",JSON.stringify($))},z=()=>{const X={clipPresets:x,masterPresets:S,version:"1.0"},$=new Blob([JSON.stringify(X,null,2)],{type:"application/json"}),ye=URL.createObjectURL($),le=document.createElement("a");le.href=ye,le.download=`elastic-pulse-presets-${Date.now()}.json`,le.click(),URL.revokeObjectURL(ye)},ie=()=>{const X=document.createElement("input");X.type="file",X.accept=".json",X.onchange=$=>{var ge;const ye=(ge=$.target.files)==null?void 0:ge[0];if(!ye)return;const le=new FileReader;le.onload=W=>{var ne;try{const re=JSON.parse((ne=W.target)==null?void 0:ne.result);re.clipPresets&&(_(re.clipPresets),localStorage.setItem("ep_clip_presets",JSON.stringify(re.clipPresets))),re.masterPresets&&(E(re.masterPresets),localStorage.setItem("ep_master_presets",JSON.stringify(re.masterPresets)))}catch{alert("Failed to import presets. Invalid file format.")}},le.readAsText(ye)},X.click()};return i?f.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[9999] flex items-center justify-center p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-[#1a1a1a] border border-white/10 rounded-2xl p-6 max-w-3xl w-full shadow-2xl animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6 shrink-0",children:[f.jsxs("h3",{className:"text-lg font-black uppercase text-[#ffdc5e] flex items-center gap-3",children:[f.jsx(gg,{size:20}),"Presets Manager"]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:z,className:"p-2 text-slate-500 hover:text-white transition-all",title:"Export Presets",children:f.jsx(tr,{size:18})}),f.jsx("button",{onClick:ie,className:"p-2 text-slate-500 hover:text-white transition-all",title:"Import Presets",children:f.jsx(Ys,{size:18})}),f.jsx("button",{onClick:t,className:"p-2 text-slate-500 hover:text-white transition-all",children:f.jsx(Bn,{size:20})})]})]}),f.jsxs("div",{className:"flex gap-2 mb-4 shrink-0",children:[f.jsx("button",{onClick:()=>v("clip"),className:`px-4 py-2 rounded-lg text-xs font-black uppercase transition-all ${y==="clip"?"bg-[#ffdc5e] text-black":"bg-[#0a0a0a] text-slate-400 hover:text-white"}`,children:"Clip Presets"}),f.jsx("button",{onClick:()=>v("master"),className:`px-4 py-2 rounded-lg text-xs font-black uppercase transition-all ${y==="master"?"bg-[#ffdc5e] text-black":"bg-[#0a0a0a] text-slate-400 hover:text-white"}`,children:"Master FX Presets"})]}),f.jsx("div",{className:"flex-grow overflow-hidden flex flex-col",children:y==="clip"?f.jsxs("div",{className:"flex flex-col gap-4 h-full overflow-hidden",children:[f.jsxs("div",{className:"bg-[#0a0a0a] p-4 rounded-xl border border-white/5 flex gap-2 shrink-0",children:[f.jsx("input",{type:"text",value:I,onChange:X=>U(X.target.value),placeholder:"Preset name...",className:"flex-grow bg-[#1a1a1a] border border-white/5 p-2 rounded-lg text-sm text-white outline-none focus:border-[#ffdc5e]",onKeyDown:X=>X.key==="Enter"&&M()}),f.jsxs("button",{onClick:M,disabled:!o||!I.trim(),className:"px-4 py-2 bg-[#ffdc5e] text-black rounded-lg text-xs font-black uppercase hover:bg-[#f59e0b] transition-all disabled:opacity-30 disabled:cursor-not-allowed flex items-center gap-2",children:[f.jsx(y0,{size:16}),"Save"]})]}),f.jsx("div",{className:"flex-grow overflow-y-auto space-y-2 custom-scrollbar",children:x.length===0?f.jsx("div",{className:"text-center text-slate-500 text-sm py-8",children:"No clip presets saved. Create one from the active clip."}):x.map(X=>{var $;return f.jsxs("div",{className:"bg-[#0a0a0a] p-4 rounded-xl border border-white/5 flex items-center justify-between group",children:[f.jsxs("div",{className:"flex-grow",children:[f.jsx("div",{className:"text-sm font-black uppercase text-white mb-1",children:X.name}),f.jsxs("div",{className:"text-xs text-slate-500 font-mono",children:[Object.keys(X.clip.params||{}).length," params, ",(($=X.clip.lfos)==null?void 0:$.length)||0," LFOs"]})]}),f.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>d(X),className:"px-3 py-1.5 bg-[#ffdc5e] text-black rounded-lg text-xs font-black uppercase hover:bg-[#f59e0b] transition-all",children:"Load"}),f.jsx("button",{onClick:()=>K(X.id),className:"p-1.5 text-red-500 hover:text-red-400 transition-all",children:f.jsx(da,{size:16})})]})]},X.id)})})]}):f.jsxs("div",{className:"flex flex-col gap-4 h-full overflow-hidden",children:[f.jsxs("div",{className:"bg-[#0a0a0a] p-4 rounded-xl border border-white/5 flex gap-2 shrink-0",children:[f.jsx("input",{type:"text",value:I,onChange:X=>U(X.target.value),placeholder:"Preset name...",className:"flex-grow bg-[#1a1a1a] border border-white/5 p-2 rounded-lg text-sm text-white outline-none focus:border-[#ffdc5e]",onKeyDown:X=>X.key==="Enter"&&k()}),f.jsxs("button",{onClick:k,disabled:!I.trim(),className:"px-4 py-2 bg-[#ffdc5e] text-black rounded-lg text-xs font-black uppercase hover:bg-[#f59e0b] transition-all disabled:opacity-30 disabled:cursor-not-allowed flex items-center gap-2",children:[f.jsx(y0,{size:16}),"Save"]})]}),f.jsx("div",{className:"flex-grow overflow-y-auto space-y-2 custom-scrollbar",children:S.length===0?f.jsx("div",{className:"text-center text-slate-500 text-sm py-8",children:"No master FX presets saved. Create one from current master settings."}):S.map(X=>f.jsxs("div",{className:"bg-[#0a0a0a] p-4 rounded-xl border border-white/5 flex items-center justify-between group",children:[f.jsxs("div",{className:"flex-grow",children:[f.jsx("div",{className:"text-sm font-black uppercase text-white mb-1",children:X.name}),f.jsxs("div",{className:"text-xs text-slate-500 font-mono",children:["BPM: ",X.fx.bpm,", Bloom: ",X.fx.bloom.toFixed(2)]})]}),f.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>g(X),className:"px-3 py-1.5 bg-[#ffdc5e] text-black rounded-lg text-xs font-black uppercase hover:bg-[#f59e0b] transition-all",children:"Load"}),f.jsx("button",{onClick:()=>j(X.id),className:"p-1.5 text-red-500 hover:text-red-400 transition-all",children:f.jsx(da,{size:16})})]})]},X.id))})]})})]})}):null},LC=[{category:"Playback",items:[{key:"Space",desc:"Play/Pause"},{key:"R",desc:"Reset to start"}]},{category:"Timeline",items:[{key:"Cmd/Ctrl + C",desc:"Copy clip"},{key:"Cmd/Ctrl + V",desc:"Paste clip"},{key:"Cmd/Ctrl + X",desc:"Cut clip"},{key:"Cmd/Ctrl + M",desc:"Add marker"},{key:"Cmd/Ctrl + L",desc:"Toggle loop region"}]},{category:"Project",items:[{key:"Cmd/Ctrl + S",desc:"Save project"},{key:"Cmd/Ctrl + O",desc:"Load project"},{key:"Cmd/Ctrl + E",desc:"Export video/frame"}]},{category:"Edit",items:[{key:"Cmd/Ctrl + Z",desc:"Undo"},{key:"Cmd/Ctrl + Shift + Z",desc:"Redo"},{key:"Delete",desc:"Delete selected clip"}]},{category:"Navigation",items:[{key:"Escape",desc:"Close context menu"},{key:"Tab",desc:"Switch inspector tabs"}]},{category:"Master Effects",items:[{key:"1",desc:"Toggle Strobe"},{key:"2",desc:"Toggle Blackout"},{key:"3",desc:"Toggle Invert"},{key:"4",desc:"Toggle Freeze"},{key:"5",desc:"Toggle Edge Detection"},{key:"6",desc:"Toggle Scanlines"},{key:"7",desc:"Toggle Mirror Flip"},{key:"8",desc:"Toggle Chroma Burst"},{key:"9",desc:"Toggle Zoom Punch"}]}],zC=({isOpen:i,onClose:t})=>i?f.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[9999] flex items-center justify-center p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-[#1a1a1a] border border-white/10 rounded-2xl p-6 max-w-2xl w-full shadow-2xl animate-in zoom-in-95 duration-200 max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("h3",{className:"text-lg font-black uppercase text-[#ffdc5e] flex items-center gap-3",children:[f.jsx(b2,{size:20}),"Keyboard Shortcuts"]}),f.jsx("button",{onClick:t,className:"p-2 text-slate-500 hover:text-white transition-all",children:f.jsx(Bn,{size:20})})]}),f.jsx("div",{className:"space-y-6",children:LC.map((o,l)=>f.jsxs("div",{className:"space-y-3",children:[f.jsx("h4",{className:"text-xs font-black uppercase text-slate-400 tracking-wider",children:o.category}),f.jsx("div",{className:"space-y-2",children:o.items.map((r,d)=>f.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#0a0a0a] rounded-xl border border-white/5",children:[f.jsx("span",{className:"text-sm text-slate-300",children:r.desc}),f.jsx("kbd",{className:"px-3 py-1.5 bg-[#1a1a1a] border border-white/10 rounded-lg text-xs font-mono text-[#ffdc5e] font-black",children:r.key})]},d))})]},l))}),f.jsx("div",{className:"mt-6 pt-6 border-t border-white/5 text-center",children:f.jsxs("p",{className:"text-xs text-slate-500",children:["Press ",f.jsx("kbd",{className:"px-2 py-1 bg-[#0a0a0a] border border-white/10 rounded text-[#ffdc5e]",children:"?"})," to toggle this help"]})})]})}):null,PC=({isVisible:i,onToggle:t})=>{const[o,l]=F.useState(0),[r,d]=F.useState(0),[h,g]=F.useState(null),y=F.useRef(0),v=F.useRef(performance.now()),x=F.useRef([]);if(F.useEffect(()=>{if(!i)return;let E;const I=()=>{const U=performance.now(),M=U-v.current;v.current=U,x.current.push(M),x.current.length>60&&x.current.shift();const k=x.current.reduce((K,j)=>K+j,0)/x.current.length;if(d(k),l(Math.round(1e3/k)),"memory"in performance){const K=performance.memory;g({used:Math.round(K.usedJSHeapSize/1048576),total:Math.round(K.totalJSHeapSize/1048576)})}y.current++,E=requestAnimationFrame(I)};return E=requestAnimationFrame(I),()=>cancelAnimationFrame(E)},[i]),!i)return f.jsx("button",{onClick:t,className:"fixed bottom-4 right-4 p-3 bg-[#1a1a1a] border border-white/10 rounded-xl text-slate-400 hover:text-white transition-all hover:scale-105 z-50 shadow-lg",title:"Show Performance Monitor",children:f.jsx(Cn,{size:18})});const _=o>=55?"text-green-400":o>=30?"text-yellow-400":"text-red-400",S=r<20?"text-green-400":r<33?"text-yellow-400":"text-red-400";return f.jsxs("div",{className:"fixed bottom-4 right-4 bg-[#1a1a1a] border border-white/10 rounded-xl p-4 shadow-2xl z-50 min-w-[200px] animate-in slide-in-from-bottom-2 duration-200",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("h4",{className:"text-xs font-black uppercase text-[#ffdc5e] flex items-center gap-2",children:[f.jsx(Cn,{size:14}),"Performance"]}),f.jsx("button",{onClick:t,className:"p-1 text-slate-500 hover:text-white transition-all",children:f.jsx(Bn,{size:14})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-xs text-slate-400",children:"FPS"}),f.jsx("span",{className:`text-sm font-mono font-black ${_}`,children:o})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-xs text-slate-400",children:"Frame Time"}),f.jsxs("span",{className:`text-sm font-mono font-black ${S}`,children:[r.toFixed(1),"ms"]})]}),h&&f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-xs text-slate-400",children:"Memory"}),f.jsxs("span",{className:"text-sm font-mono font-black text-slate-300",children:[h.used,"MB / ",h.total,"MB"]})]}),f.jsx("div",{className:"pt-2 border-t border-white/5",children:f.jsx("div",{className:"h-1 bg-[#0a0a0a] rounded-full overflow-hidden",children:f.jsx("div",{className:`h-full transition-all ${o>=55?"bg-green-500":o>=30?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(100,o/60*100)}%`}})})})]})]})},GC=({devices:i,isConnected:t,activeDevice:o,learnedMappings:l,learnMode:r,bpm:d,onConnect:h,onDisconnect:g,onStartLearn:y,onCancelLearn:v,onRemoveMapping:x,onUpdateMapping:_})=>{const S=[{id:"masterBPM",label:"Master BPM",type:"cc"},{id:"masterBloom",label:"Master Bloom",type:"cc"},{id:"masterFeedback",label:"Master Feedback",type:"cc"},{id:"playPause",label:"Play/Pause",type:"note"},{id:"reset",label:"Reset",type:"note"}];return f.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[f.jsxs("div",{className:"bg-[#232323] p-5 rounded-2xl border border-white/5 space-y-4 shadow-xl",children:[f.jsxs("h3",{className:"text-[10px] font-black uppercase text-slate-500 flex items-center gap-2",children:[f.jsx(Gs,{size:14}),"MIDI Connection"]}),t?f.jsx("div",{className:"space-y-3",children:f.jsxs("div",{className:"p-4 bg-[#0a0a0a] border border-[#ffdc5e]/30 rounded-xl",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("div",{className:"text-sm font-black uppercase text-[#ffdc5e]",children:o==null?void 0:o.name}),f.jsx("button",{onClick:g,className:"p-1.5 text-slate-500 hover:text-red-500 transition-colors",children:f.jsx(Bn,{size:16})})]}),d&&f.jsxs("div",{className:"text-xs text-slate-400 font-mono",children:["MIDI Clock: ",d," BPM"]})]})}):f.jsx("div",{className:"space-y-3",children:i.length===0?f.jsxs("div",{className:"text-center py-8 text-slate-500 text-sm",children:[f.jsx(Gs,{size:32,className:"mx-auto mb-3 opacity-30"}),f.jsx("p",{children:"No MIDI devices found"}),f.jsx("p",{className:"text-xs mt-2",children:"Connect a MIDI device and refresh"})]}):f.jsx("div",{className:"space-y-2",children:i.map(E=>f.jsx("button",{onClick:()=>h(E.id),className:"w-full p-4 bg-[#0a0a0a] border border-white/5 rounded-xl hover:border-[#ffdc5e]/40 transition-all text-left group",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-black uppercase text-white",children:E.name}),E.manufacturer&&f.jsx("div",{className:"text-xs text-slate-500 mt-1",children:E.manufacturer})]}),f.jsx(Gs,{size:18,className:"text-slate-500 group-hover:text-[#ffdc5e] transition-colors"})]})},E.id))})})]}),t&&f.jsxs("div",{className:"bg-[#232323] p-5 rounded-2xl border border-white/5 space-y-4 shadow-xl",children:[f.jsxs("h3",{className:"text-[10px] font-black uppercase text-slate-500 flex items-center gap-2",children:[f.jsx(J2,{size:14}),"MIDI Learn"]}),r&&f.jsx("div",{className:"p-4 bg-[#ffdc5e]/10 border-2 border-[#ffdc5e] rounded-xl animate-pulse",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-black uppercase text-[#ffdc5e]",children:"Learning..."}),f.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:[r.type==="cc"?"Move a control":"Press a key"," on your MIDI device"]})]}),f.jsx("button",{onClick:v,className:"p-2 text-slate-500 hover:text-white transition-colors",children:f.jsx(Bn,{size:16})})]})}),f.jsx("div",{className:"space-y-2",children:S.map(E=>{const I=l.find(M=>M.parameter===E.id),U=(r==null?void 0:r.parameter)===E.id;return f.jsxs("div",{className:"p-3 bg-[#0a0a0a] border border-white/5 rounded-xl",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-xs font-black uppercase text-slate-300",children:E.label}),I?f.jsx("button",{onClick:()=>x(E.id),className:"p-1 text-slate-500 hover:text-red-500 transition-colors",title:"Remove mapping",children:f.jsx(da,{size:12})}):f.jsx("button",{onClick:()=>y(E.id,E.type),disabled:!!r,className:"px-3 py-1 bg-[#ffdc5e]/10 border border-[#ffdc5e]/30 text-[#ffdc5e] rounded text-[9px] font-black uppercase hover:bg-[#ffdc5e]/20 transition-all disabled:opacity-30 disabled:cursor-not-allowed",children:U?"Learning...":"Learn"})]}),I&&f.jsx("div",{className:"text-[9px] font-mono text-slate-500",children:I.type==="cc"?`CC ${I.controller} (Ch ${(I.channel||0)+1})`:`Note ${I.note} (Ch ${(I.channel||0)+1})`})]},E.id)})}),l.length>0&&f.jsxs("div",{className:"pt-4 border-t border-white/5",children:[f.jsxs("div",{className:"text-[9px] font-black uppercase text-slate-500 mb-2",children:["Active Mappings (",l.length,")"]}),f.jsx("div",{className:"space-y-1",children:l.map(E=>f.jsxs("div",{className:"text-[8px] font-mono text-slate-600 bg-[#0a0a0a] px-2 py-1 rounded",children:[E.parameter,": ",E.type==="cc"?`CC${E.controller}`:`Note${E.note}`]},E.parameter))})]})]})]})},HC=({type:i,time:t,width:o,height:l})=>{const r=F.useRef(null),d=F.useRef(null);return F.useEffect(()=>{const h=r.current;if(!h||i==="none"){d.current&&(cancelAnimationFrame(d.current),d.current=null);return}const g=h.getContext("2d",{alpha:!0});if(!g)return;const y=()=>{if(!h||!g)return;const x=h.parentElement;let _=o||1920,S=l||1080;if(x){const E=x.getBoundingClientRect();E.width>0&&E.height>0&&(_=E.width,S=E.height)}if((h.width!==_||h.height!==S)&&(h.width=_,h.height=S),!(_===0||S===0))switch(g.clearRect(0,0,_,S),i){case"gradient":{const E=g.createLinearGradient(0,0,_,S),I=t*50%360;E.addColorStop(0,`hsl(${I}, 70%, 40%)`),E.addColorStop(1,`hsl(${(I+60)%360}, 70%, 30%)`),g.fillStyle=E,g.fillRect(0,0,_,S);break}case"noise":{const E=g.createImageData(_,S),I=E.data;for(let U=0;U<I.length;U+=4){const M=Math.random()*.2;I[U]=M*255,I[U+1]=M*255,I[U+2]=M*255,I[U+3]=255}g.putImageData(E,0,0);break}case"grid":{g.fillStyle="rgba(0, 0, 0, 0.5)",g.fillRect(0,0,_,S),g.strokeStyle="rgba(255, 255, 255, 0.2)",g.lineWidth=1;const E=50,I=t*10%E,U=t*10%E;for(let M=-I;M<_;M+=E)g.beginPath(),g.moveTo(M,0),g.lineTo(M,S),g.stroke();for(let M=-U;M<S;M+=E)g.beginPath(),g.moveTo(0,M),g.lineTo(_,M),g.stroke();break}case"particles":{g.fillStyle="rgba(0, 0, 0, 0.5)",g.fillRect(0,0,_,S),g.fillStyle="rgba(255, 220, 94, 0.7)";const E=50;for(let I=0;I<E;I++){const U=(_*.5+Math.sin(t+I)*_*.3+(t*20+I*10)%_)%_,M=(S*.5+Math.cos(t*.7+I)*S*.3+(t*15+I*7)%S)%S;g.beginPath(),g.arc(U,M,3+Math.sin(t+I)*2,0,Math.PI*2),g.fill()}break}case"waves":{g.fillStyle="rgba(0, 0, 0, 0.5)",g.fillRect(0,0,_,S),g.strokeStyle="rgba(255, 220, 94, 0.5)",g.lineWidth=2;for(let E=0;E<5;E++){g.beginPath();const I=30+E*10,U=.01+E*.005;for(let M=0;M<_;M+=2){const k=S/2+Math.sin(M*U+t*2+E)*I;M===0?g.moveTo(M,k):g.lineTo(M,k)}g.stroke()}break}case"ken-burns-1":{const E=1+t%10*.02,I=t%10*_*.05,U=t%10*S*.03;g.save(),g.translate(_/2,S/2),g.scale(E,E),g.translate(-_/2+I,-S/2+U);const M=g.createRadialGradient(_/2,S/2,0,_/2,S/2,_);M.addColorStop(0,`hsl(${t*20%360}, 70%, 30%)`),M.addColorStop(1,`hsl(${(t*20+60)%360}, 70%, 15%)`),g.fillStyle=M,g.fillRect(-_,-S,_*3,S*3),g.fillStyle=`rgba(255, 220, 94, ${.2+Math.sin(t)*.1})`,g.beginPath(),g.arc(_*.3,S*.3,100+Math.sin(t)*20,0,Math.PI*2),g.fill(),g.restore();break}case"ken-burns-2":{const E=1.2+Math.sin(t*.5)*.1,I=Math.sin(t*.3)*_*.2,U=Math.cos(t*.3)*S*.2;g.save(),g.translate(_/2,S/2),g.scale(E,E),g.rotate(t*.1),g.translate(-_/2+I,-S/2+U);const M=g.createLinearGradient(0,0,_,S);M.addColorStop(0,`hsl(${t*30%360}, 60%, 25%)`),M.addColorStop(.5,`hsl(${(t*30+120)%360}, 60%, 15%)`),M.addColorStop(1,`hsl(${(t*30+240)%360}, 60%, 25%)`),g.fillStyle=M,g.fillRect(-_,-S,_*3,S*3),g.strokeStyle=`rgba(255, 220, 94, ${.3+Math.sin(t*2)*.1})`,g.lineWidth=3;for(let k=0;k<6;k++){g.beginPath();const K=Math.PI*2/6*k+t,j=_/2+Math.cos(K)*150,z=S/2+Math.sin(K)*150;g.moveTo(_/2,S/2),g.lineTo(j,z),g.stroke()}g.restore();break}case"ken-burns-3":{const E=1+t%8*.03,I=Math.cos(t*.4)*_*.15,U=Math.sin(t*.4)*S*.15;g.save(),g.translate(_/2,S/2),g.scale(E,E),g.translate(-_/2+I,-S/2+U);const M=t*15%360,k=g.createRadialGradient(_*.7,S*.3,0,_*.7,S*.3,_*1.5);k.addColorStop(0,`hsla(${M}, 80%, 35%, 0.9)`),k.addColorStop(1,`hsla(${(M+180)%360}, 80%, 15%, 0.9)`),g.fillStyle=k,g.fillRect(-_,-S,_*3,S*3),g.fillStyle="rgba(255, 220, 94, 0.6)";for(let K=0;K<30;K++){const j=Math.PI*2/30*K+t,z=80+Math.sin(t*2+K)*30,ie=_*.7+Math.cos(j)*z,X=S*.3+Math.sin(j)*z;g.beginPath(),g.arc(ie,X,3+Math.sin(t+K)*2,0,Math.PI*2),g.fill()}g.restore();break}}};y();const v=()=>{y(),d.current=requestAnimationFrame(v)};return d.current=requestAnimationFrame(v),()=>{d.current&&(cancelAnimationFrame(d.current),d.current=null)}},[i,t,o,l]),i==="none"?null:f.jsx("div",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{zIndex:0,top:0,left:0,right:0,bottom:0},children:f.jsx("canvas",{ref:r,className:"absolute inset-0 w-full h-full",style:{display:"block",position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"}})})},qC=(i,t,o,l,r,d,h,g)=>{const[y,v]=F.useState({sub:0,bass:0,lowMid:0,mid:0,highMid:0,treble:0,presence:0,vol:0,kick:0,snare:0}),[x,_]=F.useState([]),[S,E]=F.useState("No Track Loaded"),[I,U]=F.useState(null),M=F.useRef(null),k=F.useRef(null),K=F.useRef(null),j=F.useRef(!1),z=F.useRef(!1),ie=F.useRef(null);F.useRef(null),F.useRef(null),F.useRef(null),F.useRef(null),F.useRef(null),F.useRef(null),F.useRef(null),F.useRef(null);const X=F.useRef([]),$=F.useRef(0),ye=async()=>{if(!(!k.current||!o))try{k.current.currentTime=0,await k.current.play(),await new Promise(W=>setTimeout(W,100)),k.current.pause(),k.current.currentTime=0}catch{}};F.useEffect(()=>{k.current&&o&&(k.current.volume=l,i?(k.current.currentTime!==r&&(k.current.currentTime=r),ye().then(()=>{k.current&&i&&(k.current.currentTime=r,k.current.play().catch(()=>{}))})):k.current&&(k.current.pause(),k.current.currentTime=r))},[i,o,l]);const le=async()=>{M.current||(M.current=new(window.AudioContext||window.webkitAudioContext));const W=M.current;W.state==="suspended"&&await W.resume(),K.current||(K.current=W.createAnalyser(),K.current.fftSize=1024,K.current.smoothingTimeConstant=.5);const ne=new Uint8Array(K.current.frequencyBinCount);if(k.current&&o&&!j.current)try{W.createMediaElementSource(k.current).connect(K.current),K.current.connect(W.destination),j.current=!0}catch{}else if(!j.current)try{const Z=await navigator.mediaDevices.getUserMedia({audio:!0});W.createMediaStreamSource(Z).connect(K.current),j.current=!0}catch{}const re=(Z,pe)=>{let me=0;for(let A=Z;A<pe;A++)me+=ne[A];return me/((pe-Z)*255)};let Ae=0,Ye=0;const q=()=>{if(!K.current||!z.current){ie.current=null;return}K.current.getByteFrequencyData(ne);const Z={sub:re(0,3),bass:re(3,12),lowMid:re(12,30),mid:re(30,80),highMid:re(80,150),treble:re(150,250),presence:re(250,512),vol:0,kick:0,snare:0};Z.vol=(Z.bass+Z.mid+Z.treble)/3,Z.kick=Math.max(0,Z.bass-Ae)*5,Z.snare=Math.max(0,Z.mid-Ye)*5;const pe=performance.now();if(Z.kick>.3&&pe-$.current>200&&(X.current.push(pe),$.current=pe,X.current.length>10&&X.current.shift(),X.current.length>=4)){const me=[];for(let ee=1;ee<X.current.length;ee++)me.push(X.current[ee]-X.current[ee-1]);me.sort((ee,ae)=>ee-ae);const A=me[Math.floor(me.length/2)],B=Math.round(6e4/A);B>=60&&B<=200&&(U(B),g&&g(B))}Ae=Z.bass,Ye=Z.mid,v(me=>{const A={...me};return Object.keys(Z).forEach(B=>{const ee=Z[B],ae=me[B],fe=ee>ae?.35:.12;A[B]=ae+(ee-ae)*fe}),A}),ie.current=requestAnimationFrame(q)},te=i||t.some(Z=>Z.audioReactive>0);te&&!z.current?(z.current=!0,ie.current=requestAnimationFrame(q)):!te&&z.current&&(z.current=!1,ie.current!==null&&(cancelAnimationFrame(ie.current),ie.current=null))};return F.useEffect(()=>(!(i||t.some(ne=>ne.audioReactive>0))&&z.current&&(z.current=!1,ie.current!==null&&(cancelAnimationFrame(ie.current),ie.current=null)),()=>{ie.current!==null&&cancelAnimationFrame(ie.current)}),[i,t]),{analysis:y,waveformPeaks:x,audioFileName:S,detectedBPM:I,audioRef:k,analyzerRef:K,initAudio:le,handleAudioUpload:W=>{var Ye;const ne=(Ye=W.target.files)==null?void 0:Ye[0];if(!ne)return null;E(ne.name);const re=URL.createObjectURL(ne);k.current&&(k.current.src=re),j.current=!1;const Ae=new FileReader;return Ae.onload=async q=>{var B;M.current||(M.current=new(window.AudioContext||window.webkitAudioContext));const te=await M.current.decodeAudioData((B=q.target)==null?void 0:B.result);h&&h(te.duration);const Z=te.getChannelData(0),pe=1e3,me=Math.floor(Z.length/pe),A=[];for(let ee=0;ee<pe;ee++){let ae=0;for(let fe=0;fe<me;fe++)ae+=Math.abs(Z[ee*me+fe]);A.push(ae/me)}_(A.map(ee=>ee/Math.max(...A)))},Ae.readAsArrayBuffer(ne),re},setAudioFileName:E}},VC=(i,t)=>{const o=F.useRef([]),l=F.useRef(-1),r=F.useRef(!1),d=50,h=v=>{l.current<o.current.length-1&&(o.current=o.current.slice(0,l.current+1)),o.current.push(JSON.parse(JSON.stringify(v))),o.current.length>d?o.current.shift():l.current++},g=()=>{l.current>0&&(r.current=!0,l.current--,t(JSON.parse(JSON.stringify(o.current[l.current]))))},y=()=>{l.current<o.current.length-1&&(r.current=!0,l.current++,t(JSON.parse(JSON.stringify(o.current[l.current]))))};return F.useEffect(()=>{o.current.length===0&&i.length===0&&h([])},[]),F.useEffect(()=>{if(r.current){r.current=!1;return}const v=setTimeout(()=>{const x=JSON.stringify(i),_=o.current.length>0&&l.current>=0?JSON.stringify(o.current[l.current]):null;x!==_&&h(i)},500);return()=>clearTimeout(v)},[i]),{undo:g,redo:y,canUndo:l.current>0,canRedo:l.current<o.current.length-1}},BC=()=>{const[i,t]=F.useState([]),[o,l]=F.useState(!1),[r,d]=F.useState(null),[h,g]=F.useState([]),[y,v]=F.useState(null),[x,_]=F.useState([]),[S,E]=F.useState(null),I=F.useRef(null),U=F.useRef(null),M=F.useRef([]),k=F.useRef(0),K=F.useRef(new Map);F.useEffect(()=>{(async()=>{if(!navigator.requestMIDIAccess){console.warn("Web MIDI API not supported");return}try{const W=await navigator.requestMIDIAccess({sysex:!1});I.current=W;const ne=[];W.inputs.forEach(re=>{ne.push({id:re.id,name:re.name,manufacturer:re.manufacturer||void 0})}),t(ne),W.onstatechange=()=>{const re=[];W.inputs.forEach(Ae=>{re.push({id:Ae.id,name:Ae.name,manufacturer:Ae.manufacturer||void 0})}),t(re)}}catch(W){console.error("Failed to access MIDI:",W)}})()},[]);const j=ge=>{if(!I.current)return;const W=I.current.inputs.get(ge);W&&(U.current&&(U.current.onmidimessage=null),U.current=W,d({id:W.id,name:W.name,manufacturer:W.manufacturer||void 0}),l(!0),W.onmidimessage=ne=>{const[re,Ae,Ye]=ne.data,q=re&240,te=re&15,Z=ne.timeStamp;let pe=null;if(q===144&&Ye>0)pe={type:"noteon",channel:te,note:Ae,velocity:Ye,timestamp:Z};else if(q===128||q===144&&Ye===0)pe={type:"noteoff",channel:te,note:Ae,velocity:Ye||0,timestamp:Z};else if(q===176)pe={type:"cc",channel:te,controller:Ae,value:Ye,timestamp:Z};else if(re===248){pe={type:"clock",channel:0,timestamp:Z};const me=performance.now();if(k.current>0){const A=me-k.current;if(M.current.push(A),M.current.length>24&&M.current.shift(),M.current.length>=12){const B=M.current.reduce((ae,fe)=>ae+fe,0)/M.current.length,ee=Math.round(6e4/(B*24));ee>=60&&ee<=200&&E(ee)}}k.current=me}else re===250?(pe={type:"start",channel:0,timestamp:Z},M.current=[],k.current=performance.now()):re===252&&(pe={type:"stop",channel:0,timestamp:Z});if(pe)if(g(me=>[...me.slice(-99),pe]),y){if(pe.type===y.type){const me={parameter:y.parameter,type:y.type,controller:pe.controller,note:pe.note,channel:pe.channel,min:0,max:127,inverted:!1};_(A=>[...A.filter(B=>B.parameter!==y.parameter),me]),v(null)}}else x.forEach(me=>{let A=!1,B=0;if(me.type==="cc"&&pe.type==="cc"&&pe.controller===me.controller?(A=!0,B=pe.value/127):me.type==="note"&&pe.type==="noteon"&&pe.note===me.note&&(A=!0,B=pe.velocity/127),A){me.inverted&&(B=1-B);const ee=me.min+(me.max-me.min)*B,ae=K.current.get(me.parameter);ae&&ae(ee)}})})},z=()=>{U.current&&(U.current.onmidimessage=null,U.current=null),d(null),l(!1),E(null)},ie=(ge,W)=>{v({parameter:ge,type:W})},X=()=>{v(null)},$=ge=>{_(W=>W.filter(ne=>ne.parameter!==ge))},ye=(ge,W)=>{_(ne=>ne.map(re=>re.parameter===ge?{...re,...W}:re))},le=(ge,W)=>(K.current.set(ge,W),()=>{K.current.delete(ge)});return{devices:i,isConnected:o,activeDevice:r,messages:h.slice(-10),learnMode:y,learnedMappings:x,bpm:S,connectDevice:j,disconnectDevice:z,startLearn:ie,cancelLearn:X,removeMapping:$,updateMapping:ye,registerCallback:le}},FC=({onExit:i})=>{var Sa;const[t,o]=F.useState(()=>JSON.parse(localStorage.getItem("ep_shaders_v32_11")||JSON.stringify(mC))),[l,r]=F.useState({}),[d,h]=F.useState("all"),[g,y]=F.useState([]),[v,x]=F.useState(0),[_,S]=F.useState(120),[E,I]=F.useState(25),[U,M]=F.useState(!1),[k,K]=F.useState(null),[j,z]=F.useState("params"),[ie,X]=F.useState(320),[$,ye]=F.useState("none"),[le,ge]=F.useState(!1),[W,ne]=F.useState({bloom:.2,feedback:0,smoothing:.15,bpm:128,energyBuild:0,strobe:!1,blackout:!1,glitchHit:!1,invert:!1,zoomPunch:!1,chromaBurst:!1,feedbackDrive:!1,mirrorFlip:!1,vignette:0,chromaticAberration:0,masterVolume:1,audioSmoothing:.2,freeze:!1,pixelate:0,edgeDetection:!1,colorShift:0,noise:0,blur:0,sharpen:0,posterize:0,scanlines:!1,rgbShift:0,kaleidoscope:0,fisheye:0,twirl:0,reverb:0,delay:0,delayFeedback:.3,delayTime:.25,distortion:0,lowpass:2e4,highpass:0,compressor:0,backgroundType:"none"}),[re,Ae]=F.useState(""),[Ye,q]=F.useState(!1),[te,Z]=F.useState(!1),[pe,me]=F.useState(!0),[A,B]=F.useState(Array(8).fill(!1)),[ee,ae]=F.useState(Array(8).fill(!1)),[fe,se]=F.useState(null),[oe,$e]=F.useState(null),[ze,on]=F.useState("intensity"),[gt,dt]=F.useState(null),[st,Ie]=F.useState([]),[Bt,Oi]=F.useState(null),[Fn,fi]=F.useState([]),[be,Dt]=F.useState(null),[tt,xo]=F.useState(4),[ji,Ft]=F.useState(!0),[Jc,nr]=F.useState({}),{undo:_o,redo:pi,canUndo:ir,canRedo:hl}=VC(g,y),{devices:or,isConnected:ar,activeDevice:Ji,learnedMappings:Ot,learnMode:Pn,bpm:St,connectDevice:lr,disconnectDevice:sr,startLearn:rr,cancelLearn:bo,removeMapping:So,updateMapping:To,registerCallback:Xt}=BC(),{analysis:On,waveformPeaks:hi,audioFileName:ur,detectedBPM:Yi,audioRef:de,analyzerRef:wn,initAudio:mi,handleAudioUpload:ml}=qC(U,g,fe,W.masterVolume,v,{reverb:W.reverb,delay:W.delay,delayFeedback:W.delayFeedback,delayTime:W.delayTime,distortion:W.distortion,lowpass:W.lowpass,highpass:W.highpass,compressor:W.compressor},S,T=>{St||ne(N=>({...N,bpm:T}))});F.useEffect(()=>{St&&ne(T=>({...T,bpm:St}))},[St]),F.useEffect(()=>{const T=Xt("masterBPM",_e=>{ne(De=>({...De,bpm:Math.round(_e)}))}),N=Xt("masterBloom",_e=>{ne(De=>({...De,bloom:_e}))}),R=Xt("masterFeedback",_e=>{ne(De=>({...De,feedback:_e}))}),Y=Xt("playPause",()=>{M(_e=>!_e)}),ce=Xt("reset",()=>{x(0),de.current&&(de.current.currentTime=0),M(!1)});return()=>{T(),N(),R(),Y(),ce()}},[Xt,M,x,de]);const Ee=F.useMemo(()=>g.find(T=>T.id===k),[g,k]),ga=F.useRef(null),Ki=F.useRef(null);F.useEffect(()=>{localStorage.setItem("ep_shaders_v32_11",JSON.stringify(t))},[t]);const va=T=>{const N=ml(T);N&&se(N)},gl=()=>1/((W.bpm||120)/60)/(tt/4),Mn=T=>{if(!pe)return T;if(tt>0){const R=gl();return Math.round(T/R)*R}const N=.25;return Math.round(T/N)*N},Tt=(T,N,R)=>{if(T.button!==0&&R!=="timeline-resize")return;if(T.stopPropagation(),R!=null&&R.startsWith("loop-")&&be){R==="loop-start"?$e({id:null,type:R,startX:T.clientX,startY:T.clientY,initialStart:be.start,initialDuration:0,initialTrack:0,initialHeight:ie,initialFadeIn:0,initialFadeOut:0}):R==="loop-end"?$e({id:null,type:R,startX:T.clientX,startY:T.clientY,initialStart:be.end,initialDuration:0,initialTrack:0,initialHeight:ie,initialFadeIn:0,initialFadeOut:0}):R==="loop-move"&&$e({id:null,type:R,startX:T.clientX,startY:T.clientY,initialStart:be.start,initialDuration:be.end-be.start,initialTrack:0,initialHeight:ie,initialFadeIn:0,initialFadeOut:0});return}N&&K(N);const Y=g.find(ce=>ce.id===N);$e({id:N,type:R,startX:T.clientX,startY:T.clientY,initialStart:N?Y.startTime:v,initialDuration:N?Y.duration:_,initialTrack:N?Y.track:0,initialHeight:ie,initialFadeIn:N?Y.fadeIn:0,initialFadeOut:N?Y.fadeOut:0})},Et=(T,N)=>{T.preventDefault(),dt({x:T.clientX,y:T.clientY,clipId:N})},Gt=T=>{const N=g.find(Y=>Y.id===T);if(!N)return;const R={...JSON.parse(JSON.stringify(N)),id:`c-${Date.now()}`,startTime:N.startTime+N.duration};y(Y=>[...Y,R]),K(R.id),dt(null)},gn=T=>{const N=g.filter(R=>T.includes(R.id));N.length>0&&(Ie(JSON.parse(JSON.stringify(N))),navigator.clipboard.writeText(JSON.stringify(N)).catch(()=>{}))},Xi=T=>{var ce;if(st.length===0)return;const R=(T!==void 0?T:v)-(((ce=st[0])==null?void 0:ce.startTime)||0),Y=st.map((_e,De)=>({...JSON.parse(JSON.stringify(_e)),id:`c-${Date.now()}-${De}`,startTime:Mn(_e.startTime+R)}));y(_e=>[..._e,...Y]),Y.length>0&&K(Y[0].id)},vl=T=>{const N=v,R={id:`m-${Date.now()}`,time:Mn(N),label:`Marker ${Fn.length+1}`};fi(Y=>[...Y,R].sort((ce,_e)=>ce.time-_e.time))},cr=T=>{fi(N=>N.filter(R=>R.id!==T))},yl=T=>{x(T),de.current&&(de.current.currentTime=T)},$i=T=>{const N=T.currentTarget.getBoundingClientRect(),Y=(T.clientX-N.left)/N.width*_;x(Y),de.current&&(de.current.currentTime=Y)};F.useEffect(()=>{const T=R=>{if(!oe)return;if(oe.type==="timeline-resize"){X(Math.max(160,Math.min(window.innerHeight*.8,oe.initialHeight+(oe.startY-R.clientY))));return}if(!ga.current)return;const Y=(R.clientX-oe.startX)/E;if(oe.type==="loop-start"&&be){const ce=Mn(Math.max(0,Math.min(be.end-.1,oe.initialStart+Y)));Dt({...be,start:ce});return}if(oe.type==="loop-end"&&be){const ce=Mn(Math.max(be.start+.1,Math.min(_,oe.initialStart+Y)));Dt({...be,end:ce});return}if(oe.type==="loop-move"&&be){const ce=be.end-be.start,_e=Mn(Math.max(0,Math.min(_-ce,oe.initialStart+Y)));Dt({start:_e,end:_e+ce});return}if(oe.type==="scrub"){const ce=Math.max(0,Math.min(_,oe.initialStart+Y));x(ce),de.current&&U&&(de.current.currentTime=ce);return}y(ce=>ce.map(_e=>{if(_e.id!==oe.id)return _e;if(oe.type==="move")return{..._e,startTime:Mn(Math.max(0,Math.min(_-_e.duration,oe.initialStart+Y))),track:Math.max(0,Math.min(7,oe.initialTrack+Math.round((R.clientY-oe.startY)/(ie/9))))};if(oe.type==="resize-end")return{..._e,duration:Mn(Math.max(.1,oe.initialDuration+Y))};if(oe.type==="resize-start"){const De=Mn(Math.max(0,oe.initialStart+Y));return{..._e,startTime:De,duration:Math.max(.1,oe.initialDuration-(De-oe.initialStart))}}if(oe.type==="fade-in")return{..._e,fadeIn:Math.max(0,Math.min(_e.duration-_e.fadeOut,oe.initialFadeIn+Y))};if(oe.type==="fade-out")return{..._e,fadeOut:Math.max(0,Math.min(_e.duration-_e.fadeIn,oe.initialFadeOut-Y))};if(oe.type==="automation-point"&&oe.automationParam&&oe.automationTime!==void 0&&oe.automationValue!==void 0){const De=g.find(at=>at.id===oe.id);if(!De)return _e;const ke=oe.automationParam,Ct=[...De.automation[ke]||[]],ot=Ct.findIndex(at=>at.t===oe.automationTime);if(ot>=0){const at=Math.max(0,Math.min(1,oe.automationTime+Y/De.duration)),rn=gC(ke),Nt=(oe.startY-R.clientY)/(ie*.08),jt=Math.max(rn.min,Math.min(rn.max,oe.automationValue+Nt*(rn.max-rn.min))),we=[...Ct];return we[ot]={...we[ot],t:at,v:jt},{..._e,automation:{..._e.automation,[ke]:we}}}}return _e}))},N=()=>$e(null);return window.addEventListener("mousemove",T),window.addEventListener("mouseup",N),()=>{window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",N)}},[oe,pe,_,E,ie,U,be]),F.useEffect(()=>{if(!U){de.current&&!de.current.paused&&de.current.pause();return}let T,N=performance.now();const R=Y=>{if(!U){de.current&&de.current.pause();return}const ce=(Y-N)/1e3;N=Y,x(_e=>{let De;if(de.current&&fe&&!de.current.paused&&de.current.readyState>=2?De=de.current.currentTime:De=_e+ce,be&&De>=be.end){const ke=be.start;return de.current&&fe&&(de.current.currentTime=ke),ke}if(De>=_)if(be){const ke=be.start;return de.current&&fe&&(de.current.currentTime=ke),ke}else return M(!1),de.current&&de.current.pause(),0;return De}),T=requestAnimationFrame(R)};return T=requestAnimationFrame(R),()=>{cancelAnimationFrame(T),de.current&&!U&&de.current.pause()}},[U,_,be,fe]);const[Qi,gi]=F.useState("linear"),[vi,yi]=F.useState(!1),[jn,rt]=F.useState(!1),[ya,xl]=F.useState(!1),ft=T=>{if(!Ee)return;const N=(v-Ee.startTime)/Ee.duration;if(N<0||N>1)return;const R=Ee.params[T]??Ee[T]??1;y(Y=>Y.map(ce=>{if(ce.id!==k)return ce;const _e=[...ce.automation[T]||[]],De=_e.findIndex(ke=>Math.abs(ke.t-N)<.005);return De!==-1?_e[De]={t:N,v:typeof R=="number"?R:1,curve:Qi}:_e.push({t:N,v:typeof R=="number"?R:1,curve:Qi}),{...ce,automation:{...ce.automation,[T]:_e.sort((ke,Ct)=>ke.t-Ct.t)}}}))},xi=(T,N)=>y(R=>R.map(Y=>Y.id===k?{...Y,automation:{...Y.automation,[T]:(Y.automation[T]||[]).filter(ce=>ce.t!==N)}}:Y)),xa=T=>{if(!Ee)return;const N=Ee.automation[T]||[];N.length>0&&Oi({param:T,points:JSON.parse(JSON.stringify(N))})},_a=T=>{if(!Bt||!Ee)return;const N=T||Bt.param;y(R=>R.map(Y=>Y.id===k?{...Y,automation:{...Y.automation,[N]:JSON.parse(JSON.stringify(Bt.points))}}:Y))},_l=()=>Ee&&y(T=>T.map(N=>N.id===k?{...N,lfos:[...N.lfos,{id:`lfo-${Date.now()}`,target:"intensity",type:"sine",freq:1,amp:.5,phase:0,offset:0,sync:!0}]}:N)),bl=F.useMemo(()=>{const T=[],N=E>100?.5:E>40?1:5;for(let R=0;R<=_;R+=N)T.push(R);return T},[_,E]),Eo=(T,N)=>{l[T]!==N&&r(R=>({...R,[T]:N}))},Co=()=>{const T=["none","terminal","matrix","blueprint","radar","glitch","hacker","topology","circuit","stars"],N=T.indexOf($);ye(T[(N+1)%T.length])},an=()=>{const T={clips:g,shaders:t,masterFX:W,totalDuration:_,markers:Fn,version:"1.1"},N=new Blob([JSON.stringify(T,null,2)],{type:"application/json"}),R=URL.createObjectURL(N),Y=document.createElement("a");Y.href=R,Y.download=`elastic-pulse-project-${Date.now()}.json`,Y.click(),URL.revokeObjectURL(R)},Ht=()=>{const T=document.createElement("input");T.type="file",T.accept="application/json",T.onchange=N=>{var ce;const R=(ce=N.target.files)==null?void 0:ce[0];if(!R)return;const Y=new FileReader;Y.onload=_e=>{var De;try{const ke=JSON.parse((De=_e.target)==null?void 0:De.result);ke.clips&&y(ke.clips),ke.shaders&&o(ke.shaders),ke.masterFX&&ne(ke.masterFX),ke.totalDuration&&S(ke.totalDuration),ke.markers&&fi(ke.markers)}catch(ke){console.error("Failed to load project:",ke)}},Y.readAsText(R)},T.click()},[Zi,ln]=F.useState(!1),[ba,sn]=F.useState(0),[No,Ao]=F.useState(void 0),[$t,wo]=F.useState(void 0),[Sl,Wi]=F.useState(!1),Rn=async T=>{if(!Ki.current||Zi)return;const N=Ki.current;if(!T){Wi(!0);return}let R=1920,Y=1080;T.resolution&&(typeof T.resolution.width=="number"&&T.resolution.width>0&&(R=T.resolution.width),typeof T.resolution.height=="number"&&T.resolution.height>0&&(Y=T.resolution.height));const ce={format:T.format||"mp4",preset:T.preset||"high",fps:typeof T.fps=="number"&&T.fps>0?T.fps:30,quality:typeof T.quality=="number"&&T.quality>0?T.quality:.9,resolution:{width:R,height:Y},bitrate:typeof T.bitrate=="number"&&T.bitrate>0?T.bitrate:8e6};if(console.log("Export settings received:",T),console.log("Export settings processed:",ce),Wi(!1),ce.format==="frame"){ln(!0),sn(50);try{await new Promise(at=>setTimeout(at,100)),N.toBlob(at=>{if(at){const rn=URL.createObjectURL(at),Nt=document.createElement("a");Nt.href=rn,Nt.download=`elastic-pulse-frame-${Date.now()}.png`,document.body.appendChild(Nt),Nt.click(),document.body.removeChild(Nt),URL.revokeObjectURL(rn),sn(100),setTimeout(()=>{ln(!1),sn(0)},500)}else throw new Error("Failed to create blob")},"image/png",1)}catch(at){console.error("Frame export failed:",at),alert("Frame export failed. Please try again."),ln(!1),sn(0)}return}ln(!0);const De=U,ke=v,Ct=N.width||N.clientWidth||1920,ot=N.height||N.clientHeight||1080;try{M(!1),de.current&&de.current.pause(),await new Promise(we=>requestAnimationFrame(we)),await new Promise(we=>requestAnimationFrame(we)),await new Promise(we=>setTimeout(we,100));const at=ce.resolution.width,rn=ce.resolution.height;N.width=at,N.height=rn,await new Promise(we=>requestAnimationFrame(we)),await new Promise(we=>requestAnimationFrame(we)),await new Promise(we=>setTimeout(we,100)),x(0),de.current&&(de.current.currentTime=0),await new Promise(we=>requestAnimationFrame(we)),await new Promise(we=>requestAnimationFrame(we)),await new Promise(we=>setTimeout(we,100)),wn.current||await mi(),await new Promise(we=>requestAnimationFrame(we)),await new Promise(we=>requestAnimationFrame(we)),await new Promise(we=>setTimeout(we,50));const Nt=ce.fps,jt=_;try{M(!0),de.current&&(de.current.currentTime=0,await new Promise(Pe=>setTimeout(Pe,100)),await de.current.play().catch(Pe=>{console.warn("Audio play failed:",Pe)})),await new Promise(Pe=>requestAnimationFrame(Pe)),await new Promise(Pe=>requestAnimationFrame(Pe)),await new Promise(Pe=>setTimeout(Pe,50));const we=N.captureStream(Nt),Jn=ce.format!=="mp4"?["video/webm;codecs=vp9","video/webm;codecs=vp8","video/webm"]:["video/webm;codecs=vp9","video/webm;codecs=vp8","video/webm"];let Mt="";for(const Pe of Jn)if(MediaRecorder.isTypeSupported(Pe)){Mt=Pe;break}if(!Mt)throw new Error("No supported video codec found");const vt=new MediaRecorder(we,{mimeType:Mt,videoBitsPerSecond:ce.bitrate}),Yn=[];vt.ondataavailable=Pe=>{Pe.data.size>0&&Yn.push(Pe.data)};const Be=setInterval(()=>{if(de.current&&jt>0){const Pe=Math.min(99,de.current.currentTime/jt*100);sn(Pe),Ao(Math.floor(de.current.currentTime*Nt))}},100);vt.onstop=async()=>{clearInterval(Be),sn(100);const Pe=new Blob(Yn,{type:Mt});if(ce.format==="mp4")try{const pt=URL.createObjectURL(Pe),Rt=document.createElement("a");Rt.href=pt,Rt.download=`elastic-pulse-export-${Date.now()}.webm`,document.body.appendChild(Rt),Rt.click(),document.body.removeChild(Rt),URL.revokeObjectURL(pt),alert("Export completed as WebM. For MP4 format, please use a video converter or use the frame-by-frame export option.")}catch(pt){console.error("Export failed:",pt),alert("Export failed. Please try again.")}else{const pt=URL.createObjectURL(Pe),Rt=document.createElement("a");Rt.href=pt,Rt.download=`elastic-pulse-export-${Date.now()}.webm`,document.body.appendChild(Rt),Rt.click(),document.body.removeChild(Rt),URL.revokeObjectURL(pt)}N.width=Ct,N.height=ot,setTimeout(()=>{ln(!1),sn(0),Ao(void 0),wo(void 0)},500),x(ke),de.current&&(de.current.currentTime=ke),M(De),we.getTracks().forEach(pt=>pt.stop())},vt.onerror=Pe=>{console.error("MediaRecorder error:",Pe),clearInterval(Be),N.width=Ct,N.height=ot,ln(!1),x(ke),M(De),we.getTracks().forEach(pt=>pt.stop()),alert("Video export failed. Please try exporting a single frame instead.")},vt.start(100),setTimeout(()=>{vt&&vt.state!=="inactive"&&vt.stop()},jt*1e3+500);return}catch(we){console.error("MediaRecorder failed:",we),N.width=Ct,N.height=ot,ln(!1),x(ke),M(De),alert("Real-time export failed. Please use Chrome or Edge browser.")}try{const we=N.captureStream(Nt),Mo=["video/webm;codecs=vp9","video/webm;codecs=vp8","video/webm"];let Jn="";for(const Be of Mo)if(MediaRecorder.isTypeSupported(Be)){Jn=Be;break}if(!Jn)throw new Error("No supported WebM codec found");const Mt=new MediaRecorder(we,{mimeType:Jn,videoBitsPerSecond:ce.bitrate}),vt=[];Mt.ondataavailable=Be=>{Be.data.size>0&&vt.push(Be.data)};const Yn=setInterval(()=>{if(de.current&&jt>0){const Be=Math.min(99,de.current.currentTime/jt*100);sn(Be),Ao(Math.floor(de.current.currentTime*Nt))}},100);Mt.onstop=()=>{clearInterval(Yn),sn(100);const Be=new Blob(vt,{type:Jn}),Pe=URL.createObjectURL(Be),pt=document.createElement("a");pt.href=Pe,pt.download=`elastic-pulse-export-${Date.now()}.webm`,document.body.appendChild(pt),pt.click(),document.body.removeChild(pt),URL.revokeObjectURL(Pe),N.width=Ct,N.height=ot,setTimeout(()=>{ln(!1),sn(0),Ao(void 0),wo(void 0)},500),x(ke),de.current&&(de.current.currentTime=ke),M(De),we.getTracks().forEach(Rt=>Rt.stop())},Mt.onerror=Be=>{console.error("MediaRecorder error:",Be),clearInterval(Yn),N.width=Ct,N.height=ot,ln(!1),x(ke),M(De),we.getTracks().forEach(Pe=>Pe.stop()),alert("Video export failed. Please try exporting a single frame instead.")},await new Promise(Be=>requestAnimationFrame(Be)),await new Promise(Be=>requestAnimationFrame(Be)),await new Promise(Be=>setTimeout(Be,50)),M(!0),de.current&&(de.current.currentTime=0,await new Promise(Be=>setTimeout(Be,50)),await de.current.play().catch(Be=>{console.warn("Audio play failed:",Be)})),await new Promise(Be=>setTimeout(Be,100)),Mt.start(100),setTimeout(()=>{Mt&&Mt.state!=="inactive"&&Mt.stop()},jt*1e3+500)}catch(we){console.error("MediaRecorder failed:",we),N.width=Ct,N.height=ot,ln(!1),x(ke),M(De),alert("Video export failed. Please use Chrome or Edge browser, or try exporting a single frame.")}}catch(at){console.error("Export failed:",at),N.width=Ct,N.height=ot,ln(!1),x(ke),M(De),alert(`Export failed: ${at instanceof Error?at.message:"Unknown error"}. Please try again.`)}};return F.useEffect(()=>{const T=N=>{if(!(N.target.tagName==="INPUT"||N.target.tagName==="TEXTAREA"))if(N.code==="Space")N.preventDefault(),!wn.current&&fe?mi().then(()=>{M(R=>{const Y=!R;return!Y&&de.current&&de.current.pause(),Y})}):M(R=>{const Y=!R;return!Y&&de.current&&de.current.pause(),Y});else if(N.key>="1"&&N.key<="9"){N.preventDefault();const R=parseInt(N.key)-1,Y=["strobe","blackout","invert","freeze","edgeDetection","scanlines","mirrorFlip","chromaBurst","zoomPunch"];if(R<Y.length){const ce=Y[R];ne(_e=>({..._e,[ce]:!_e[ce]}))}}else if(N.key==="ArrowLeft"&&!N.shiftKey){N.preventDefault();const R=Math.max(0,v-.1);x(R),de.current&&(de.current.currentTime=R)}else if(N.key==="ArrowRight"&&!N.shiftKey){N.preventDefault();const R=Math.min(_,v+.1);x(R),de.current&&(de.current.currentTime=R)}else(N.metaKey||N.ctrlKey)&&N.key==="s"?(N.preventDefault(),an()):(N.metaKey||N.ctrlKey)&&N.key==="o"?(N.preventDefault(),Ht()):(N.metaKey||N.ctrlKey)&&N.key==="e"?(N.preventDefault(),Rn()):(N.metaKey||N.ctrlKey)&&N.key==="z"&&!N.shiftKey?(N.preventDefault(),_o()):(N.metaKey||N.ctrlKey)&&(N.key==="y"||N.key==="z"&&N.shiftKey)?(N.preventDefault(),pi()):(N.metaKey||N.ctrlKey)&&N.key==="c"&&k?(N.preventDefault(),N.shiftKey&&j==="auto"?xa(ze):gn([k])):(N.metaKey||N.ctrlKey)&&N.key==="v"?(N.preventDefault(),Xi()):(N.metaKey||N.ctrlKey)&&N.key==="x"&&k?(N.preventDefault(),gn([k]),y(R=>R.filter(Y=>Y.id!==k)),K(null)):N.key==="m"&&(N.metaKey||N.ctrlKey)?(N.preventDefault(),vl()):N.key==="l"&&(N.metaKey||N.ctrlKey)?(N.preventDefault(),Dt(be?null:{start:v,end:Math.min(v+10,_)})):N.key==="?"||N.key==="h"&&(N.metaKey||N.ctrlKey)?(N.preventDefault(),rt(!jn)):N.key==="Escape"&&(dt(null),rt(!1))};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[U,v,_,k,st,Bt,j,ze,Fn,_o,pi,an,Ht,Rn,mi,wn,de,M,x,gn,Xi,xa,_a]),f.jsxs("div",{className:`h-screen flex flex-col p-2 gap-2 bg-[#0d0d0d] text-slate-100 font-sans transition-all overflow-hidden ${te?"p-0 gap-0":""}`,onClick:()=>dt(null),children:[fe&&f.jsx("audio",{ref:de,src:fe}),f.jsx(DC,{isOpen:Sl,onClose:()=>!Zi&&Wi(!1),onExport:Rn,isExporting:Zi,progress:ba,currentFrame:No,totalFrames:$t}),f.jsx(UC,{isOpen:vi,onClose:()=>yi(!1),activeClip:Ee,masterFX:W,onSaveClipPreset:()=>{},onLoadClipPreset:T=>{Ee&&y(N=>N.map(R=>R.id===k?{...R,...T.clip}:R))},onSaveMasterPreset:()=>{},onLoadMasterPreset:T=>{ne(T.fx)}}),f.jsx(zC,{isOpen:jn,onClose:()=>rt(!1)}),f.jsx(PC,{isVisible:ya,onToggle:()=>xl(!ya)}),!te&&f.jsx(RC,{playhead:v,isPlaying:U,isExporting:Zi,overlayMode:$,canUndo:ir,canRedo:hl,onExit:i,onPlayPause:()=>{!wn.current&&fe?mi().then(()=>{M(T=>{const N=!T;return!N&&de.current&&de.current.pause(),N})}):M(T=>{const N=!T;return!N&&de.current&&de.current.pause(),N})},onReset:()=>{x(0),de.current&&(de.current.currentTime=0,de.current.pause()),M(!1)},onExport:Rn,onSaveProject:an,onLoadProject:Ht,onUndo:_o,onRedo:pi,onCycleOverlay:Co,onZenMode:()=>Z(!0),onPresets:()=>yi(!0),onHelp:()=>rt(!0),audioRef:de,analyzerRef:wn,initAudio:mi,setPlayhead:x,setIsPlaying:M,logoHold:le,onLogoHold:()=>ge(!le)}),f.jsxs("main",{className:"flex-grow flex gap-2 overflow-hidden relative",children:[!te&&f.jsx("aside",{className:"w-72 flex flex-col gap-2 overflow-hidden animate-in slide-in-from-left duration-700",children:f.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-2xl flex-grow flex flex-col gap-6 overflow-hidden border border-white/5 shadow-2xl",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("h3",{className:"text-[10px] font-black uppercase text-slate-500 flex items-center gap-2 tracking-[0.2em]",children:[f.jsx(_g,{size:14})," Neural Command"]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{value:re,onChange:T=>Ae(T.target.value),placeholder:"Morphology command...",className:"flex-grow bg-[#0a0a0a] border border-white/5 p-3.5 rounded-xl text-[11px] outline-none text-white focus:border-[#ffdc5e]/40 transition-all shadow-inner"}),f.jsx("button",{onClick:async()=>{q(!0);try{const N=await new YE({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-3-pro-preview",contents:`WebGL fragment shader: ${re}. Uniforms: u_time, u_resolution, u_speed, u_intensity, u_color, u_audio_val, u_opacity, u_distort, u_hue_rotate.`}),R={id:`s-${Date.now()}`,name:re.substring(0,15),code:N.text||"",color:"#ffdc5e"};o(Y=>[...Y,R]),Ae("")}catch{}finally{q(!1)}},className:"p-3.5 bg-[#2a2a2a] rounded-xl text-[#ffdc5e] hover:bg-[#333] transition-all shadow-md",children:Ye?f.jsx(Js,{className:"animate-spin",size:18}):f.jsx(v0,{size:18})})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>{const T=document.createElement("input");T.type="file",T.accept=".glsl,text/plain",T.onchange=N=>{var ce;const R=(ce=N.target.files)==null?void 0:ce[0];if(!R)return;const Y=new FileReader;Y.onload=_e=>{var ot;const De=(ot=_e.target)==null?void 0:ot.result,ke=R.name.replace(/\.glsl$/,""),Ct={id:`s-${Date.now()}`,name:ke||"Imported Shader",code:De,color:"#ffdc5e"};o(at=>[...at,Ct])},Y.readAsText(R)},T.click()},className:"flex-1 px-3 py-2 bg-[#2a2a2a] rounded-xl text-[10px] font-black uppercase text-slate-300 hover:bg-[#333] transition-all duration-300 flex items-center justify-center gap-2 hover:scale-105 hover:shadow-[0_0_10px_rgba(255,255,255,0.1)] active:scale-95",title:"Import Shader (.glsl)",children:[f.jsx(Ys,{size:14})," Import"]}),Ee&&f.jsxs("button",{onClick:()=>{const T=t.find(ce=>ce.id===Ee.shaderId);if(!T)return;const N=new Blob([T.code],{type:"text/plain"}),R=URL.createObjectURL(N),Y=document.createElement("a");Y.href=R,Y.download=`${T.name.replace(/\s+/g,"-")}.glsl`,Y.click(),URL.revokeObjectURL(R)},className:"flex-1 px-3 py-2 bg-[#2a2a2a] rounded-xl text-[10px] font-black uppercase text-slate-300 hover:bg-[#333] transition-all duration-300 flex items-center justify-center gap-2 hover:scale-105 hover:shadow-[0_0_10px_rgba(255,255,255,0.1)] active:scale-95",title:"Export Shader (.glsl)",children:[f.jsx(tr,{size:14})," Export"]})]})]}),f.jsxs("div",{className:"flex-grow flex flex-col gap-4 overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("h3",{className:"text-[10px] font-black uppercase text-slate-500 tracking-[0.2em]",children:["Signal Pool (",t.length,"+)"]}),f.jsxs("select",{value:d,onChange:T=>h(T.target.value),className:"text-[9px] font-black uppercase bg-[#0a0a0a] border border-white/5 px-3 py-1.5 rounded-lg text-slate-300 outline-none focus:border-[#ffdc5e]/40",children:[f.jsx("option",{value:"all",children:"All Categories"}),f.jsx("option",{value:"abstract",children:"Abstract"}),f.jsx("option",{value:"geometric",children:"Geometric"}),f.jsx("option",{value:"organic",children:"Organic"}),f.jsx("option",{value:"particles",children:"Particles"}),f.jsx("option",{value:"distortion",children:"Distortion"}),f.jsx("option",{value:"color",children:"Color"}),f.jsx("option",{value:"audio-reactive",children:"Audio Reactive"}),f.jsx("option",{value:"experimental",children:"Experimental"})]})]}),f.jsx("div",{className:"flex-grow overflow-y-auto space-y-2.5 pr-1 custom-scrollbar",children:t.filter(T=>d==="all"||T.category===d||!T.category&&d==="experimental").sort((T,N)=>{const R=T.category||"zzz",Y=N.category||"zzz";return R!==Y?R.localeCompare(Y):T.name.localeCompare(N.name)}).map(T=>f.jsxs("div",{onClick:()=>{const N=g.length>0?Math.max(...g.map(Y=>Y.startTime+Y.duration)):0,R={id:`c-${Date.now()}`,shaderId:T.id,track:0,startTime:N,duration:5,timeStretch:1,opacity:1,fadeIn:.5,fadeOut:.5,blendMode:"normal",audioReactive:1,audioTie:"vol",params:{speed:1,intensity:1,color:.5,kaleidoscope:0,mirror:0,glitch:0,contrast:1,saturation:1,brightness:0,hueRotate:0,zoom:0,distort:0,tieEffect:0,feedbackDelay:0,particles:0},automation:{},lfos:[]};y(Y=>[...Y,R]),K(R.id)},className:"group bg-[#232323] p-3 rounded-2xl border border-white/5 hover:border-[#ffdc5e]/40 cursor-pointer flex items-center gap-4 transition-all duration-300 shadow-sm hover:shadow-[0_0_20px_rgba(255,220,94,0.2)] hover:scale-[1.02] hover:bg-[#2a2a2a] active:scale-[0.98]",children:[f.jsx(xC,{shader:T}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("span",{className:"text-[11px] font-black uppercase truncate text-slate-400 group-hover:text-[#ffdc5e] transition-colors duration-300 block",children:T.name}),T.category&&f.jsx("span",{className:"text-[8px] font-black uppercase text-slate-600 group-hover:text-slate-500 mt-0.5 transition-colors duration-300 block",children:T.category})]}),l[T.id]&&f.jsx(Ls,{size:12,className:"text-red-500 ml-auto animate-pulse shrink-0"})]},T.id))})]})]})}),f.jsxs("section",{className:`flex-grow ${W.backgroundType==="none"?"bg-[#000]":"bg-transparent"} rounded-2xl relative overflow-hidden border border-white/5 shadow-2xl group/canvas ${te?"rounded-none border-none":"animate-in zoom-in-95 duration-1000"}`,style:{position:"relative"},children:[f.jsx(HC,{type:W.backgroundType,time:v,width:1920,height:1080}),f.jsx(bg,{ref:Ki,playhead:v,clips:g,shaders:t,audioAnalysis:On,masterFX:W,mutes:A,solos:ee,onShaderError:Eo}),$!=="none"&&f.jsx(yC,{analysis:On,isZen:te,mode:$}),f.jsx("div",{className:`absolute inset-0 flex items-center justify-center z-50 pointer-events-none transition-opacity duration-1000 ${le||!U?"opacity-100":"opacity-0"}`,children:f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:"/logo.png",alt:"Elastic Pulse Logo",className:"max-w-[60%] max-h-[60%] object-contain drop-shadow-[0_0_40px_rgba(255,220,94,0.6)]",onError:T=>{const N=T.target;N.style.display="none";const R=N.nextElementSibling;R&&(R.style.display="flex")}}),f.jsx("div",{className:"hidden flex-col items-center justify-center absolute inset-0",children:f.jsxs("div",{className:"text-center",children:[f.jsx(Cn,{size:120,className:"text-[#ffdc5e] mx-auto mb-4 animate-pulse drop-shadow-[0_0_40px_rgba(255,220,94,0.6)]"}),f.jsx("span",{className:"text-[#ffdc5e] font-black text-4xl uppercase tracking-tighter",children:"Elastic Pulse"})]})})]})}),te&&f.jsx("button",{onClick:()=>Z(!1),className:"absolute top-6 right-6 p-4 bg-black/40 hover:bg-[#ffdc5e] hover:text-black rounded-xl border border-white/10 text-[#ffdc5e] opacity-0 group-hover/canvas:opacity-100 transition-all z-[100] shadow-2xl backdrop-blur-md",children:f.jsx(I2,{size:24})})]}),!te&&f.jsx("aside",{className:"w-80 flex flex-col gap-2 overflow-hidden animate-in slide-in-from-right duration-700",children:f.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-2xl flex-grow flex flex-col overflow-hidden border border-white/5 shadow-2xl",children:[f.jsx("nav",{className:"grid grid-cols-3 gap-2 mb-6 bg-[#0a0a0a] p-1.5 rounded-xl shrink-0 shadow-inner border border-white/5",children:["params","auto","lfo","audio","master","code","midi"].map(T=>f.jsxs("button",{onClick:()=>z(T),className:`px-1 py-2.5 rounded-lg text-[10px] font-black uppercase transition-all duration-300 relative transform ${j===T?"bg-[#2a2a2a] text-[#ffdc5e] shadow-lg scale-105":"text-slate-500 hover:text-slate-300 hover:bg-[#151515]"} hover:scale-110 active:scale-95`,children:[T,j===T&&f.jsx("div",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 w-5 h-[2px] bg-[#ffdc5e] shadow-[0_0_10px_#ffdc5e] animate-pulse"})]},T))}),f.jsx("div",{className:"flex-grow overflow-y-auto pr-1 custom-scrollbar",children:Ee?f.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[j==="params"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-white/5",children:[f.jsxs("div",{className:"flex items-center gap-2 truncate",children:[f.jsx("span",{className:"text-[12px] font-black uppercase text-[#ffdc5e] tracking-[0.1em] truncate",children:(Sa=t.find(T=>T.id===Ee.shaderId))==null?void 0:Sa.name}),l[Ee.shaderId]&&f.jsx(Ls,{size:14,className:"text-red-500 shrink-0"})]}),f.jsx("button",{onClick:()=>y(T=>T.filter(N=>N.id!==k)),className:"p-2 text-slate-600 hover:text-orange-500 transition-all duration-300 hover:scale-110 hover:bg-orange-500/10 rounded-lg active:scale-95",children:f.jsx(da,{size:16})})]}),l[Ee.shaderId]&&f.jsxs("div",{className:"p-3 bg-red-950/20 border border-red-500/30 rounded-xl flex items-start gap-3 animate-in slide-in-from-top-2",children:[f.jsx(mg,{size:16,className:"text-red-500 shrink-0 mt-0.5"}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("span",{className:"text-[9px] font-black text-red-400 uppercase",children:"Signal Path Broken"}),f.jsx("span",{className:"text-[8px] text-red-200/60 leading-tight",children:"Compiler reported syntax errors. Check the source code in the [CODE] tab."})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-[#232323] p-4 rounded-2xl border border-white/5 space-y-5 shadow-xl hover:border-white/10 transition-all duration-300",children:[f.jsxs("h3",{className:"text-[10px] font-black uppercase text-slate-500 flex items-center gap-2 tracking-[0.3em]",children:[f.jsx(dC,{size:14,className:"text-[#ffdc5e]/60"}),f.jsx("span",{className:"bg-gradient-to-r from-slate-500 to-transparent h-[1px] flex-1 opacity-20"})]}),f.jsx(Ve,{label:"Particle Flow",val:Ee.params.particles,max:1,onChange:T=>y(N=>N.map(R=>R.id===k?{...R,params:{...R.params,particles:T}}:R)),onKeyframe:()=>ft("particles")}),f.jsx(Ve,{label:"Tie Effect",val:Ee.params.tieEffect,max:1,onChange:T=>y(N=>N.map(R=>R.id===k?{...R,params:{...R.params,tieEffect:T}}:R)),onKeyframe:()=>ft("tieEffect")}),f.jsx(Ve,{label:"Feedback Delay",val:Ee.params.feedbackDelay,max:1,onChange:T=>y(N=>N.map(R=>R.id===k?{...R,params:{...R.params,feedbackDelay:T}}:R)),onKeyframe:()=>ft("feedbackDelay")}),f.jsx(Ve,{label:"Kaleidoscope",val:Ee.params.kaleidoscope,max:12,onChange:T=>y(N=>N.map(R=>R.id===k?{...R,params:{...R.params,kaleidoscope:T}}:R)),onKeyframe:()=>ft("kaleidoscope")}),f.jsx(Ve,{label:"Elastic Warp",val:Ee.params.distort,max:2,onChange:T=>y(N=>N.map(R=>R.id===k?{...R,params:{...R.params,distort:T}}:R)),onKeyframe:()=>ft("distort")}),f.jsx(Ve,{label:"Zoom Scope",val:Ee.params.zoom,max:3,onChange:T=>y(N=>N.map(R=>R.id===k?{...R,params:{...R.params,zoom:T}}:R)),onKeyframe:()=>ft("zoom")}),f.jsx(Ve,{label:"Flow Speed",val:Ee.params.speed,max:4,onChange:T=>y(N=>N.map(R=>R.id===k?{...R,params:{...R.params,speed:T}}:R)),onKeyframe:()=>ft("speed")})]}),f.jsxs("div",{className:"bg-[#232323] p-4 rounded-2xl border border-white/5 space-y-5 shadow-xl hover:border-white/10 transition-all duration-300",children:[f.jsxs("h3",{className:"text-[10px] font-black uppercase text-slate-500 flex items-center gap-2 tracking-[0.3em]",children:[f.jsx(g0,{size:14,className:"text-[#ffdc5e]/60"}),f.jsx("span",{className:"bg-gradient-to-r from-slate-500 to-transparent h-[1px] flex-1 opacity-20"})]}),f.jsx(Ve,{label:"Contrast",val:Ee.params.contrast,max:2,onChange:T=>y(N=>N.map(R=>R.id===k?{...R,params:{...R.params,contrast:T}}:R)),onKeyframe:()=>ft("contrast")}),f.jsx(Ve,{label:"Saturation",val:Ee.params.saturation,max:2,onChange:T=>y(N=>N.map(R=>R.id===k?{...R,params:{...R.params,saturation:T}}:R)),onKeyframe:()=>ft("saturation")}),f.jsx(Ve,{label:"Brightness",val:Ee.params.brightness,max:1,onChange:T=>y(N=>N.map(R=>R.id===k?{...R,params:{...R.params,brightness:T}}:R)),onKeyframe:()=>ft("brightness")}),f.jsx(Ve,{label:"Hue Rotation",val:Ee.params.hueRotate,max:1,onChange:T=>y(N=>N.map(R=>R.id===k?{...R,params:{...R.params,hueRotate:T}}:R)),onKeyframe:()=>ft("hueRotate")})]}),f.jsxs("div",{className:"bg-[#232323] p-4 rounded-2xl border border-white/5 space-y-5 shadow-xl hover:border-white/10 transition-all duration-300",children:[f.jsxs("h3",{className:"text-[10px] font-black uppercase text-slate-500 flex items-center gap-2 tracking-[0.3em]",children:[f.jsx(hg,{size:14,className:"text-[#ffdc5e]/60"}),f.jsx("span",{className:"bg-gradient-to-r from-slate-500 to-transparent h-[1px] flex-1 opacity-20"})]}),f.jsx("select",{value:Ee.blendMode,onChange:T=>y(N=>N.map(R=>R.id===k?{...R,blendMode:T.target.value}:R)),className:"w-full bg-[#0a0a0a] border border-white/5 p-3 rounded-xl text-[11px] font-black uppercase text-slate-200 outline-none focus:border-[#ffdc5e]/40 transition-all duration-300 hover:border-white/10 cursor-pointer",children:["normal","add","multiply","screen","overlay","softlight","hardlight","dodge","burn"].map(T=>f.jsx("option",{value:T,children:T.toUpperCase()},T))}),f.jsx(Ve,{label:"Global Opacity",val:Ee.opacity,max:1,onChange:T=>y(N=>N.map(R=>R.id===k?{...R,opacity:T}:R)),onKeyframe:()=>ft("opacity")}),f.jsxs("div",{className:"space-y-2 mt-4",children:[f.jsx("h3",{className:"text-[10px] font-black uppercase text-slate-500 tracking-[0.3em]",children:"Audio Tie"}),f.jsx("select",{value:Ee.audioTie,onChange:T=>y(N=>N.map(R=>R.id===k?{...R,audioTie:T.target.value}:R)),className:"w-full bg-[#0a0a0a] border border-white/5 p-3 rounded-xl text-[11px] font-black uppercase text-slate-200 outline-none focus:border-[#ffdc5e]/40 transition-all duration-300 hover:border-white/10 cursor-pointer",children:["vol","sub","bass","lowMid","mid","highMid","treble","presence","kick","snare"].map(T=>f.jsx("option",{value:T,children:T.toUpperCase()},T))}),f.jsx(Ve,{label:"Audio Reaction Intensity",val:Ee.audioReactive,max:5,onChange:T=>y(N=>N.map(R=>R.id===k?{...R,audioReactive:T}:R))})]})]})]})]}),j==="auto"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-4 bg-[#0a0a0a] p-4 rounded-2xl border border-white/5 shadow-inner",children:[f.jsx("select",{value:ze,onChange:T=>on(T.target.value),className:"bg-transparent text-[11px] font-black uppercase text-slate-200 outline-none flex-grow cursor-pointer font-bold",children:["distort","hueRotate","intensity","speed","zoom","opacity","contrast","saturation","brightness","tieEffect","feedbackDelay","kaleidoscope","particles"].map(T=>f.jsx("option",{value:T,className:"bg-[#0a0a0a]",children:T.toUpperCase()},T))}),f.jsx("button",{onClick:()=>ft(ze),className:"p-2.5 bg-[#ffdc5e] text-black rounded-xl shadow-lg hover:scale-110 transition-all duration-300 hover:shadow-[0_0_20px_rgba(255,220,94,0.5)] active:scale-95",title:"Add Keyframe (at playhead)",children:f.jsx(v0,{size:16})})]}),f.jsxs("div",{className:"flex items-center gap-2 bg-[#232323] p-3 rounded-xl border border-white/5",children:[f.jsxs("button",{onClick:()=>xa(ze),disabled:!Ee||!(Ee.automation[ze]||[]).length,className:"flex-1 px-4 py-2.5 bg-[#0a0a0a] border border-white/10 text-[10px] font-black uppercase text-slate-300 rounded-lg hover:bg-[#ffdc5e] hover:text-black hover:border-[#ffdc5e] transition-all duration-300 disabled:opacity-30 disabled:cursor-not-allowed flex items-center justify-center gap-2 hover:scale-105 active:scale-95 disabled:hover:scale-100",title:"Copy Automation (Cmd+Shift+C)",children:[f.jsx(aa,{size:12})," Copy Auto"]}),f.jsxs("button",{onClick:()=>_a(),disabled:!Bt,className:"flex-1 px-4 py-2.5 bg-[#0a0a0a] border border-white/10 text-[10px] font-black uppercase text-slate-300 rounded-lg hover:bg-[#ffdc5e] hover:text-black hover:border-[#ffdc5e] transition-all duration-300 disabled:opacity-30 disabled:cursor-not-allowed flex items-center justify-center gap-2 hover:scale-105 active:scale-95 disabled:hover:scale-100",title:"Paste Automation (Cmd+Shift+V)",children:[f.jsx(aa,{size:12,className:"rotate-90"})," Paste Auto"]})]}),f.jsxs("div",{className:"bg-[#0a0a0a] p-3 rounded-xl border border-white/5",children:[f.jsx("label",{className:"text-[9px] font-black uppercase text-slate-500 mb-2 block",children:"Curve Type"}),f.jsx("select",{value:Qi,onChange:T=>gi(T.target.value),className:"w-full bg-[#1a1a1a] border border-white/5 p-2 rounded-lg text-[10px] font-black uppercase text-slate-200 outline-none",children:["linear","ease","easeIn","easeOut","easeInOut","bezier"].map(T=>f.jsx("option",{value:T,children:T.toUpperCase()},T))})]}),(Ee.automation[ze]||[]).length>0?f.jsxs("div",{className:"bg-[#232323] p-3 rounded-xl border border-white/5",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("span",{className:"text-[9px] font-black uppercase text-slate-500",children:["Keyframes (",(Ee.automation[ze]||[]).length,")"]}),Bt&&Bt.param===ze&&f.jsx("span",{className:"text-[8px] font-black uppercase text-[#ffdc5e] bg-[#ffdc5e]/10 px-2 py-1 rounded",children:"Copied"})]}),f.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto pr-1 custom-scrollbar",children:(Ee.automation[ze]||[]).sort((T,N)=>T.t-N.t).map((T,N)=>f.jsxs("div",{className:"flex justify-between items-center p-4 bg-[#0a0a0a] rounded-xl border border-white/5 text-[11px] shadow-sm group hover:border-white/20 hover:bg-[#151515] transition-all duration-300",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("span",{className:"font-mono text-slate-500 group-hover:text-slate-300 transition-colors duration-300",children:[(T.t*Ee.duration).toFixed(2),"S"]}),T.curve&&T.curve!=="linear"&&f.jsx("span",{className:"text-[8px] font-black uppercase text-slate-600 bg-slate-800 px-2 py-0.5 rounded group-hover:bg-slate-700 transition-colors duration-300",children:T.curve})]}),f.jsx("span",{className:"font-black text-[#ffdc5e] tracking-tight group-hover:text-[#ffdc5e] transition-colors duration-300",children:T.v.toFixed(3)}),f.jsx("button",{onClick:()=>xi(ze,T.t),className:"text-slate-600 hover:text-red-500 transition-all duration-300 opacity-0 group-hover:opacity-100 hover:scale-110 active:scale-95",children:f.jsx(Bn,{size:14})})]},N))})]}):f.jsxs("div",{className:"bg-[#232323] p-8 rounded-xl border border-white/5 text-center",children:[f.jsx("div",{className:"text-slate-500 text-[10px] font-black uppercase mb-2",children:"No Automation"}),f.jsx("div",{className:"text-slate-600 text-[9px]",children:"Add keyframes to create automation curves"})]})]}),j==="lfo"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("button",{onClick:_l,className:"w-full py-3.5 bg-[#ffdc5e]/10 border border-[#ffdc5e]/20 text-[#ffdc5e] text-[10px] font-black uppercase rounded-xl hover:bg-[#ffdc5e]/20 transition-all flex items-center justify-center gap-3",children:[f.jsx(vg,{size:14})," Create Modulator"]}),Ee.lfos.map(T=>f.jsxs("div",{className:"bg-[#232323] p-4 rounded-2xl border border-white/5 space-y-4 shadow-xl relative",children:[f.jsx("button",{onClick:()=>y(N=>N.map(R=>R.id===k?{...R,lfos:R.lfos.filter(Y=>Y.id!==T.id)}:R)),className:"absolute top-4 right-4 text-slate-600 hover:text-red-500 transition-all duration-300 hover:scale-110 active:scale-95",children:f.jsx(da,{size:14})}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsx("select",{value:T.target,onChange:N=>y(R=>R.map(Y=>Y.id===k?{...Y,lfos:Y.lfos.map(ce=>ce.id===T.id?{...ce,target:N.target.value}:ce)}:Y)),className:"bg-[#0a0a0a] text-[10px] font-black p-2 rounded-lg border border-white/5",children:["distort","hueRotate","intensity","speed","zoom","opacity","tieEffect","feedbackDelay","kaleidoscope","particles"].map(N=>f.jsx("option",{value:N,children:N.toUpperCase()},N))}),f.jsx("select",{value:T.type,onChange:N=>y(R=>R.map(Y=>Y.id===k?{...Y,lfos:Y.lfos.map(ce=>ce.id===T.id?{...ce,type:N.target.value}:ce)}:Y)),className:"bg-[#0a0a0a] text-[10px] font-black p-2 rounded-lg border border-white/5",children:["sine","tri","sqr","noise"].map(N=>f.jsx("option",{value:N,children:N.toUpperCase()},N))})]}),f.jsx(Ve,{label:"Frequency",val:T.freq,max:10,onChange:N=>y(R=>R.map(Y=>Y.id===k?{...Y,lfos:Y.lfos.map(ce=>ce.id===T.id?{...ce,freq:N}:ce)}:Y))}),f.jsx(Ve,{label:"Amplitude",val:T.amp,max:1,onChange:N=>y(R=>R.map(Y=>Y.id===k?{...Y,lfos:Y.lfos.map(ce=>ce.id===T.id?{...ce,amp:N}:ce)}:Y))})]},T.id))]}),j==="audio"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-[#232323] p-5 rounded-2xl border border-white/5 space-y-4 shadow-xl",children:[f.jsxs("h3",{className:"text-[10px] font-black uppercase text-slate-500 flex items-center gap-3",children:[f.jsx(Uc,{size:14})," Audio Source"]}),f.jsxs("label",{className:"flex items-center gap-4 bg-[#0a0a0a] p-4 rounded-xl border border-dashed border-white/10 hover:border-[#ffdc5e]/40 transition-all duration-300 cursor-pointer group relative overflow-hidden hover:bg-[#0f0f0f] hover:shadow-[0_0_15px_rgba(255,220,94,0.2)]",children:[f.jsx(Ys,{size:18,className:"text-[#ffdc5e] group-hover:scale-110 transition-transform duration-300"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-[10px] font-black uppercase text-slate-200 group-hover:text-[#ffdc5e] transition-colors duration-300",children:"Load Soundwave"}),f.jsx("span",{className:"text-[9px] text-slate-500 group-hover:text-slate-400 font-mono truncate max-w-[150px] transition-colors duration-300",children:ur})]}),f.jsx("input",{type:"file",accept:"audio/*",onChange:va,className:"hidden"})]}),f.jsxs("button",{onClick:mi,className:"w-full py-3 bg-[#ffdc5e]/10 text-[#ffdc5e] rounded-xl text-[10px] font-black uppercase border border-[#ffdc5e]/20 hover:bg-[#ffdc5e]/20 transition-all duration-300 flex items-center justify-center gap-3 hover:scale-[1.02] hover:shadow-[0_0_20px_rgba(255,220,94,0.3)] active:scale-[0.98]",children:[f.jsx(M2,{size:14})," Activate Capture"]})]}),f.jsxs("div",{className:"bg-[#232323] p-5 rounded-2xl border border-white/5 space-y-4 shadow-xl",children:[f.jsxs("h3",{className:"text-[10px] font-black uppercase text-slate-500 flex items-center gap-2",children:[f.jsx(Cn,{size:14})," Spectral Precision"]}),f.jsx("div",{className:"space-y-4 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:["vol","sub","bass","lowMid","mid","highMid","treble","presence","kick","snare"].map(T=>f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("div",{className:"flex justify-between text-[9px] font-black uppercase text-slate-400",children:[f.jsx("span",{className:["kick","snare"].includes(T)?"text-[#ffdc5e]":"",children:T}),f.jsxs("span",{className:"font-mono",children:[(On[T]*100).toFixed(0),"%"]})]}),f.jsx("div",{className:"h-1 w-full bg-[#0a0a0a] rounded-full overflow-hidden",children:f.jsx("div",{className:`h-full transition-all ${["kick","snare"].includes(T)?"bg-[#ffdc5e] shadow-[0_0_10px_#ffdc5e]":"bg-slate-600"}`,style:{width:`${Math.min(100,On[T]*100)}%`}})})]},T))})]})]}),j==="master"&&f.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[f.jsx(_C,{fx:W,onChange:T=>ne(N=>({...N,feedback:T.x*20,bloom:T.y*1.5}))}),f.jsxs("div",{className:"bg-[#232323] p-5 rounded-2xl border border-white/5 space-y-6 shadow-xl",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-[10px] font-black uppercase text-slate-500",children:"Tempo (BPM)"}),Yi&&f.jsxs("button",{onClick:()=>ne(T=>({...T,bpm:Yi})),className:"text-[9px] font-black uppercase text-[#ffdc5e] hover:text-white transition-all px-2 py-1 rounded border border-[#ffdc5e]/30 hover:border-[#ffdc5e]",title:`Detected BPM: ${Yi}`,children:["Use ",Yi]})]}),f.jsx(Ve,{label:"",val:W.bpm,max:250,onChange:T=>ne(N=>({...N,bpm:T}))})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h4",{className:"text-[9px] font-black uppercase text-slate-500",children:"Toggle Effects"}),f.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{id:"strobe",label:"Strobe",icon:f.jsx(hC,{size:12})},{id:"invert",label:"Invert",icon:f.jsx(g0,{size:12})},{id:"mirrorFlip",label:"Mirror",icon:f.jsx(xg,{size:12})},{id:"chromaBurst",label:"Burst",icon:f.jsx(Cn,{size:12})},{id:"freeze",label:"Freeze",icon:f.jsx(W2,{size:12})},{id:"edgeDetection",label:"Edge",icon:f.jsx(pl,{size:12})},{id:"scanlines",label:"Scan",icon:f.jsx(v2,{size:12})},{id:"blackout",label:"Black",icon:f.jsx(U2,{size:12})},{id:"glitchHit",label:"Glitch",icon:f.jsx(Ls,{size:12})}].map(T=>f.jsxs("button",{onClick:()=>ne(N=>({...N,[T.id]:!N[T.id]})),className:`flex items-center justify-center gap-2 p-2.5 rounded-xl border text-[8px] font-black uppercase transition-all duration-300 ${W[T.id]?"bg-[#ffdc5e] border-[#ffdc5e] text-black shadow-[0_0_15px_rgba(255,220,94,0.3)] scale-105":"bg-[#0a0a0a] border-white/5 text-slate-500 hover:border-white/20 hover:bg-[#151515]"} hover:scale-110 active:scale-95`,children:[T.icon," ",T.label]},T.id))}),f.jsx("h4",{className:"text-[9px] font-black uppercase text-slate-500 mt-4",children:"Intensity Effects"}),f.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:[f.jsx(Ve,{label:"Pixelate",val:W.pixelate,max:100,onChange:T=>ne(N=>({...N,pixelate:T}))}),f.jsx(Ve,{label:"Color Shift",val:W.colorShift,max:360,onChange:T=>ne(N=>({...N,colorShift:T}))}),f.jsx(Ve,{label:"Noise",val:W.noise,max:1,onChange:T=>ne(N=>({...N,noise:T}))}),f.jsx(Ve,{label:"Blur",val:W.blur,max:20,onChange:T=>ne(N=>({...N,blur:T}))}),f.jsx(Ve,{label:"Sharpen",val:W.sharpen,max:5,onChange:T=>ne(N=>({...N,sharpen:T}))}),f.jsx(Ve,{label:"Posterize",val:W.posterize,max:16,onChange:T=>ne(N=>({...N,posterize:T}))}),f.jsx(Ve,{label:"RGB Shift",val:W.rgbShift,max:50,onChange:T=>ne(N=>({...N,rgbShift:T}))}),f.jsx(Ve,{label:"Kaleidoscope",val:W.kaleidoscope,max:20,onChange:T=>ne(N=>({...N,kaleidoscope:T}))}),f.jsx(Ve,{label:"Fisheye",val:W.fisheye,max:1,onChange:T=>ne(N=>({...N,fisheye:T}))}),f.jsx(Ve,{label:"Twirl",val:W.twirl,max:10,onChange:T=>ne(N=>({...N,twirl:T}))})]})]})]}),f.jsxs("div",{className:"bg-[#232323] p-5 rounded-2xl border border-white/5 space-y-4 shadow-xl",children:[f.jsxs("h3",{className:"text-[10px] font-black uppercase text-slate-500 flex items-center gap-2",children:[f.jsx(pl,{size:14})," Background"]}),f.jsxs("select",{value:W.backgroundType,onChange:T=>ne(N=>({...N,backgroundType:T.target.value})),className:"w-full bg-[#0a0a0a] border border-white/5 p-3 rounded-xl text-[11px] font-black uppercase text-slate-200 outline-none focus:border-[#ffdc5e]/40",children:[f.jsx("option",{value:"none",children:"None"}),f.jsx("option",{value:"gradient",children:"Gradient"}),f.jsx("option",{value:"noise",children:"Noise"}),f.jsx("option",{value:"grid",children:"Grid"}),f.jsx("option",{value:"particles",children:"Particles"}),f.jsx("option",{value:"waves",children:"Waves"}),f.jsx("option",{value:"ken-burns-1",children:"Ken Burns 1"}),f.jsx("option",{value:"ken-burns-2",children:"Ken Burns 2"}),f.jsx("option",{value:"ken-burns-3",children:"Ken Burns 3"})]})]}),f.jsxs("div",{className:"bg-[#232323] p-5 rounded-2xl border border-white/5 space-y-4 shadow-xl hover:border-white/10 transition-all duration-300",children:[f.jsxs("h3",{className:"text-[10px] font-black uppercase text-slate-500 flex items-center gap-2",children:[f.jsx(Uc,{size:14,className:"text-[#ffdc5e]/60"}),f.jsx("span",{className:"bg-gradient-to-r from-slate-500 to-transparent h-[1px] flex-1 opacity-20"})]}),f.jsx(Ve,{label:"Reverb",val:W.reverb,max:1,onChange:T=>ne(N=>({...N,reverb:T}))}),f.jsx(Ve,{label:"Delay",val:W.delay,max:1,onChange:T=>ne(N=>({...N,delay:T}))}),f.jsx(Ve,{label:"Delay Feedback",val:W.delayFeedback,max:.95,onChange:T=>ne(N=>({...N,delayFeedback:T}))}),f.jsx(Ve,{label:"Delay Time",val:W.delayTime,max:1,onChange:T=>ne(N=>({...N,delayTime:T}))}),f.jsx(Ve,{label:"Distortion",val:W.distortion,max:1,onChange:T=>ne(N=>({...N,distortion:T}))}),f.jsx(Ve,{label:"Lowpass",val:W.lowpass,max:2e4,min:20,onChange:T=>ne(N=>({...N,lowpass:T}))}),f.jsx(Ve,{label:"Highpass",val:W.highpass,max:2e4,min:20,onChange:T=>ne(N=>({...N,highpass:T}))}),f.jsx(Ve,{label:"Compressor",val:W.compressor,max:1,onChange:T=>ne(N=>({...N,compressor:T}))})]})]}),j==="code"&&f.jsx(kC,{shader:t.find(T=>T.id===Ee.shaderId),error:l[Ee.shaderId],onChange:T=>o(N=>N.map(R=>R.id===Ee.shaderId?{...R,code:T}:R))}),j==="midi"&&f.jsx(GC,{devices:or,isConnected:ar,activeDevice:Ji,learnedMappings:Ot,learnMode:Pn,bpm:St,onConnect:lr,onDisconnect:sr,onStartLearn:rr,onCancelLearn:bo,onRemoveMapping:So,onUpdateMapping:To})]}):f.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-10 uppercase font-black text-center gap-8 tracking-[0.6em]",children:[f.jsx(pl,{size:60})," Workspace_Idle"]})})]})})]}),!te&&f.jsxs(f.Fragment,{children:[f.jsx("div",{onMouseDown:T=>Tt(T,null,"timeline-resize"),className:"h-3 bg-transparent hover:bg-[#ffdc5e]/10 cursor-ns-resize transition-all flex items-center justify-center group relative z-50 py-1",children:f.jsx("div",{className:"w-20 h-[3px] bg-white/5 group-hover:bg-[#ffdc5e] group-hover:shadow-[0_0_15px_#ffdc5e] rounded-full transition-all flex items-center justify-center"})}),f.jsxs("footer",{style:{height:`${ie}px`},className:"bg-[#1a1a1a] rounded-2xl border border-white/10 p-5 flex flex-col gap-2 shrink-0 shadow-[0_-30px_60px_rgba(0,0,0,0.6)] relative animate-in slide-in-from-bottom duration-1000",children:[f.jsxs("div",{className:"h-4 bg-[#0a0a0a] rounded-full border border-white/5 relative mb-2 cursor-pointer overflow-hidden shadow-inner group",onClick:$i,children:[g.map(T=>f.jsx("div",{className:`absolute h-full border-x ${l[T.shaderId]?"bg-red-500/50 border-red-500/40":"bg-[#ffdc5e]/30 border-[#ffdc5e]/20"}`,style:{left:`${T.startTime/_*100}%`,width:`${T.duration/_*100}%`}},T.id)),f.jsx("div",{className:"absolute top-0 bottom-0 w-[1.5px] bg-[#ffdc5e] shadow-[0_0_8px_#ffdc5e] transition-all",style:{left:`${v/_*100}%`}}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/[0.03] to-transparent pointer-events-none"})]}),f.jsxs("div",{className:"flex items-center justify-between px-4 text-[11px] font-black uppercase text-slate-500 mb-2",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:()=>me(!pe),className:`px-8 py-2 rounded-xl transition-all border ${pe?"bg-[#ffdc5e] border-[#ffdc5e] text-black shadow-lg scale-105":"bg-[#0a0a0a] border-white/10 text-white hover:border-white/30"}`,children:"Magnet_Snap"}),f.jsxs("select",{value:tt,onChange:T=>xo(Number(T.target.value)),className:"px-4 py-2 rounded-xl bg-[#0a0a0a] border border-white/10 text-white text-[10px] font-black uppercase hover:border-[#ffdc5e]/40 transition-all",children:[f.jsx("option",{value:0,children:"No Grid"}),f.jsx("option",{value:4,children:"1/4 Beat"}),f.jsx("option",{value:8,children:"1/8 Beat"}),f.jsx("option",{value:16,children:"1/16 Beat"}),f.jsx("option",{value:32,children:"1/32 Beat"})]}),f.jsxs("button",{onClick:()=>Ft(!ji),className:`px-6 py-2 rounded-xl transition-all duration-300 border flex items-center gap-2 transform ${ji?"bg-[#ffdc5e] border-[#ffdc5e] text-black shadow-lg scale-105":"bg-[#0a0a0a] border-white/10 text-white hover:border-white/30 hover:bg-[#151515]"} hover:scale-110 active:scale-95`,title:"Toggle Automation Lanes",children:[f.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M3 3v18h18M7 16l4-8 4 8 4-12"})}),"AUTO"]}),f.jsxs("button",{onClick:()=>vl(),className:"px-6 py-2 rounded-xl bg-[#0a0a0a] border border-white/10 text-white hover:border-blue-500/50 hover:text-blue-400 transition-all duration-300 flex items-center gap-2 hover:bg-[#151515] hover:scale-110 active:scale-95 hover:shadow-[0_0_15px_rgba(59,130,246,0.3)]",title:"Add Marker (Cmd+M)",children:[f.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M12 2v20M2 12h20"})}),"Marker (",Fn.length,")"]}),f.jsxs("button",{onClick:()=>{Dt(be?null:{start:v,end:Math.min(v+10,_)})},className:`px-6 py-2 rounded-xl border transition-all duration-300 flex items-center gap-2 transform ${be?"bg-[#ffdc5e] border-[#ffdc5e] text-black shadow-lg scale-105":"bg-[#0a0a0a] border-white/10 text-white hover:border-[#ffdc5e]/50 hover:bg-[#151515]"} hover:scale-110 active:scale-95`,title:"Toggle Loop Region (Cmd+L)",children:[f.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.3"})}),"Loop ",be?"ON":"OFF"]})]}),f.jsxs("div",{className:"flex items-center gap-6 bg-[#0a0a0a] px-6 py-2 rounded-full border border-white/5 shadow-inner",children:[f.jsx(F2,{size:16,className:"text-[#ffdc5e] opacity-40"}),f.jsx("input",{type:"range",min:"5",max:"250",step:"1",value:E,onChange:T=>I(parseInt(T.target.value)),className:"w-80 h-1 bg-[#222] rounded-full appearance-none accent-[#ffdc5e] cursor-pointer"})]})]}),f.jsxs("div",{ref:ga,className:"flex-grow flex relative overflow-hidden bg-[#080808] rounded-2xl border border-white/10 shadow-2xl",children:[f.jsx("div",{className:"w-24 border-r border-white/10 flex flex-col shrink-0 bg-[#121212] z-40 shadow-2xl overflow-y-auto custom-scrollbar",children:[0,1,2,3,4,5,6,7].map(T=>f.jsx("div",{className:`min-h-[60px] flex-grow flex flex-col items-center justify-center gap-2 border-b border-white/5 last:border-0 relative transition-colors duration-300 ${T%2===0?"bg-gradient-to-r from-transparent to-white/[0.01]":"bg-gradient-to-r from-white/[0.01] to-transparent"}`,children:f.jsxs("div",{className:"flex gap-1.5",children:[f.jsx("button",{onClick:()=>B(N=>N.map((R,Y)=>Y===T?!R:R)),className:`w-7 h-7 rounded-lg text-[9px] font-black border transition-all duration-300 transform ${A[T]?"bg-orange-600 border-orange-500 text-white shadow-[0_0_15px_rgba(234,88,12,0.5)] scale-105":"bg-[#222] border-white/10 text-slate-500 hover:text-slate-300 hover:bg-[#2a2a2a]"} hover:scale-110 active:scale-95`,children:"M"}),f.jsx("button",{onClick:()=>ae(N=>N.map((R,Y)=>Y===T?!R:R)),className:`w-7 h-7 rounded-lg text-[9px] font-black border transition-all duration-300 transform ${ee[T]?"bg-[#ffdc5e] border-[#ffdc5e] text-black shadow-xl shadow-[0_0_20px_rgba(255,220,94,0.5)] scale-105":"bg-[#222] border-white/10 text-slate-500 hover:text-slate-300 hover:bg-[#2a2a2a]"} hover:scale-110 active:scale-95`,children:"S"})]})},T))}),f.jsx("div",{className:"flex-grow relative overflow-x-auto overflow-y-auto custom-scrollbar",children:f.jsxs("div",{className:"tracks-area-content relative",style:{width:`${_*E}px`,height:"100%",minHeight:"480px"},children:[f.jsxs("div",{className:"absolute top-0 left-0 right-0 h-8 bg-gradient-to-b from-[#121212] to-[#0a0a0a] border-b border-white/10 z-40 pointer-events-none sticky top-0 shadow-lg",children:[bl.map(T=>{const N=tt>0&&T*(W.bpm||120)/60%(4/tt)<.01;return f.jsx("div",{className:`absolute h-full border-l transition-all duration-200 ${N?"border-[#ffdc5e]/40 w-[2px]":"border-white/20"}`,style:{left:`${T*E}px`},children:f.jsxs("span",{className:`absolute left-3 top-2 text-[10px] font-black tracking-tighter transition-colors duration-200 ${N?"text-[#ffdc5e]":"text-slate-600"}`,children:[T,"s"]})},T)}),be&&f.jsxs("div",{className:"absolute h-full bg-[#ffdc5e]/20 border-l-2 border-r-2 border-[#ffdc5e] z-50 cursor-move group pointer-events-auto transition-all duration-300 hover:bg-[#ffdc5e]/30",style:{left:`${be.start*E}px`,width:`${(be.end-be.start)*E}px`},onMouseDown:T=>{T.stopPropagation(),Tt(T,null,"loop-move")},children:[f.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-[#ffdc5e] opacity-50 group-hover:opacity-75 transition-opacity duration-300"}),f.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-[#ffdc5e] opacity-50 group-hover:opacity-75 transition-opacity duration-300"}),f.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-2 bg-[#ffdc5e] cursor-ew-resize opacity-0 group-hover:opacity-100 transition-all duration-300 hover:opacity-100 hover:w-3 hover:shadow-[0_0_10px_rgba(255,220,94,0.8)] z-10",onMouseDown:T=>{T.stopPropagation(),Tt(T,null,"loop-start")}}),f.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-2 bg-[#ffdc5e] cursor-ew-resize opacity-0 group-hover:opacity-100 transition-all duration-300 hover:opacity-100 hover:w-3 hover:shadow-[0_0_10px_rgba(255,220,94,0.8)] z-10",onMouseDown:T=>{T.stopPropagation(),Tt(T,null,"loop-end")}}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:f.jsxs("span",{className:"text-[8px] font-black uppercase text-[#ffdc5e] bg-black/70 px-2 py-0.5 rounded opacity-0 group-hover:opacity-100 transition-all duration-300 shadow-lg backdrop-blur-sm",children:["LOOP: ",(be.end-be.start).toFixed(1),"s"]})})]}),Fn.map(T=>f.jsxs("div",{className:"absolute top-0 bottom-0 w-[2px] bg-blue-500 shadow-[0_0_8px_#3b82f6] cursor-pointer hover:bg-blue-400 hover:w-[3px] transition-all duration-300 z-50 pointer-events-auto group",style:{left:`${T.time*E}px`},onClick:()=>yl(T.time),onContextMenu:N=>{N.preventDefault(),cr(T.id)},title:`${T.label||"Marker"} - ${T.time.toFixed(2)}s (Right-click to delete)`,children:[f.jsx("div",{className:"absolute -top-1 -left-1.5 w-4 h-4 bg-blue-500 rounded-sm rotate-45 border border-black shadow-lg group-hover:scale-110 transition-transform duration-300"}),T.label&&f.jsx("div",{className:"absolute top-2 left-4 bg-blue-500/90 text-white text-[8px] font-black uppercase px-2 py-0.5 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none whitespace-nowrap",children:T.label})]},T.id))]}),f.jsxs("div",{className:"absolute inset-0 pt-8",onMouseDown:T=>Tt(T,null,"scrub"),children:[[0,1,2,3,4,5,6,7].map(T=>f.jsx("div",{className:`h-[12.5%] border-b border-white/5 last:border-0 relative pointer-events-none transition-colors duration-300 ${T%2===0?"bg-[#080808]":"bg-[#0a0a0a]"} hover:bg-[#0f0f0f]`},T)),bl.map(T=>{const N=tt>0&&T*(W.bpm||120)/60%(4/tt)<.01;return f.jsx("div",{className:`absolute top-8 bottom-0 pointer-events-none transition-all duration-200 ${N?"w-[1px] bg-[#ffdc5e]/10":"w-[1px] bg-white/[0.04]"}`,style:{left:`${T*E}px`}},`g-${T}`)}),f.jsx("div",{className:"absolute inset-0 opacity-20 flex items-center pointer-events-none pt-8",children:hi.length>0&&hi.map((T,N)=>f.jsx("div",{className:"flex-grow bg-[#ffdc5e] shadow-[0_0_8px_#ffdc5e]",style:{height:`${T*100}%`,minWidth:"1.5px"}},N))}),g.map(T=>{var N;return f.jsxs("div",{onMouseDown:R=>Tt(R,T.id,"move"),onContextMenu:R=>Et(R,T.id),className:`absolute h-[12.5%] rounded-xl border flex flex-col justify-center px-4 transition-all duration-300 overflow-hidden cursor-move group ${k===T.id?"border-[#ffdc5e] bg-[#ffdc5e]/45 z-20 shadow-[0_0_40px_rgba(255,220,94,0.4)] scale-[1.02]":"border-white/10 bg-[#2a2a2a] hover:bg-[#333] hover:border-white/30 hover:shadow-[0_0_15px_rgba(255,255,255,0.1)]"} ${A[T.track]?"opacity-30 grayscale blur-[3px]":""} ${l[T.shaderId]?"border-red-500 shadow-[0_0_20px_rgba(239,68,68,0.3)]":""}`,style:{left:`${T.startTime*E}px`,width:`${T.duration*E}px`,top:`${T.track*12.5}%`},children:[f.jsxs("svg",{className:"absolute inset-0 pointer-events-none w-full h-full opacity-30 transition-opacity duration-300 group-hover:opacity-40",children:[f.jsx("path",{d:`M 0,0 L ${T.fadeIn*E},0 L 0,100 Z`,fill:"#ffdc5e"}),f.jsx("path",{d:`M ${T.duration*E},0 L ${(T.duration-T.fadeOut)*E},0 L ${T.duration*E},100 Z`,fill:"#ffdc5e"})]}),f.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-3 cursor-ew-resize hover:bg-white/20 transition-all duration-300 z-30 hover:shadow-[0_0_10px_rgba(255,255,255,0.3)]",onMouseDown:R=>Tt(R,T.id,"resize-start")}),f.jsx("div",{onMouseDown:R=>Tt(R,T.id,"fade-in"),className:"absolute top-1 w-2.5 h-2.5 bg-white border border-black rounded-sm cursor-ew-resize opacity-0 group-hover:opacity-100 transition-all duration-300 z-40 hover:scale-125 hover:shadow-[0_0_10px_rgba(255,220,94,0.8)]",style:{left:`${T.fadeIn*E-5}px`}}),f.jsx("div",{onMouseDown:R=>Tt(R,T.id,"fade-out"),className:"absolute top-1 w-2.5 h-2.5 bg-white border border-black rounded-sm cursor-ew-resize opacity-0 group-hover:opacity-100 transition-all duration-300 z-40 hover:scale-125 hover:shadow-[0_0_10px_rgba(255,220,94,0.8)]",style:{left:`${(T.duration-T.fadeOut)*E-5}px`}}),f.jsxs("div",{className:"flex items-center gap-2 z-10 select-none",children:[f.jsx("span",{className:"text-[10px] font-black uppercase truncate text-white tracking-[0.1em] drop-shadow-lg",children:(N=t.find(R=>R.id===T.shaderId))==null?void 0:N.name}),l[T.shaderId]&&f.jsx(Ls,{size:10,className:"text-red-500 animate-pulse"})]}),f.jsxs("span",{className:"text-[8px] font-mono text-[#ffdc5e] font-bold opacity-80 pointer-events-none select-none tracking-tighter z-10",children:[T.startTime.toFixed(1),"s | ",T.duration.toFixed(1),"s"]}),f.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-3 cursor-ew-resize hover:bg-white/20 transition-all duration-300 z-30 hover:shadow-[0_0_10px_rgba(255,255,255,0.3)]",onMouseDown:R=>Tt(R,T.id,"resize-end")})]},T.id)}),f.jsxs("div",{className:"absolute top-0 bottom-0 w-[2.5px] bg-[#ffdc5e] z-[100] pointer-events-none shadow-[0_0_30px_#ffdc5e] transition-transform duration-75 ease-linear",style:{transform:`translateX(${v*E}px)`},children:[f.jsx("div",{className:"absolute -top-2 -left-2 w-5 h-5 bg-[#ffdc5e] rounded-sm rotate-45 border-2 border-black shadow-lg animate-pulse"}),f.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1 h-full bg-gradient-to-b from-[#ffdc5e] via-[#ffdc5e]/80 to-transparent"})]})]})]})})]}),f.jsxs("div",{className:"flex justify-between px-4 text-[10px] font-black uppercase text-slate-700 tracking-[0.4em] mt-2 shrink-0",children:[f.jsxs("span",{className:"flex items-center gap-3",children:["ELASTIC_CORE_V32_11 ",f.jsx(Gs,{size:12,className:"text-[#ffdc5e]/60 animate-pulse"})]}),f.jsxs("span",{children:["Workspace: ",v.toFixed(2),"s / ",_.toFixed(1),"s"]})]})]})]}),gt&&f.jsxs("div",{className:"fixed bg-[#121212] border border-white/20 rounded-2xl z-[999] py-2.5 min-w-[200px] animate-in zoom-in-95 duration-150 backdrop-blur-3xl",style:{top:gt.y,left:gt.x,boxShadow:"0 40px 80px rgba(0,0,0,0.9)"},onClick:T=>T.stopPropagation(),children:[f.jsxs("button",{onClick:()=>{gn([gt.clipId]),dt(null)},className:"w-full text-left px-6 py-3.5 text-[11px] font-black uppercase hover:bg-[#ffdc5e] hover:text-black transition-all flex items-center gap-4",children:[f.jsx(aa,{size:16})," Copy_Clip"]}),f.jsxs("button",{onClick:()=>{gn([gt.clipId]),y(T=>T.filter(N=>N.id!==gt.clipId)),dt(null)},className:"w-full text-left px-6 py-3.5 text-[11px] font-black uppercase hover:bg-orange-600 hover:text-white transition-all flex items-center gap-4",children:[f.jsx(aa,{size:16,className:"rotate-180"})," Cut_Clip"]}),f.jsxs("button",{onClick:()=>{Xi(v),dt(null)},disabled:st.length===0,className:"w-full text-left px-6 py-3.5 text-[11px] font-black uppercase hover:bg-[#ffdc5e] hover:text-black transition-all flex items-center gap-4 disabled:opacity-30 disabled:cursor-not-allowed",children:[f.jsx(aa,{size:16,className:"rotate-90"})," Paste_Clip"]}),f.jsxs("button",{onClick:()=>Gt(gt.clipId),className:"w-full text-left px-6 py-3.5 text-[11px] font-black uppercase hover:bg-[#ffdc5e] hover:text-black transition-all flex items-center gap-4",children:[f.jsx(aa,{size:16})," Clone_Signal"]}),f.jsxs("button",{onClick:()=>{y(T=>T.filter(N=>N.id!==gt.clipId)),dt(null)},className:"w-full text-left px-6 py-3.5 text-[11px] font-black uppercase hover:bg-red-600 hover:text-white transition-all flex items-center gap-4",children:[f.jsx(da,{size:16})," Destroy_Clip"]}),f.jsx("div",{className:"border-t border-white/10 my-2 mx-3"}),f.jsxs("button",{onClick:()=>{K(gt.clipId),z("params"),dt(null)},className:"w-full text-left px-6 py-3.5 text-[11px] font-black uppercase hover:bg-blue-600 hover:text-white transition-all flex items-center gap-4",children:[f.jsx($2,{size:16})," Parameters"]}),f.jsxs("button",{onClick:()=>{g.find(N=>N.id===gt.clipId)&&y(N=>N.map(R=>R.id===gt.clipId?{...R,timeStretch:R.timeStretch===1?.5:R.timeStretch===.5?2:1}:R)),dt(null)},className:"w-full text-left px-6 py-3.5 text-[11px] font-black uppercase hover:bg-purple-600 hover:text-white transition-all flex items-center gap-4",children:[f.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M12 2v20M2 12h20"})}),"Time Stretch"]}),f.jsx("div",{className:"border-t border-white/10 my-2 mx-3"}),f.jsxs("button",{onClick:()=>{const T=g.find(N=>N.id===gt.clipId);if(T&&_>0){const N=Math.max(.1,_-T.startTime);y(R=>R.map(Y=>Y.id===gt.clipId?{...Y,duration:N}:Y))}dt(null)},className:"w-full text-left px-6 py-3.5 text-[11px] font-black uppercase hover:bg-green-600 hover:text-white transition-all flex items-center gap-4",children:[f.jsx(yg,{size:16}),"Clip auf Songlnge"]})]})]})},OC=()=>{const[i,t]=F.useState("home"),[o,l]=F.useState(!1),[r,d]=F.useState(!1),[h,g]=F.useState(""),[y,v]=F.useState({name:"",email:"",message:""}),[x,_]=F.useState(!1),[S,E]=F.useState(!1),I=()=>{t("visuals")},U=k=>{k.preventDefault(),console.log("Newsletter signup:",h),_(!0),setTimeout(()=>{_(!1),g("")},3e3)},M=k=>{k.preventDefault(),console.log("Contact form:",y),E(!0),setTimeout(()=>{E(!1),v({name:"",email:"",message:""})},3e3)};return i==="home"?f.jsxs("div",{className:"min-h-screen bg-[#070707] relative overflow-hidden",children:[f.jsx(bC,{}),f.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-[#070707]/80 backdrop-blur-xl border-b border-white/5",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Cn,{size:28,className:"text-[#ffdc5e]"}),f.jsx("span",{className:"text-white font-black text-lg uppercase tracking-tight",children:"Elastic Pulse"})]}),f.jsx("button",{onClick:I,className:"px-6 py-2.5 bg-[#ffdc5e] text-black rounded-lg font-black uppercase text-xs tracking-wider hover:bg-white transition-all duration-300 hover:scale-105",children:"Launch Studio"})]})}),f.jsx("section",{className:"relative min-h-screen flex flex-col items-center justify-center px-6 py-20 pt-32",children:f.jsxs("div",{className:"flex flex-col items-center text-center z-10 max-w-6xl mx-auto",children:[f.jsxs("div",{className:"relative mb-12",children:[f.jsx(Cn,{size:140,className:"text-[#ffdc5e] animate-pulse shadow-[0_0_100px_rgba(255,220,94,0.6)]"}),f.jsx("div",{className:"absolute inset-0 animate-ping opacity-20",children:f.jsx(Cn,{size:140,className:"text-[#ffdc5e]"})})]}),f.jsxs("h1",{className:"text-[7rem] md:text-[11rem] font-black tracking-[-0.02em] text-white uppercase mb-6 select-none drop-shadow-[0_40px_80px_rgba(0,0,0,1)] leading-[0.9]",children:["Elastic",f.jsx("br",{}),"Pulse"]}),f.jsx("p",{className:"text-[#ffdc5e] font-black tracking-[0.3em] uppercase text-sm mb-6 opacity-90",children:"Professional Visual Sequencer"}),f.jsx("p",{className:"text-slate-300 text-2xl md:text-3xl mb-4 max-w-3xl font-light leading-relaxed",children:"Create stunning real-time visuals with WebGL shaders, AI-powered generation, and professional-grade automation"}),f.jsx("p",{className:"text-slate-500 text-lg mb-16 max-w-2xl",children:"The next-generation VJ software running entirely in your browser. No installation. No limits."}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[f.jsxs("button",{onClick:I,className:"group px-12 py-6 bg-[#ffdc5e] text-black rounded-xl font-black uppercase tracking-[0.3em] text-sm hover:bg-white shadow-[0_40px_100px_rgba(255,220,94,0.6)] transition-all duration-300 flex items-center gap-4 active:scale-95 hover:scale-105",children:["Start Creating",f.jsx(vc,{size:20,className:"group-hover:translate-x-2 transition-transform duration-300"})]}),f.jsxs("div",{className:"flex items-center gap-6 text-slate-400 text-sm",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(K2,{size:16,className:"text-[#ffdc5e]"}),f.jsx("span",{children:"No Installation"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(d2,{size:16,className:"text-[#ffdc5e]"}),f.jsx("span",{children:"GPU Accelerated"})]})]})]})]})}),f.jsx("section",{className:"relative py-32 px-6 z-10 border-y border-white/5 overflow-hidden",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-5xl md:text-6xl font-black text-white uppercase mb-4 tracking-tighter",children:"See It In Action"}),f.jsx("p",{className:"text-slate-400 text-xl max-w-2xl mx-auto",children:"Professional interface designed for creative professionals"})]}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#ffdc5e]/20 via-transparent to-[#ffdc5e]/20 blur-3xl opacity-50 group-hover:opacity-75 transition-opacity duration-500"}),f.jsx("div",{className:"relative bg-[#0a0a0a] border border-white/10 rounded-3xl p-2 shadow-2xl overflow-hidden",children:f.jsx("div",{className:"bg-[#1a1a1a] rounded-2xl overflow-hidden",children:f.jsx("div",{className:"bg-gradient-to-br from-[#1a1a1a] to-[#0f0f0f] p-6",children:f.jsxs("div",{className:"bg-[#070707] rounded-xl border border-white/5 overflow-hidden relative group/screenshot shadow-2xl",children:[f.jsx("img",{src:"/app-screenshot.png",alt:"Elastic Pulse Studio Interface",className:"w-full h-auto object-contain",onError:k=>{const K=k.target;K.style.display="none";const j=K.nextElementSibling;j&&(j.style.display="flex")}}),f.jsxs("div",{className:"hidden flex-col",children:[f.jsxs("div",{className:"bg-[#1a1a1a] border-b border-white/5 px-6 py-3 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Cn,{size:20,className:"text-[#ffdc5e]"}),f.jsx("span",{className:"text-white font-black text-xs uppercase",children:"EP_STUDIO_V32_11"})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"px-4 py-1.5 bg-[#ffdc5e] text-black rounded-full text-[10px] font-black uppercase",children:"Play"}),f.jsx("div",{className:"text-[#ffdc5e] font-mono text-lg",children:"0.00s"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-8 h-8 bg-[#2a2a2a] rounded-lg"}),f.jsx("div",{className:"w-8 h-8 bg-[#2a2a2a] rounded-lg"}),f.jsx("div",{className:"w-8 h-8 bg-[#2a2a2a] rounded-lg"})]})]}),f.jsxs("div",{className:"grid grid-cols-12 gap-4 p-6",children:[f.jsx("div",{className:"col-span-3 bg-[#1a1a1a] rounded-xl p-4 border border-white/5",children:f.jsxs("div",{className:"space-y-3",children:[f.jsx("div",{className:"h-8 bg-[#0a0a0a] rounded-lg border border-white/5"}),f.jsx("div",{className:"h-8 bg-[#0a0a0a] rounded-lg border border-white/5"}),f.jsx("div",{className:"h-8 bg-[#0a0a0a] rounded-lg border border-white/5"}),f.jsx("div",{className:"h-32 bg-[#0a0a0a] rounded-lg border border-white/5 mt-4"})]})}),f.jsxs("div",{className:"col-span-6 bg-[#0a0a0a] rounded-xl border border-white/5 relative overflow-hidden aspect-square",children:[f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-32 h-32 mx-auto mb-4 bg-gradient-to-br from-[#ffdc5e]/20 to-[#ffdc5e]/5 rounded-full flex items-center justify-center border border-[#ffdc5e]/20",children:f.jsx(Cn,{size:48,className:"text-[#ffdc5e] animate-pulse"})}),f.jsx("div",{className:"text-slate-600 text-xs uppercase tracking-wider",children:"Live Canvas"})]})}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#ffdc5e]/10 via-transparent to-[#ffdc5e]/10 animate-pulse"})]}),f.jsx("div",{className:"col-span-3 bg-[#1a1a1a] rounded-xl p-4 border border-white/5",children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex gap-2 mb-4",children:[f.jsx("div",{className:"flex-1 h-8 bg-[#ffdc5e]/20 rounded-lg border border-[#ffdc5e]/30"}),f.jsx("div",{className:"flex-1 h-8 bg-[#0a0a0a] rounded-lg border border-white/5"})]}),f.jsx("div",{className:"h-4 bg-[#0a0a0a] rounded"}),f.jsx("div",{className:"h-4 bg-[#0a0a0a] rounded w-3/4"}),f.jsx("div",{className:"h-16 bg-[#0a0a0a] rounded-lg border border-white/5 mt-4"})]})})]}),f.jsxs("div",{className:"bg-[#0a0a0a] border-t border-white/5 p-4",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[f.jsx("div",{className:"h-6 w-20 bg-[#2a2a2a] rounded"}),f.jsx("div",{className:"h-6 w-20 bg-[#2a2a2a] rounded"}),f.jsx("div",{className:"h-6 w-20 bg-[#ffdc5e]/20 rounded border border-[#ffdc5e]/30"})]}),f.jsxs("div",{className:"h-24 bg-[#080808] rounded-lg border border-white/5 relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsxs("div",{className:"w-full h-1/3 bg-[#2a2a2a] border-b border-white/5 relative",children:[f.jsx("div",{className:"absolute left-1/4 top-0 bottom-0 w-32 bg-[#ffdc5e]/30 rounded border border-[#ffdc5e]/40"}),f.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-24 bg-[#3b82f6]/30 rounded border border-blue-500/40"})]})}),f.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-[#ffdc5e] shadow-[0_0_20px_#ffdc5e]"})]})]})]}),f.jsx("div",{className:"absolute inset-0 opacity-0 group-hover/screenshot:opacity-100 transition-opacity duration-500 bg-gradient-to-br from-[#ffdc5e]/5 to-transparent pointer-events-none"})]})})})}),f.jsx("div",{className:"absolute -bottom-4 left-1/2 -translate-x-1/2 w-3/4 h-24 bg-[#ffdc5e]/10 blur-2xl opacity-50"})]}),f.jsx("div",{className:"text-center mt-12",children:f.jsxs("button",{onClick:I,className:"group inline-flex items-center gap-3 px-8 py-4 bg-[#ffdc5e]/10 border border-[#ffdc5e]/30 text-[#ffdc5e] rounded-xl font-black uppercase text-sm tracking-wider hover:bg-[#ffdc5e]/20 hover:border-[#ffdc5e]/50 transition-all duration-300 hover:scale-105",children:[f.jsx(xg,{size:20}),"Try It Live",f.jsx(vc,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})})]})}),f.jsx("section",{className:"relative py-20 px-6 z-10 border-b border-white/5",children:f.jsx("div",{className:"max-w-7xl mx-auto",children:f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-5xl font-black text-[#ffdc5e] mb-2",children:"24+"}),f.jsx("p",{className:"text-slate-400 text-sm uppercase tracking-wider",children:"Shader Library"})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-5xl font-black text-[#ffdc5e] mb-2",children:"10"}),f.jsx("p",{className:"text-slate-400 text-sm uppercase tracking-wider",children:"Audio Bands"})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-5xl font-black text-[#ffdc5e] mb-2",children:"8"}),f.jsx("p",{className:"text-slate-400 text-sm uppercase tracking-wider",children:"Timeline Tracks"})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-5xl font-black text-[#ffdc5e] mb-2",children:"60+"}),f.jsx("p",{className:"text-slate-400 text-sm uppercase tracking-wider",children:"Master Effects"})]})]})})}),f.jsx("section",{className:"relative py-32 px-6 z-10",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-20",children:[f.jsx("h2",{className:"text-6xl md:text-7xl font-black text-white uppercase mb-6 tracking-tighter",children:"Powerful Features"}),f.jsx("p",{className:"text-slate-400 text-xl max-w-2xl mx-auto",children:"Everything you need to create professional real-time visuals"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"group bg-gradient-to-br from-[#1a1a1a] to-[#0f0f0f] border border-white/10 rounded-2xl p-8 hover:border-[#ffdc5e]/40 transition-all duration-300 hover:scale-[1.02] hover:shadow-[0_0_40px_rgba(255,220,94,0.2)]",children:[f.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-[#ffdc5e]/20 to-[#ffdc5e]/5 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:f.jsx(h0,{size:40,className:"text-[#ffdc5e]"})}),f.jsx("h3",{className:"text-2xl font-black text-white uppercase mb-4",children:"Professional Shader Editor"}),f.jsx("p",{className:"text-slate-400 leading-relaxed mb-4",children:"Monaco Editor with full GLSL syntax highlighting, real-time compilation, and intelligent error detection. Write, test, and iterate instantly."}),f.jsxs("ul",{className:"text-slate-500 text-sm space-y-2",children:[f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(wt,{size:12,className:"text-[#ffdc5e]"})," Auto-completion"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(wt,{size:12,className:"text-[#ffdc5e]"})," Live preview"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(wt,{size:12,className:"text-[#ffdc5e]"})," Error diagnostics"]})]})]}),f.jsxs("div",{className:"group bg-gradient-to-br from-[#1a1a1a] to-[#0f0f0f] border border-white/10 rounded-2xl p-8 hover:border-[#ffdc5e]/40 transition-all duration-300 hover:scale-[1.02] hover:shadow-[0_0_40px_rgba(255,220,94,0.2)]",children:[f.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-[#ffdc5e]/20 to-[#ffdc5e]/5 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:f.jsx(Uc,{size:40,className:"text-[#ffdc5e]"})}),f.jsx("h3",{className:"text-2xl font-black text-white uppercase mb-4",children:"Advanced Audio Analysis"}),f.jsx("p",{className:"text-slate-400 leading-relaxed mb-4",children:"10-band spectral analysis with kick/snare detection. Tie any parameter to frequency bands for dynamic, music-synced visuals."}),f.jsxs("ul",{className:"text-slate-500 text-sm space-y-2",children:[f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(wt,{size:12,className:"text-[#ffdc5e]"})," Sub, Bass, Mid, Treble"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(wt,{size:12,className:"text-[#ffdc5e]"})," Kick & Snare detection"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(wt,{size:12,className:"text-[#ffdc5e]"})," Real-time FFT"]})]})]}),f.jsxs("div",{className:"group bg-gradient-to-br from-[#1a1a1a] to-[#0f0f0f] border border-white/10 rounded-2xl p-8 hover:border-[#ffdc5e]/40 transition-all duration-300 hover:scale-[1.02] hover:shadow-[0_0_40px_rgba(255,220,94,0.2)]",children:[f.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-[#ffdc5e]/20 to-[#ffdc5e]/5 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:f.jsx(tC,{size:40,className:"text-[#ffdc5e]"})}),f.jsx("h3",{className:"text-2xl font-black text-white uppercase mb-4",children:"Visual Automation"}),f.jsx("p",{className:"text-slate-400 leading-relaxed mb-4",children:"Keyframe-based automation with Bezier curves, easing functions, and visual timeline editing. Precise control over every parameter."}),f.jsxs("ul",{className:"text-slate-500 text-sm space-y-2",children:[f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(wt,{size:12,className:"text-[#ffdc5e]"})," Multiple curve types"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(wt,{size:12,className:"text-[#ffdc5e]"})," Copy & paste automation"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(wt,{size:12,className:"text-[#ffdc5e]"})," Visual lanes"]})]})]}),f.jsxs("div",{className:"group bg-gradient-to-br from-[#1a1a1a] to-[#0f0f0f] border border-white/10 rounded-2xl p-8 hover:border-[#ffdc5e]/40 transition-all duration-300 hover:scale-[1.02] hover:shadow-[0_0_40px_rgba(255,220,94,0.2)]",children:[f.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-[#ffdc5e]/20 to-[#ffdc5e]/5 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:f.jsx(_g,{size:40,className:"text-[#ffdc5e]"})}),f.jsx("h3",{className:"text-2xl font-black text-white uppercase mb-4",children:"AI-Powered Generation"}),f.jsx("p",{className:"text-slate-400 leading-relaxed mb-4",children:"Neural shader generation powered by Google Gemini. Describe your vision in natural language and get production-ready GLSL code."}),f.jsxs("ul",{className:"text-slate-500 text-sm space-y-2",children:[f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(wt,{size:12,className:"text-[#ffdc5e]"})," Natural language input"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(wt,{size:12,className:"text-[#ffdc5e]"})," Instant generation"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(wt,{size:12,className:"text-[#ffdc5e]"})," Ready to use"]})]})]}),f.jsxs("div",{className:"group bg-gradient-to-br from-[#1a1a1a] to-[#0f0f0f] border border-white/10 rounded-2xl p-8 hover:border-[#ffdc5e]/40 transition-all duration-300 hover:scale-[1.02] hover:shadow-[0_0_40px_rgba(255,220,94,0.2)]",children:[f.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-[#ffdc5e]/20 to-[#ffdc5e]/5 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:f.jsx(fa,{size:40,className:"text-[#ffdc5e]"})}),f.jsx("h3",{className:"text-2xl font-black text-white uppercase mb-4",children:"Professional Export"}),f.jsx("p",{className:"text-slate-400 leading-relaxed mb-4",children:"Export high-quality MP4 videos or WebM streams. FFmpeg.wasm integration for browser-based rendering at any resolution."}),f.jsxs("ul",{className:"text-slate-500 text-sm space-y-2",children:[f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(wt,{size:12,className:"text-[#ffdc5e]"})," MP4 & WebM formats"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(wt,{size:12,className:"text-[#ffdc5e]"})," Custom resolution"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(wt,{size:12,className:"text-[#ffdc5e]"})," Frame export"]})]})]}),f.jsxs("div",{className:"group bg-gradient-to-br from-[#1a1a1a] to-[#0f0f0f] border border-white/10 rounded-2xl p-8 hover:border-[#ffdc5e]/40 transition-all duration-300 hover:scale-[1.02] hover:shadow-[0_0_40px_rgba(255,220,94,0.2)]",children:[f.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-[#ffdc5e]/20 to-[#ffdc5e]/5 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:f.jsx(m0,{size:40,className:"text-[#ffdc5e]"})}),f.jsx("h3",{className:"text-2xl font-black text-white uppercase mb-4",children:"MIDI Integration"}),f.jsx("p",{className:"text-slate-400 leading-relaxed mb-4",children:"Full MIDI support with learn mode. Map hardware controllers to any parameter for live performance and real-time manipulation."}),f.jsxs("ul",{className:"text-slate-500 text-sm space-y-2",children:[f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(wt,{size:12,className:"text-[#ffdc5e]"})," Learn mode"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(wt,{size:12,className:"text-[#ffdc5e]"})," Multiple devices"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(wt,{size:12,className:"text-[#ffdc5e]"})," Real-time control"]})]})]})]})]})}),f.jsx("section",{className:"relative py-32 px-6 z-10 border-t border-white/5 bg-gradient-to-b from-transparent to-[#0a0a0a]/50",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-20",children:[f.jsx("h2",{className:"text-6xl md:text-7xl font-black text-white uppercase mb-6 tracking-tighter",children:"Advanced Capabilities"}),f.jsx("p",{className:"text-slate-400 text-xl max-w-2xl mx-auto",children:"Professional tools for demanding workflows"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-[#1a1a1a]/60 border border-white/5 rounded-2xl p-8",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[f.jsx(vg,{size:32,className:"text-[#ffdc5e]"}),f.jsx("h3",{className:"text-xl font-black text-white uppercase",children:"LFO System"})]}),f.jsx("p",{className:"text-slate-400",children:"Multiple LFOs per clip with Sine, Triangle, Square, and Noise waveforms. Modulate any parameter with configurable frequency and amplitude."})]}),f.jsxs("div",{className:"bg-[#1a1a1a]/60 border border-white/5 rounded-2xl p-8",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[f.jsx(hg,{size:32,className:"text-[#ffdc5e]"}),f.jsx("h3",{className:"text-xl font-black text-white uppercase",children:"9 Blend Modes"})]}),f.jsx("p",{className:"text-slate-400",children:"Normal, Add, Multiply, Screen, Overlay, Softlight, Hardlight, Dodge, and Burn. Professional compositing directly in the timeline."})]}),f.jsxs("div",{className:"bg-[#1a1a1a]/60 border border-white/5 rounded-2xl p-8",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[f.jsx(pl,{size:32,className:"text-[#ffdc5e]"}),f.jsx("h3",{className:"text-xl font-black text-white uppercase",children:"Master Effects"})]}),f.jsx("p",{className:"text-slate-400",children:"60+ master effects including Bloom, Feedback, Strobe, Chroma Burst, Edge Detection, Pixelate, and more. Post-process your entire composition."})]}),f.jsxs("div",{className:"bg-[#1a1a1a]/60 border border-white/5 rounded-2xl p-8",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[f.jsx(aC,{size:32,className:"text-[#ffdc5e]"}),f.jsx("h3",{className:"text-xl font-black text-white uppercase",children:"Time Stretching"})]}),f.jsx("p",{className:"text-slate-400",children:"Adjust clip playback speed without pitch changes. Perfect for tempo matching and creative time manipulation."})]}),f.jsxs("div",{className:"bg-[#1a1a1a]/60 border border-white/5 rounded-2xl p-8",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[f.jsx(E2,{size:32,className:"text-[#ffdc5e]"}),f.jsx("h3",{className:"text-xl font-black text-white uppercase",children:"Beat Grid & Snap"})]}),f.jsx("p",{className:"text-slate-400",children:"Musical quantization with 1/4, 1/8, 1/16, and 1/32 beat grid. Automatic BPM detection and beat-synced clip placement."})]}),f.jsxs("div",{className:"bg-[#1a1a1a]/60 border border-white/5 rounded-2xl p-8",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[f.jsx(iC,{size:32,className:"text-[#ffdc5e]"}),f.jsx("h3",{className:"text-xl font-black text-white uppercase",children:"Text Overlays"})]}),f.jsx("p",{className:"text-slate-400",children:"Multiple text overlay modes: Terminal, Matrix, Blueprint, Radar, Glitch, Hacker. Perfect for live shows and presentations."})]})]})]})}),f.jsx("section",{className:"relative py-32 px-6 z-10 border-t border-white/5",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-20",children:[f.jsx("h2",{className:"text-5xl font-black text-white uppercase mb-6 tracking-tighter",children:"Built With Modern Technology"}),f.jsx("p",{className:"text-slate-400 text-lg",children:"Cutting-edge web technologies for maximum performance"})]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[f.jsxs("div",{className:"bg-[#1a1a1a]/40 border border-white/5 rounded-2xl p-8 text-center hover:border-[#ffdc5e]/30 transition-all duration-300",children:[f.jsx("div",{className:"text-5xl font-black text-[#ffdc5e] mb-3",children:"WebGL"}),f.jsx("p",{className:"text-slate-500 text-sm uppercase tracking-wider",children:"GPU Acceleration"}),f.jsx("p",{className:"text-slate-600 text-xs mt-2",children:"Hardware-accelerated rendering"})]}),f.jsxs("div",{className:"bg-[#1a1a1a]/40 border border-white/5 rounded-2xl p-8 text-center hover:border-[#ffdc5e]/30 transition-all duration-300",children:[f.jsx("div",{className:"text-5xl font-black text-[#ffdc5e] mb-3",children:"React"}),f.jsx("p",{className:"text-slate-500 text-sm uppercase tracking-wider",children:"Modern UI"}),f.jsx("p",{className:"text-slate-600 text-xs mt-2",children:"Component-based architecture"})]}),f.jsxs("div",{className:"bg-[#1a1a1a]/40 border border-white/5 rounded-2xl p-8 text-center hover:border-[#ffdc5e]/30 transition-all duration-300",children:[f.jsx("div",{className:"text-5xl font-black text-[#ffdc5e] mb-3",children:"TS"}),f.jsx("p",{className:"text-slate-500 text-sm uppercase tracking-wider",children:"Type Safe"}),f.jsx("p",{className:"text-slate-600 text-xs mt-2",children:"Full type coverage"})]}),f.jsxs("div",{className:"bg-[#1a1a1a]/40 border border-white/5 rounded-2xl p-8 text-center hover:border-[#ffdc5e]/30 transition-all duration-300",children:[f.jsx("div",{className:"text-5xl font-black text-[#ffdc5e] mb-3",children:"Vite"}),f.jsx("p",{className:"text-slate-500 text-sm uppercase tracking-wider",children:"Fast Build"}),f.jsx("p",{className:"text-slate-600 text-xs mt-2",children:"Lightning-fast HMR"})]})]})]})}),f.jsx("section",{className:"relative py-32 px-6 z-10 border-t border-white/5",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsx("div",{className:"text-center mb-20",children:f.jsx("h2",{className:"text-6xl md:text-7xl font-black text-white uppercase mb-6 tracking-tighter",children:"Perfect For"})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-24 h-24 bg-[#ffdc5e]/10 rounded-full flex items-center justify-center mx-auto mb-6",children:f.jsx(m0,{size:48,className:"text-[#ffdc5e]"})}),f.jsx("h3",{className:"text-2xl font-black text-white uppercase mb-4",children:"Live Performance"}),f.jsx("p",{className:"text-slate-400",children:"VJ for concerts, festivals, and events. Real-time audio-reactive visuals with MIDI control for dynamic live shows."})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-24 h-24 bg-[#ffdc5e]/10 rounded-full flex items-center justify-center mx-auto mb-6",children:f.jsx(fa,{size:48,className:"text-[#ffdc5e]"})}),f.jsx("h3",{className:"text-2xl font-black text-white uppercase mb-4",children:"Content Creation"}),f.jsx("p",{className:"text-slate-400",children:"Create stunning visual content for social media, music videos, and digital art. Export in any resolution."})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-24 h-24 bg-[#ffdc5e]/10 rounded-full flex items-center justify-center mx-auto mb-6",children:f.jsx(h0,{size:48,className:"text-[#ffdc5e]"})}),f.jsx("h3",{className:"text-2xl font-black text-white uppercase mb-4",children:"Shader Development"}),f.jsx("p",{className:"text-slate-400",children:"Learn and experiment with GLSL shaders. Perfect for developers and artists exploring real-time graphics."})]})]})]})}),f.jsx("section",{className:"relative py-32 px-6 z-10 border-t border-white/5 bg-gradient-to-b from-transparent to-[#0a0a0a]/50",children:f.jsx("div",{className:"max-w-6xl mx-auto",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[f.jsxs("div",{className:"bg-gradient-to-br from-[#1a1a1a] to-[#0f0f0f] border border-white/10 rounded-2xl p-8",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[f.jsx("div",{className:"w-16 h-16 bg-[#ffdc5e]/10 rounded-xl flex items-center justify-center",children:f.jsx(N2,{size:32,className:"text-[#ffdc5e]"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-black text-white uppercase",children:"Newsletter"}),f.jsx("p",{className:"text-slate-400 text-sm",children:"Stay updated with new features"})]})]}),f.jsxs("form",{onSubmit:U,className:"space-y-4",children:[f.jsx("input",{type:"email",value:h,onChange:k=>g(k.target.value),placeholder:"your.email@example.com",required:!0,className:"w-full bg-[#0a0a0a] border border-white/10 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:border-[#ffdc5e]/40 focus:outline-none transition-all duration-300"}),f.jsx("button",{type:"submit",disabled:x,className:"w-full px-6 py-3 bg-[#ffdc5e] text-black rounded-xl font-black uppercase text-sm tracking-wider hover:bg-white transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?f.jsxs(f.Fragment,{children:[f.jsx(Js,{size:16,className:"animate-spin"}),"Subscribed!"]}):f.jsxs(f.Fragment,{children:[f.jsx(xc,{size:16}),"Subscribe"]})})]}),f.jsx("p",{className:"text-slate-600 text-xs mt-4",children:"We respect your privacy. Unsubscribe anytime."})]}),f.jsxs("div",{className:"bg-gradient-to-br from-[#1a1a1a] to-[#0f0f0f] border border-white/10 rounded-2xl p-8",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[f.jsx("div",{className:"w-16 h-16 bg-[#ffdc5e]/10 rounded-xl flex items-center justify-center",children:f.jsx(xc,{size:32,className:"text-[#ffdc5e]"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-black text-white uppercase",children:"Contact"}),f.jsx("p",{className:"text-slate-400 text-sm",children:"Get in touch with us"})]})]}),f.jsxs("form",{onSubmit:M,className:"space-y-4",children:[f.jsx("input",{type:"text",value:y.name,onChange:k=>v({...y,name:k.target.value}),placeholder:"Your Name",required:!0,className:"w-full bg-[#0a0a0a] border border-white/10 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:border-[#ffdc5e]/40 focus:outline-none transition-all duration-300"}),f.jsx("input",{type:"email",value:y.email,onChange:k=>v({...y,email:k.target.value}),placeholder:"your.email@example.com",required:!0,className:"w-full bg-[#0a0a0a] border border-white/10 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:border-[#ffdc5e]/40 focus:outline-none transition-all duration-300"}),f.jsx("textarea",{value:y.message,onChange:k=>v({...y,message:k.target.value}),placeholder:"Your Message",required:!0,rows:4,className:"w-full bg-[#0a0a0a] border border-white/10 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:border-[#ffdc5e]/40 focus:outline-none transition-all duration-300 resize-none"}),f.jsx("button",{type:"submit",disabled:S,className:"w-full px-6 py-3 bg-[#ffdc5e] text-black rounded-xl font-black uppercase text-sm tracking-wider hover:bg-white transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:S?f.jsxs(f.Fragment,{children:[f.jsx(Js,{size:16,className:"animate-spin"}),"Sent!"]}):f.jsxs(f.Fragment,{children:[f.jsx(xc,{size:16}),"Send Message"]})})]})]})]})})}),f.jsx("section",{className:"relative py-40 px-6 z-10 border-t border-white/5 bg-gradient-to-b from-transparent via-[#0a0a0a]/30 to-transparent",children:f.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[f.jsxs("h2",{className:"text-7xl md:text-8xl font-black text-white uppercase mb-8 tracking-tighter leading-none",children:["Start Creating",f.jsx("br",{}),"Today"]}),f.jsx("p",{className:"text-2xl text-slate-300 mb-4 max-w-2xl mx-auto",children:"No installation. No credit card. Just pure creative power."}),f.jsx("p",{className:"text-lg text-slate-500 mb-12",children:"Experience the future of real-time visual creation"}),f.jsxs("button",{onClick:I,className:"group px-16 py-8 bg-[#ffdc5e] text-black rounded-2xl font-black uppercase tracking-[0.3em] text-base hover:bg-white shadow-[0_40px_100px_rgba(255,220,94,0.6)] transition-all duration-300 flex items-center gap-6 active:scale-95 hover:scale-105 mx-auto",children:["Launch Elastic Pulse Studio",f.jsx(vc,{size:24,className:"group-hover:translate-x-3 transition-transform duration-300"})]}),f.jsx("p",{className:"text-slate-600 text-sm mt-8 uppercase tracking-wider",children:"100% Free  Runs in Browser  No Signup Required"})]})}),f.jsx("footer",{className:"relative py-16 px-6 z-10 border-t border-white/5 bg-[#0a0a0a]",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx(Cn,{size:24,className:"text-[#ffdc5e]"}),f.jsx("span",{className:"text-white font-black text-sm uppercase tracking-tight",children:"Elastic Pulse Studio"})]}),f.jsx("p",{className:"text-slate-600 text-xs mb-2",children:"Professional WebGL visual sequencer"}),f.jsx("p",{className:"text-slate-700 text-xs",children:"Version 32.11 | Titan Core Engine"})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-white font-black text-xs uppercase tracking-wider mb-4",children:"Legal"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("button",{onClick:()=>l(!0),className:"block text-slate-500 hover:text-[#ffdc5e] text-xs uppercase tracking-wider transition-colors duration-300",children:"Datenschutz"}),f.jsx("button",{onClick:()=>d(!0),className:"block text-slate-500 hover:text-[#ffdc5e] text-xs uppercase tracking-wider transition-colors duration-300",children:"Impressum"})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-white font-black text-xs uppercase tracking-wider mb-4",children:"Info"}),f.jsxs("div",{className:"space-y-2 text-slate-500 text-xs",children:[f.jsx("p",{children:"Built with WebGL, React, TypeScript & Vite"}),f.jsx("p",{children:"Open Source  MIT License"}),f.jsx("p",{className:"text-slate-700",children:" 2024 Elastic Pulse Studio"})]})]})]}),f.jsx("div",{className:"border-t border-white/5 pt-8 text-center",children:f.jsx("p",{className:"text-slate-700 text-xs",children:"All rights reserved. Elastic Pulse Studio is a demonstration project."})})]})}),o&&f.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",onClick:()=>l(!1),children:f.jsxs("div",{className:"bg-[#1a1a1a] border border-white/10 rounded-2xl p-8 max-w-3xl max-h-[80vh] overflow-y-auto",onClick:k=>k.stopPropagation(),children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-3xl font-black text-white uppercase",children:"Datenschutzerklrung"}),f.jsx("button",{onClick:()=>l(!1),className:"text-slate-500 hover:text-white transition-colors",children:f.jsx(Bn,{size:24})})]}),f.jsxs("div",{className:"space-y-6 text-slate-300 text-sm leading-relaxed",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"1. Datenerhebung und -speicherung"}),f.jsx("p",{children:"Elastic Pulse Studio ist eine browserbasierte Anwendung. Wir erheben und speichern keine personenbezogenen Daten. Alle Daten werden lokal in Ihrem Browser gespeichert (LocalStorage)."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"2. Lokale Datenspeicherung"}),f.jsx("p",{children:"Die Anwendung nutzt LocalStorage fr die Speicherung von Projekten, Shadern und Einstellungen. Diese Daten verbleiben ausschlielich auf Ihrem Gert und werden nicht an Server bertragen. Sie knnen diese Daten jederzeit ber die Browser-Einstellungen lschen."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"3. Audio-Verarbeitung"}),f.jsx("p",{children:"Audio-Dateien werden lokal in Ihrem Browser verarbeitet. Es erfolgt keine bertragung von Audio-Daten an externe Server. Bei Verwendung des Mikrofon-Inputs erfolgt die Verarbeitung ausschlielich lokal auf Ihrem Gert. Die Audio-Analyse dient ausschlielich der Generierung von visuellen Effekten in Echtzeit."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"4. AI-Shader-Generierung"}),f.jsxs("p",{children:["Bei Verwendung der AI-Shader-Generierung werden Ihre Prompt-Eingaben an Google Gemini bermittelt. Diese Datenbertragung erfolgt zur Generierung von Shader-Code. Bitte beachten Sie die ",f.jsx("a",{href:"https://policies.google.com/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-[#ffdc5e] hover:underline",children:"Datenschutzerklrung von Google"})," fr weitere Informationen zur Datenverarbeitung durch Google Gemini."]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"5. Newsletter und Kontaktformular"}),f.jsx("p",{children:"Falls Sie unseren Newsletter abonnieren oder das Kontaktformular nutzen, werden die von Ihnen eingegebenen Daten (E-Mail-Adresse, Name, Nachricht) ausschlielich zur Bearbeitung Ihrer Anfrage oder zum Versand des Newsletters verwendet. Eine Weitergabe an Dritte erfolgt nicht. Sie knnen Ihre Einwilligung jederzeit widerrufen."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"6. Cookies und Tracking"}),f.jsx("p",{children:"Wir verwenden keine Cookies oder Tracking-Technologien. Die Anwendung funktioniert ohne jegliche Tracking-Mechanismen. Es werden keine Analyse-Tools wie Google Analytics verwendet."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"7. Ihre Rechte nach DSGVO"}),f.jsx("p",{children:"Sie haben das Recht auf Auskunft ber Ihre gespeicherten personenbezogenen Daten, auf Berichtigung, Lschung oder Einschrnkung der Verarbeitung sowie auf Datenbertragbarkeit. Zudem steht Ihnen ein Widerspruchsrecht zu. Da wir keine personenbezogenen Daten erheben, gibt es keine gespeicherten Daten, die gelscht werden knnten. Sie knnen jederzeit die LocalStorage-Daten in Ihrem Browser lschen."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"8. Kontakt zum Datenschutzbeauftragten"}),f.jsx("p",{children:"Bei Fragen zum Datenschutz knnen Sie uns ber das Kontaktformular oder per E-Mail erreichen. Bitte verwenden Sie hierfr die im Impressum angegebenen Kontaktdaten."})]}),f.jsx("div",{className:"pt-4 border-t border-white/5",children:f.jsxs("p",{className:"text-slate-500 text-xs",children:["Stand: ",new Date().toLocaleDateString("de-DE")]})})]})]})}),r&&f.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",onClick:()=>d(!1),children:f.jsxs("div",{className:"bg-[#1a1a1a] border border-white/10 rounded-2xl p-8 max-w-3xl max-h-[80vh] overflow-y-auto",onClick:k=>k.stopPropagation(),children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-3xl font-black text-white uppercase",children:"Impressum"}),f.jsx("button",{onClick:()=>d(!1),className:"text-slate-500 hover:text-white transition-colors",children:f.jsx(Bn,{size:24})})]}),f.jsxs("div",{className:"space-y-6 text-slate-300 text-sm leading-relaxed",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"Angaben gem  5 TMG"}),f.jsx("p",{className:"text-white font-semibold mb-1",children:"Elastic Pulse Studio"}),f.jsxs("p",{children:["[Ihr Name]",f.jsx("br",{}),"[Strae und Hausnummer]",f.jsx("br",{}),"[Postleitzahl] [Ort]",f.jsx("br",{}),"Deutschland"]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"Kontakt"}),f.jsxs("p",{children:["E-Mail: ",f.jsx("a",{href:"mailto:contact@elasticpulse.studio",className:"text-[#ffdc5e] hover:underline",children:"contact@elasticpulse.studio"}),f.jsx("br",{}),"Website: ",f.jsx("a",{href:"https://www.elasticpulse.studio",target:"_blank",rel:"noopener noreferrer",className:"text-[#ffdc5e] hover:underline",children:"www.elasticpulse.studio"})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"Verantwortlich fr den Inhalt"}),f.jsxs("p",{children:["Nach  55 Abs. 2 RStV verantwortlich fr den Inhalt:",f.jsx("br",{}),"[Ihr Name]",f.jsx("br",{}),"[Strae und Hausnummer]",f.jsx("br",{}),"[Postleitzahl] [Ort]"]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"Haftungsausschluss"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-white font-semibold mb-1",children:"Haftung fr Inhalte"}),f.jsx("p",{children:"Als Diensteanbieter sind wir gem  7 Abs.1 TMG fr eigene Inhalte auf diesen Seiten nach den allgemeinen Gesetzen verantwortlich. Nach  8 bis 10 TMG sind wir als Diensteanbieter jedoch nicht verpflichtet, bermittelte oder gespeicherte fremde Informationen zu berwachen oder nach Umstnden zu forschen, die auf eine rechtswidrige Ttigkeit hinweisen. Verpflichtungen zur Entfernung oder Sperrung der Nutzung von Informationen nach den allgemeinen Gesetzen bleiben hiervon unberhrt. Eine diesbezgliche Haftung ist jedoch erst ab dem Zeitpunkt der Kenntnis einer konkreten Rechtsverletzung mglich. Bei Bekanntwerden von entsprechenden Rechtsverletzungen werden wir diese Inhalte umgehend entfernen."})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-white font-semibold mb-1",children:"Haftung fr Links"}),f.jsx("p",{children:"Unser Angebot enthlt Links zu externen Webseiten Dritter, auf deren Inhalte wir keinen Einfluss haben. Deshalb knnen wir fr diese fremden Inhalte auch keine Gewhr bernehmen. Fr die Inhalte der verlinkten Seiten ist stets der jeweilige Anbieter oder Betreiber der Seiten verantwortlich. Die verlinkten Seiten wurden zum Zeitpunkt der Verlinkung auf mgliche Rechtsverste berprft. Rechtswidrige Inhalte waren zum Zeitpunkt der Verlinkung nicht erkennbar. Eine permanente inhaltliche Kontrolle der verlinkten Seiten ist jedoch ohne konkrete Anhaltspunkte einer Rechtsverletzung nicht zumutbar. Bei Bekanntwerden von Rechtsverletzungen werden wir derartige Links umgehend entfernen."})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-white font-semibold mb-1",children:"Urheberrecht"}),f.jsx("p",{children:"Die durch die Seitenbetreiber erstellten Inhalte und Werke auf diesen Seiten unterliegen dem deutschen Urheberrecht. Die Vervielfltigung, Bearbeitung, Verbreitung und jede Art der Verwertung auerhalb der Grenzen des Urheberrechtes bedrfen der schriftlichen Zustimmung des jeweiligen Autors bzw. Erstellers. Downloads und Kopien dieser Seite sind nur fr den privaten, nicht kommerziellen Gebrauch gestattet. Soweit die Inhalte auf dieser Seite nicht vom Betreiber erstellt wurden, werden die Urheberrechte Dritter beachtet. Insbesondere werden Inhalte Dritter als solche gekennzeichnet. Sollten Sie trotzdem auf eine Urheberrechtsverletzung aufmerksam werden, bitten wir um einen entsprechenden Hinweis. Bei Bekanntwerden von Rechtsverletzungen werden wir derartige Inhalte umgehend entfernen."})]})]})]}),f.jsx("div",{className:"pt-4 border-t border-white/5",children:f.jsxs("p",{className:"text-slate-500 text-xs",children:["Stand: ",new Date().toLocaleDateString("de-DE")]})})]})]})})]}):f.jsx(FC,{onExit:()=>t("home")})},jC=zy.createRoot(document.getElementById("root"));jC.render(f.jsx(vC,{children:f.jsx(OC,{})}));export{My as W,F as r};
