const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Bvj6dsbA.js","assets/monaco-editor-CjinG6ix.js","assets/monaco-editor-Cq4JNDD7.css"])))=>i.map(i=>d[i]);
import{_ as Ey}from"./monaco-editor-CjinG6ix.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function o(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(r){if(r.ep)return;r.ep=!0;const d=o(r);fetch(r.href,d)}})();function Cy(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var fc={exports:{}},El={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function Ay(){if(Em)return El;Em=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(l,r,d){var m=null;if(d!==void 0&&(m=""+d),r.key!==void 0&&(m=""+r.key),"key"in r){d={};for(var g in r)g!=="key"&&(d[g]=r[g])}else d=r;return r=d.ref,{$$typeof:i,type:l,key:m,ref:r!==void 0?r:null,props:d}}return El.Fragment=t,El.jsx=o,El.jsxs=o,El}var Cm;function Ny(){return Cm||(Cm=1,fc.exports=Ay()),fc.exports}var f=Ny(),pc={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function wy(){if(Am)return Ge;Am=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function C(I){return I===null||typeof I!="object"?null:(I=S&&I[S]||I["@@iterator"],typeof I=="function"?I:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,R={};function U(I,P,ee){this.props=I,this.context=P,this.refs=R,this.updater=ee||D}U.prototype.isReactComponent={},U.prototype.setState=function(I,P){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,P,"setState")},U.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function X(){}X.prototype=U.prototype;function j(I,P,ee){this.props=I,this.context=P,this.refs=R,this.updater=ee||D}var oe=j.prototype=new X;oe.constructor=j,k(oe,U.prototype),oe.isPureReactComponent=!0;var ae=Array.isArray;function E(){}var Z={H:null,A:null,T:null,S:null},_e=Object.prototype.hasOwnProperty;function le(I,P,ee){var re=ee.ref;return{$$typeof:i,type:I,key:P,ref:re!==void 0?re:null,props:ee}}function xe(I,P){return le(I.type,P,I.props)}function Q(I){return typeof I=="object"&&I!==null&&I.$$typeof===i}function se(I){var P={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ee){return P[ee]})}var fe=/\/+/g;function qe(I,P){return typeof I=="object"&&I!==null&&I.key!=null?se(""+I.key):P.toString(36)}function $e(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(E,E):(I.status="pending",I.then(function(P){I.status==="pending"&&(I.status="fulfilled",I.value=P)},function(P){I.status==="pending"&&(I.status="rejected",I.reason=P)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function V(I,P,ee,re,me){var Be=typeof I;(Be==="undefined"||Be==="boolean")&&(I=null);var ce=!1;if(I===null)ce=!0;else switch(Be){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(I.$$typeof){case i:case t:ce=!0;break;case x:return ce=I._init,V(ce(I._payload),P,ee,re,me)}}if(ce)return me=me(I),ce=re===""?"."+qe(I,0):re,ae(me)?(ee="",ce!=null&&(ee=ce.replace(fe,"$&/")+"/"),V(me,P,ee,"",function(we){return we})):me!=null&&(Q(me)&&(me=xe(me,ee+(me.key==null||I&&I.key===me.key?"":(""+me.key).replace(fe,"$&/")+"/")+ce)),P.push(me)),1;ce=0;var tt=re===""?".":re+":";if(ae(I))for(var ue=0;ue<I.length;ue++)re=I[ue],Be=tt+qe(re,ue),ce+=V(re,P,ee,Be,me);else if(ue=C(I),typeof ue=="function")for(I=ue.call(I),ue=0;!(re=I.next()).done;)re=re.value,Be=tt+qe(re,ue++),ce+=V(re,P,ee,Be,me);else if(Be==="object"){if(typeof I.then=="function")return V($e(I),P,ee,re,me);throw P=String(I),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ce}function W(I,P,ee){if(I==null)return I;var re=[],me=0;return V(I,re,"","",function(Be){return P.call(ee,Be,me++)}),re}function te(I){if(I._status===-1){var P=I._result;P=P(),P.then(function(ee){(I._status===0||I._status===-1)&&(I._status=1,I._result=ee)},function(ee){(I._status===0||I._status===-1)&&(I._status=2,I._result=ee)}),I._status===-1&&(I._status=0,I._result=P)}if(I._status===1)return I._result.default;throw I._result}var pe=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},ge={map:W,forEach:function(I,P,ee){W(I,function(){P.apply(this,arguments)},ee)},count:function(I){var P=0;return W(I,function(){P++}),P},toArray:function(I){return W(I,function(P){return P})||[]},only:function(I){if(!Q(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Ge.Activity=_,Ge.Children=ge,Ge.Component=U,Ge.Fragment=o,Ge.Profiler=r,Ge.PureComponent=j,Ge.StrictMode=l,Ge.Suspense=y,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(I){return Z.H.useMemoCache(I)}},Ge.cache=function(I){return function(){return I.apply(null,arguments)}},Ge.cacheSignal=function(){return null},Ge.cloneElement=function(I,P,ee){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var re=k({},I.props),me=I.key;if(P!=null)for(Be in P.key!==void 0&&(me=""+P.key),P)!_e.call(P,Be)||Be==="key"||Be==="__self"||Be==="__source"||Be==="ref"&&P.ref===void 0||(re[Be]=P[Be]);var Be=arguments.length-2;if(Be===1)re.children=ee;else if(1<Be){for(var ce=Array(Be),tt=0;tt<Be;tt++)ce[tt]=arguments[tt+2];re.children=ce}return le(I.type,me,re)},Ge.createContext=function(I){return I={$$typeof:m,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:d,_context:I},I},Ge.createElement=function(I,P,ee){var re,me={},Be=null;if(P!=null)for(re in P.key!==void 0&&(Be=""+P.key),P)_e.call(P,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(me[re]=P[re]);var ce=arguments.length-2;if(ce===1)me.children=ee;else if(1<ce){for(var tt=Array(ce),ue=0;ue<ce;ue++)tt[ue]=arguments[ue+2];me.children=tt}if(I&&I.defaultProps)for(re in ce=I.defaultProps,ce)me[re]===void 0&&(me[re]=ce[re]);return le(I,Be,me)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(I){return{$$typeof:g,render:I}},Ge.isValidElement=Q,Ge.lazy=function(I){return{$$typeof:x,_payload:{_status:-1,_result:I},_init:te}},Ge.memo=function(I,P){return{$$typeof:v,type:I,compare:P===void 0?null:P}},Ge.startTransition=function(I){var P=Z.T,ee={};Z.T=ee;try{var re=I(),me=Z.S;me!==null&&me(ee,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(E,pe)}catch(Be){pe(Be)}finally{P!==null&&ee.types!==null&&(P.types=ee.types),Z.T=P}},Ge.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Ge.use=function(I){return Z.H.use(I)},Ge.useActionState=function(I,P,ee){return Z.H.useActionState(I,P,ee)},Ge.useCallback=function(I,P){return Z.H.useCallback(I,P)},Ge.useContext=function(I){return Z.H.useContext(I)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(I,P){return Z.H.useDeferredValue(I,P)},Ge.useEffect=function(I,P){return Z.H.useEffect(I,P)},Ge.useEffectEvent=function(I){return Z.H.useEffectEvent(I)},Ge.useId=function(){return Z.H.useId()},Ge.useImperativeHandle=function(I,P,ee){return Z.H.useImperativeHandle(I,P,ee)},Ge.useInsertionEffect=function(I,P){return Z.H.useInsertionEffect(I,P)},Ge.useLayoutEffect=function(I,P){return Z.H.useLayoutEffect(I,P)},Ge.useMemo=function(I,P){return Z.H.useMemo(I,P)},Ge.useOptimistic=function(I,P){return Z.H.useOptimistic(I,P)},Ge.useReducer=function(I,P,ee){return Z.H.useReducer(I,P,ee)},Ge.useRef=function(I){return Z.H.useRef(I)},Ge.useState=function(I){return Z.H.useState(I)},Ge.useSyncExternalStore=function(I,P,ee){return Z.H.useSyncExternalStore(I,P,ee)},Ge.useTransition=function(){return Z.H.useTransition()},Ge.version="19.2.3",Ge}var Nm;function Gc(){return Nm||(Nm=1,pc.exports=wy()),pc.exports}var F=Gc();const My=Cy(F);var mc={exports:{}},Cl={},hc={exports:{}},gc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm;function Ry(){return wm||(wm=1,(function(i){function t(V,W){var te=V.length;V.push(W);e:for(;0<te;){var pe=te-1>>>1,ge=V[pe];if(0<r(ge,W))V[pe]=W,V[te]=ge,te=pe;else break e}}function o(V){return V.length===0?null:V[0]}function l(V){if(V.length===0)return null;var W=V[0],te=V.pop();if(te!==W){V[0]=te;e:for(var pe=0,ge=V.length,I=ge>>>1;pe<I;){var P=2*(pe+1)-1,ee=V[P],re=P+1,me=V[re];if(0>r(ee,te))re<ge&&0>r(me,ee)?(V[pe]=me,V[re]=te,pe=re):(V[pe]=ee,V[P]=te,pe=P);else if(re<ge&&0>r(me,te))V[pe]=me,V[re]=te,pe=re;else break e}}return W}function r(V,W){var te=V.sortIndex-W.sortIndex;return te!==0?te:V.id-W.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var m=Date,g=m.now();i.unstable_now=function(){return m.now()-g}}var y=[],v=[],x=1,_=null,S=3,C=!1,D=!1,k=!1,R=!1,U=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function oe(V){for(var W=o(v);W!==null;){if(W.callback===null)l(v);else if(W.startTime<=V)l(v),W.sortIndex=W.expirationTime,t(y,W);else break;W=o(v)}}function ae(V){if(k=!1,oe(V),!D)if(o(y)!==null)D=!0,E||(E=!0,se());else{var W=o(v);W!==null&&$e(ae,W.startTime-V)}}var E=!1,Z=-1,_e=5,le=-1;function xe(){return R?!0:!(i.unstable_now()-le<_e)}function Q(){if(R=!1,E){var V=i.unstable_now();le=V;var W=!0;try{e:{D=!1,k&&(k=!1,X(Z),Z=-1),C=!0;var te=S;try{t:{for(oe(V),_=o(y);_!==null&&!(_.expirationTime>V&&xe());){var pe=_.callback;if(typeof pe=="function"){_.callback=null,S=_.priorityLevel;var ge=pe(_.expirationTime<=V);if(V=i.unstable_now(),typeof ge=="function"){_.callback=ge,oe(V),W=!0;break t}_===o(y)&&l(y),oe(V)}else l(y);_=o(y)}if(_!==null)W=!0;else{var I=o(v);I!==null&&$e(ae,I.startTime-V),W=!1}}break e}finally{_=null,S=te,C=!1}W=void 0}}finally{W?se():E=!1}}}var se;if(typeof j=="function")se=function(){j(Q)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,qe=fe.port2;fe.port1.onmessage=Q,se=function(){qe.postMessage(null)}}else se=function(){U(Q,0)};function $e(V,W){Z=U(function(){V(i.unstable_now())},W)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(V){V.callback=null},i.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_e=0<V?Math.floor(1e3/V):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(V){switch(S){case 1:case 2:case 3:var W=3;break;default:W=S}var te=S;S=W;try{return V()}finally{S=te}},i.unstable_requestPaint=function(){R=!0},i.unstable_runWithPriority=function(V,W){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var te=S;S=V;try{return W()}finally{S=te}},i.unstable_scheduleCallback=function(V,W,te){var pe=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?pe+te:pe):te=pe,V){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=te+ge,V={id:x++,callback:W,priorityLevel:V,startTime:te,expirationTime:ge,sortIndex:-1},te>pe?(V.sortIndex=te,t(v,V),o(y)===null&&V===o(v)&&(k?(X(Z),Z=-1):k=!0,$e(ae,te-pe))):(V.sortIndex=ge,t(y,V),D||C||(D=!0,E||(E=!0,se()))),V},i.unstable_shouldYield=xe,i.unstable_wrapCallback=function(V){var W=S;return function(){var te=S;S=W;try{return V.apply(this,arguments)}finally{S=te}}}})(gc)),gc}var Mm;function Iy(){return Mm||(Mm=1,hc.exports=Ry()),hc.exports}var vc={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function ky(){if(Rm)return en;Rm=1;var i=Gc();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)v+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function d(y,v,x){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:y,containerInfo:v,implementation:x}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,en.createPortal=function(y,v){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return d(y,v,null,x)},en.flushSync=function(y){var v=m.T,x=l.p;try{if(m.T=null,l.p=2,y)return y()}finally{m.T=v,l.p=x,l.d.f()}},en.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,l.d.C(y,v))},en.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},en.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var x=v.as,_=g(x,v.crossOrigin),S=typeof v.integrity=="string"?v.integrity:void 0,C=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;x==="style"?l.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:C}):x==="script"&&l.d.X(y,{crossOrigin:_,integrity:S,fetchPriority:C,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},en.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var x=g(v.as,v.crossOrigin);l.d.M(y,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&l.d.M(y)},en.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var x=v.as,_=g(x,v.crossOrigin);l.d.L(y,x,{crossOrigin:_,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},en.preloadModule=function(y,v){if(typeof y=="string")if(v){var x=g(v.as,v.crossOrigin);l.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else l.d.m(y)},en.requestFormReset=function(y){l.d.r(y)},en.unstable_batchedUpdates=function(y,v){return y(v)},en.useFormState=function(y,v,x){return m.H.useFormState(y,v,x)},en.useFormStatus=function(){return m.H.useHostTransitionStatus()},en.version="19.2.3",en}var Im;function Dy(){if(Im)return vc.exports;Im=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),vc.exports=ky(),vc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function Uy(){if(km)return Cl;km=1;var i=Iy(),t=Gc(),o=Dy();function l(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(l(188))}function v(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(l(188));return n!==e?null:e}for(var a=e,s=n;;){var p=a.return;if(p===null)break;var h=p.alternate;if(h===null){if(s=p.return,s!==null){a=s;continue}break}if(p.child===h.child){for(h=p.child;h;){if(h===a)return y(p),e;if(h===s)return y(p),n;h=h.sibling}throw Error(l(188))}if(a.return!==s.return)a=p,s=h;else{for(var b=!1,A=p.child;A;){if(A===a){b=!0,a=p,s=h;break}if(A===s){b=!0,s=p,a=h;break}A=A.sibling}if(!b){for(A=h.child;A;){if(A===a){b=!0,a=h,s=p;break}if(A===s){b=!0,s=h,a=p;break}A=A.sibling}if(!b)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:n}function x(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=x(e),n!==null)return n;e=e.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),j=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),xe=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function se(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Symbol.for("react.client.reference");function qe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===fe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case U:return"Profiler";case R:return"StrictMode";case ae:return"Suspense";case E:return"SuspenseList";case le:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case j:return e.displayName||"Context";case X:return(e._context.displayName||"Context")+".Consumer";case oe:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return n=e.displayName||null,n!==null?n:qe(e.type)||"Memo";case _e:n=e._payload,e=e._init;try{return qe(e(n))}catch{}}return null}var $e=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},pe=[],ge=-1;function I(e){return{current:e}}function P(e){0>ge||(e.current=pe[ge],pe[ge]=null,ge--)}function ee(e,n){ge++,pe[ge]=e.current,e.current=n}var re=I(null),me=I(null),Be=I(null),ce=I(null);function tt(e,n){switch(ee(Be,n),ee(me,e),ee(re,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Jp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Jp(n),e=Kp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}P(re),ee(re,e)}function ue(){P(re),P(me),P(Be)}function we(e){e.memoizedState!==null&&ee(ce,e);var n=re.current,a=Kp(n,e.type);n!==a&&(ee(me,e),ee(re,a))}function Ut(e){me.current===e&&(P(re),P(me)),ce.current===e&&(P(ce),_l._currentValue=te)}var mt,B;function ve(e){if(mt===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);mt=n&&n[1]||"",B=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mt+e+B}var be=!1;function Fe(e,n){if(!e||be)return"";be=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(O){var q=O}Reflect.construct(e,[],$)}else{try{$.call()}catch(O){q=O}e.call($.prototype)}}else{try{throw Error()}catch(O){q=O}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(O){if(O&&q&&typeof O.stack=="string")return[O.stack,q.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),b=h[0],A=h[1];if(b&&A){var w=b.split(`
`),H=A.split(`
`);for(p=s=0;s<w.length&&!w[s].includes("DetermineComponentFrameRoot");)s++;for(;p<H.length&&!H[p].includes("DetermineComponentFrameRoot");)p++;if(s===w.length||p===H.length)for(s=w.length-1,p=H.length-1;1<=s&&0<=p&&w[s]!==H[p];)p--;for(;1<=s&&0<=p;s--,p--)if(w[s]!==H[p]){if(s!==1||p!==1)do if(s--,p--,0>p||w[s]!==H[p]){var Y=`
`+w[s].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=s&&0<=p);break}}}finally{be=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ve(a):""}function Re(e,n){switch(e.tag){case 26:case 27:case 5:return ve(e.type);case 16:return ve("Lazy");case 13:return e.child!==n&&n!==null?ve("Suspense Fallback"):ve("Suspense");case 19:return ve("SuspenseList");case 0:case 15:return Fe(e.type,!1);case 11:return Fe(e.type.render,!1);case 1:return Fe(e.type,!0);case 31:return ve("Activity");default:return""}}function gt(e){try{var n="",a=null;do n+=Re(e,a),a=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var ke=Object.prototype.hasOwnProperty,St=i.unstable_scheduleCallback,Vt=i.unstable_cancelCallback,Hn=i.unstable_shouldYield,Nt=i.unstable_requestPaint,Ue=i.unstable_now,Uo=i.unstable_getCurrentPriorityLevel,Ia=i.unstable_ImmediatePriority,Ai=i.unstable_UserBlockingPriority,Jn=i.unstable_NormalPriority,Ce=i.unstable_LowPriority,jt=i.unstable_IdlePriority,Yt=i.log,ot=i.unstable_setDisableYieldValue,un=null,Jt=null;function _t(e){if(typeof Yt=="function"&&ot(e),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(un,e)}catch{}}var Tt=Math.clz32?Math.clz32:fr,so=Math.log,ii=Math.LN2;function fr(e){return e>>>=0,e===0?32:31-(so(e)/ii|0)|0}var Lo=256,zo=262144,Po=4194304;function cn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oi(e,n,a){var s=e.pendingLanes;if(s===0)return 0;var p=0,h=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var A=s&134217727;return A!==0?(s=A&~h,s!==0?p=cn(s):(b&=A,b!==0?p=cn(b):a||(a=A&~e,a!==0&&(p=cn(a))))):(A=s&~h,A!==0?p=cn(A):b!==0?p=cn(b):a||(a=s&~e,a!==0&&(p=cn(a)))),p===0?0:n!==0&&n!==p&&(n&h)===0&&(h=p&-p,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:p}function Ni(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function pr(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ro(){var e=Po;return Po<<=1,(Po&62914560)===0&&(Po=4194304),e}function ne(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function xn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function wi(e,n,a,s,p,h){var b=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var A=e.entanglements,w=e.expirationTimes,H=e.hiddenUpdates;for(a=b&~a;0<a;){var Y=31-Tt(a),$=1<<Y;A[Y]=0,w[Y]=-1;var q=H[Y];if(q!==null)for(H[Y]=null,Y=0;Y<q.length;Y++){var O=q[Y];O!==null&&(O.lane&=-536870913)}a&=~$}s!==0&&Rl(e,s,0),h!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=h&~(b&~n))}function Rl(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Tt(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function ze(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var s=31-Tt(a),p=1<<s;p&n|e[s]&n&&(e[s]|=n),a&=~p}}function ka(e,n){var a=n&-n;return a=(a&42)!==0?1:uo(a),(a&(e.suspendedLanes|n))!==0?0:a}function uo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Il(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:vm(e.type))}function kl(e,n){var a=W.p;try{return W.p=e,n()}finally{W.p=a}}var Kn=Math.random().toString(36).slice(2),ht="__reactFiber$"+Kn,vt="__reactProps$"+Kn,Mi="__reactContainer$"+Kn,Da="__reactEvents$"+Kn,co="__reactListeners$"+Kn,Ua="__reactHandles$"+Kn,La="__reactResources$"+Kn,fo="__reactMarker$"+Kn;function za(e){delete e[ht],delete e[vt],delete e[Da],delete e[co],delete e[Ua]}function Ri(e){var n=e[ht];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Mi]||a[ht]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=tm(e);e!==null;){if(a=e[ht])return a;e=tm(e)}return n}e=a,a=e.parentNode}return null}function Xn(e){if(e=e[ht]||e[Mi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function po(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(l(33))}function Ii(e){var n=e[La];return n||(n=e[La]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function wt(e){e[fo]=!0}var Pa=new Set,mo={};function $n(e,n){ki(e,n),ki(e+"Capture",n)}function ki(e,n){for(mo[e]=n,e=0;e<n.length;e++)Pa.add(n[e])}var nn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dl={},Go={};function Ul(e){return ke.call(Go,e)?!0:ke.call(Dl,e)?!1:nn.test(e)?Go[e]=!0:(Dl[e]=!0,!1)}function Ho(e,n,a){if(Ul(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function ho(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function qn(e,n,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+s)}}function dn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qo(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ga(e,n,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var p=s.get,h=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return p.call(this)},set:function(b){a=""+b,h.call(this,b)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Di(e){if(!e._valueTracker){var n=qo(e)?"checked":"value";e._valueTracker=Ga(e,n,""+e[n])}}function fn(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),s="";return e&&(s=qo(e)?e.checked?"true":"false":e.value),e=s,e!==a?(n.setValue(e),!0):!1}function Vo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Nn=/[\n"\\]/g;function pn(e){return e.replace(Nn,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ui(e,n,a,s,p,h,b,A){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),n!=null?b==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+dn(n)):e.value!==""+dn(n)&&(e.value=""+dn(n)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),n!=null?Bo(e,b,dn(n)):a!=null?Bo(e,b,dn(a)):s!=null&&e.removeAttribute("value"),p==null&&h!=null&&(e.defaultChecked=!!h),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+dn(A):e.removeAttribute("name")}function Ll(e,n,a,s,p,h,b,A){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){Di(e);return}a=a!=null?""+dn(a):"",n=n!=null?""+dn(n):a,A||n===e.value||(e.value=n),e.defaultValue=n}s=s??p,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=A?e.checked:!!s,e.defaultChecked=!!s,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),Di(e)}function Bo(e,n,a){n==="number"&&Vo(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Li(e,n,a,s){if(e=e.options,n){n={};for(var p=0;p<a.length;p++)n["$"+a[p]]=!0;for(a=0;a<e.length;a++)p=n.hasOwnProperty("$"+e[a].value),e[a].selected!==p&&(e[a].selected=p),p&&s&&(e[a].defaultSelected=!0)}else{for(a=""+dn(a),n=null,p=0;p<e.length;p++){if(e[p].value===a){e[p].selected=!0,s&&(e[p].defaultSelected=!0);return}n!==null||e[p].disabled||(n=e[p])}n!==null&&(n.selected=!0)}}function Fo(e,n,a){if(n!=null&&(n=""+dn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+dn(a):""}function go(e,n,a,s){if(n==null){if(s!=null){if(a!=null)throw Error(l(92));if($e(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}a==null&&(a=""),n=a}a=dn(n),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Di(e)}function ai(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var T=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function N(e,n,a){var s=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,a):typeof a!="number"||a===0||T.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function M(e,n,a){if(n!=null&&typeof n!="object")throw Error(l(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var p in n)s=n[p],n.hasOwnProperty(p)&&a[p]!==s&&N(e,p,s)}else for(var h in n)n.hasOwnProperty(h)&&N(e,h,n[h])}function J(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ie=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Se=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Me(e){return Se.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ee(){}var ft=null;function st(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nt=null,Lt=null;function Bt(e){var n=Xn(e);if(n&&(e=n.stateNode)){var a=e[vt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Ui(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var s=a[n];if(s!==e&&s.form===e.form){var p=s[vt]||null;if(!p)throw Error(l(90));Ui(s,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(n=0;n<a.length;n++)s=a[n],s.form===e.form&&fn(s)}break e;case"textarea":Fo(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Li(e,!!a.multiple,n,!1)}}}var on=!1;function Le(e,n,a){if(on)return e(n,a);on=!0;try{var s=e(n);return s}finally{if(on=!1,(nt!==null||Lt!==null)&&(xs(),nt&&(n=nt,e=Lt,Lt=nt=null,Bt(n),e)))for(n=0;n<e.length;n++)Bt(e[n])}}function Wt(e,n){var a=e.stateNode;if(a===null)return null;var s=a[vt]||null;if(s===null)return null;a=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,n,typeof a));return a}var rt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oo=!1;if(rt)try{var wn={};Object.defineProperty(wn,"passive",{get:function(){Oo=!0}}),window.addEventListener("test",wn,wn),window.removeEventListener("test",wn,wn)}catch{Oo=!1}var Mt=null,zi=null,li=null;function De(){if(li)return li;var e,n=zi,a=n.length,s,p="value"in Mt?Mt.value:Mt.textContent,h=p.length;for(e=0;e<a&&n[e]===p[e];e++);var b=a-e;for(s=1;s<=b&&n[a-s]===p[h-s];s++);return li=p.slice(e,1<s?1-s:void 0)}function Rt(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function an(){return!0}function Ae(){return!1}function Ye(e){function n(a,s,p,h,b){this._reactName=a,this._targetInst=p,this.type=s,this.nativeEvent=h,this.target=b,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(a=e[A],this[A]=a?a(h):h[A]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?an:Ae,this.isPropagationStopped=Ae,this}return _(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),n}var It={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zl=Ye(It),Ha=_({},It,{view:0,detail:0}),Sg=Ye(Ha),mr,hr,qa,Pl=_({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qa&&(qa&&e.type==="mousemove"?(mr=e.screenX-qa.screenX,hr=e.screenY-qa.screenY):hr=mr=0,qa=e),mr)},movementY:function(e){return"movementY"in e?e.movementY:hr}}),Xc=Ye(Pl),Tg=_({},Pl,{dataTransfer:0}),Eg=Ye(Tg),Cg=_({},Ha,{relatedTarget:0}),gr=Ye(Cg),Ag=_({},It,{animationName:0,elapsedTime:0,pseudoElement:0}),Ng=Ye(Ag),wg=_({},It,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mg=Ye(wg),Rg=_({},It,{data:0}),$c=Ye(Rg),Ig={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ug(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Dg[e])?!!n[e]:!1}function vr(){return Ug}var Lg=_({},Ha,{key:function(e){if(e.key){var n=Ig[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Rt(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(e){return e.type==="keypress"?Rt(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rt(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zg=Ye(Lg),Pg=_({},Pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qc=Ye(Pg),Gg=_({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),Hg=Ye(Gg),qg=_({},It,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vg=Ye(qg),Bg=_({},Pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fg=Ye(Bg),Og=_({},It,{newState:0,oldState:0}),jg=Ye(Og),Yg=[9,13,27,32],yr=rt&&"CompositionEvent"in window,Va=null;rt&&"documentMode"in document&&(Va=document.documentMode);var Jg=rt&&"TextEvent"in window&&!Va,Zc=rt&&(!yr||Va&&8<Va&&11>=Va),Wc=" ",ed=!1;function td(e,n){switch(e){case"keyup":return Yg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jo=!1;function Kg(e,n){switch(e){case"compositionend":return nd(n);case"keypress":return n.which!==32?null:(ed=!0,Wc);case"textInput":return e=n.data,e===Wc&&ed?null:e;default:return null}}function Xg(e,n){if(jo)return e==="compositionend"||!yr&&td(e,n)?(e=De(),li=zi=Mt=null,jo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Zc&&n.locale!=="ko"?null:n.data;default:return null}}var $g={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function id(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!$g[e.type]:n==="textarea"}function od(e,n,a,s){nt?Lt?Lt.push(s):Lt=[s]:nt=s,n=As(n,"onChange"),0<n.length&&(a=new zl("onChange","change",null,a,s),e.push({event:a,listeners:n}))}var Ba=null,Fa=null;function Qg(e){Vp(e,0)}function Gl(e){var n=po(e);if(fn(n))return e}function ad(e,n){if(e==="change")return n}var ld=!1;if(rt){var xr;if(rt){var _r="oninput"in document;if(!_r){var sd=document.createElement("div");sd.setAttribute("oninput","return;"),_r=typeof sd.oninput=="function"}xr=_r}else xr=!1;ld=xr&&(!document.documentMode||9<document.documentMode)}function rd(){Ba&&(Ba.detachEvent("onpropertychange",ud),Fa=Ba=null)}function ud(e){if(e.propertyName==="value"&&Gl(Fa)){var n=[];od(n,Fa,e,st(e)),Le(Qg,n)}}function Zg(e,n,a){e==="focusin"?(rd(),Ba=n,Fa=a,Ba.attachEvent("onpropertychange",ud)):e==="focusout"&&rd()}function Wg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gl(Fa)}function ev(e,n){if(e==="click")return Gl(n)}function tv(e,n){if(e==="input"||e==="change")return Gl(n)}function nv(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var _n=typeof Object.is=="function"?Object.is:nv;function Oa(e,n){if(_n(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),s=Object.keys(n);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var p=a[s];if(!ke.call(n,p)||!_n(e[p],n[p]))return!1}return!0}function cd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dd(e,n){var a=cd(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=n&&s>=n)return{node:a,offset:n-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cd(a)}}function fd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?fd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function pd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Vo(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Vo(e.document)}return n}function br(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var iv=rt&&"documentMode"in document&&11>=document.documentMode,Yo=null,Sr=null,ja=null,Tr=!1;function md(e,n,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Tr||Yo==null||Yo!==Vo(s)||(s=Yo,"selectionStart"in s&&br(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ja&&Oa(ja,s)||(ja=s,s=As(Sr,"onSelect"),0<s.length&&(n=new zl("onSelect","select",null,n,a),e.push({event:n,listeners:s}),n.target=Yo)))}function vo(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Jo={animationend:vo("Animation","AnimationEnd"),animationiteration:vo("Animation","AnimationIteration"),animationstart:vo("Animation","AnimationStart"),transitionrun:vo("Transition","TransitionRun"),transitionstart:vo("Transition","TransitionStart"),transitioncancel:vo("Transition","TransitionCancel"),transitionend:vo("Transition","TransitionEnd")},Er={},hd={};rt&&(hd=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function yo(e){if(Er[e])return Er[e];if(!Jo[e])return e;var n=Jo[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in hd)return Er[e]=n[a];return e}var gd=yo("animationend"),vd=yo("animationiteration"),yd=yo("animationstart"),ov=yo("transitionrun"),av=yo("transitionstart"),lv=yo("transitioncancel"),xd=yo("transitionend"),_d=new Map,Cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cr.push("scrollEnd");function Vn(e,n){_d.set(e,n),$n(n,[e])}var Hl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mn=[],Ko=0,Ar=0;function ql(){for(var e=Ko,n=Ar=Ko=0;n<e;){var a=Mn[n];Mn[n++]=null;var s=Mn[n];Mn[n++]=null;var p=Mn[n];Mn[n++]=null;var h=Mn[n];if(Mn[n++]=null,s!==null&&p!==null){var b=s.pending;b===null?p.next=p:(p.next=b.next,b.next=p),s.pending=p}h!==0&&bd(a,p,h)}}function Vl(e,n,a,s){Mn[Ko++]=e,Mn[Ko++]=n,Mn[Ko++]=a,Mn[Ko++]=s,Ar|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Nr(e,n,a,s){return Vl(e,n,a,s),Bl(e)}function xo(e,n){return Vl(e,null,null,n),Bl(e)}function bd(e,n,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var p=!1,h=e.return;h!==null;)h.childLanes|=a,s=h.alternate,s!==null&&(s.childLanes|=a),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(p=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,p&&n!==null&&(p=31-Tt(a),e=h.hiddenUpdates,s=e[p],s===null?e[p]=[n]:s.push(n),n.lane=a|536870912),h):null}function Bl(e){if(50<pl)throw pl=0,zu=null,Error(l(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Xo={};function sv(e,n,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(e,n,a,s){return new sv(e,n,a,s)}function wr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function si(e,n){var a=e.alternate;return a===null?(a=bn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Sd(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Fl(e,n,a,s,p,h){var b=0;if(s=e,typeof e=="function")wr(e)&&(b=1);else if(typeof e=="string")b=fy(e,a,re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case le:return e=bn(31,a,n,p),e.elementType=le,e.lanes=h,e;case k:return _o(a.children,p,h,n);case R:b=8,p|=24;break;case U:return e=bn(12,a,n,p|2),e.elementType=U,e.lanes=h,e;case ae:return e=bn(13,a,n,p),e.elementType=ae,e.lanes=h,e;case E:return e=bn(19,a,n,p),e.elementType=E,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j:b=10;break e;case X:b=9;break e;case oe:b=11;break e;case Z:b=14;break e;case _e:b=16,s=null;break e}b=29,a=Error(l(130,e===null?"null":typeof e,"")),s=null}return n=bn(b,a,n,p),n.elementType=e,n.type=s,n.lanes=h,n}function _o(e,n,a,s){return e=bn(7,e,s,n),e.lanes=a,e}function Mr(e,n,a){return e=bn(6,e,null,n),e.lanes=a,e}function Td(e){var n=bn(18,null,null,0);return n.stateNode=e,n}function Rr(e,n,a){return n=bn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ed=new WeakMap;function Rn(e,n){if(typeof e=="object"&&e!==null){var a=Ed.get(e);return a!==void 0?a:(n={value:e,source:n,stack:gt(n)},Ed.set(e,n),n)}return{value:e,source:n,stack:gt(n)}}var $o=[],Qo=0,Ol=null,Ya=0,In=[],kn=0,Pi=null,Qn=1,Zn="";function ri(e,n){$o[Qo++]=Ya,$o[Qo++]=Ol,Ol=e,Ya=n}function Cd(e,n,a){In[kn++]=Qn,In[kn++]=Zn,In[kn++]=Pi,Pi=e;var s=Qn;e=Zn;var p=32-Tt(s)-1;s&=~(1<<p),a+=1;var h=32-Tt(n)+p;if(30<h){var b=p-p%5;h=(s&(1<<b)-1).toString(32),s>>=b,p-=b,Qn=1<<32-Tt(n)+p|a<<p|s,Zn=h+e}else Qn=1<<h|a<<p|s,Zn=e}function Ir(e){e.return!==null&&(ri(e,1),Cd(e,1,0))}function kr(e){for(;e===Ol;)Ol=$o[--Qo],$o[Qo]=null,Ya=$o[--Qo],$o[Qo]=null;for(;e===Pi;)Pi=In[--kn],In[kn]=null,Zn=In[--kn],In[kn]=null,Qn=In[--kn],In[kn]=null}function Ad(e,n){In[kn++]=Qn,In[kn++]=Zn,In[kn++]=Pi,Qn=n.id,Zn=n.overflow,Pi=e}var Kt=null,yt=null,Xe=!1,Gi=null,Dn=!1,Dr=Error(l(519));function Hi(e){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ja(Rn(n,e)),Dr}function Nd(e){var n=e.stateNode,a=e.type,s=e.memoizedProps;switch(n[ht]=e,n[vt]=s,a){case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":case"embed":je("load",n);break;case"video":case"audio":for(a=0;a<hl.length;a++)je(hl[a],n);break;case"source":je("error",n);break;case"img":case"image":case"link":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"input":je("invalid",n),Ll(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":je("invalid",n);break;case"textarea":je("invalid",n),go(n,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||s.suppressHydrationWarning===!0||jp(n.textContent,a)?(s.popover!=null&&(je("beforetoggle",n),je("toggle",n)),s.onScroll!=null&&je("scroll",n),s.onScrollEnd!=null&&je("scrollend",n),s.onClick!=null&&(n.onclick=Ee),n=!0):n=!1,n||Hi(e,!0)}function wd(e){for(Kt=e.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Kt=Kt.return}}function Zo(e){if(e!==Kt)return!1;if(!Xe)return wd(e),Xe=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Qu(e.type,e.memoizedProps)),a=!a),a&&yt&&Hi(e),wd(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));yt=em(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));yt=em(e)}else n===27?(n=yt,Wi(e.type)?(e=nc,nc=null,yt=e):yt=n):yt=Kt?Ln(e.stateNode.nextSibling):null;return!0}function bo(){yt=Kt=null,Xe=!1}function Ur(){var e=Gi;return e!==null&&(vn===null?vn=e:vn.push.apply(vn,e),Gi=null),e}function Ja(e){Gi===null?Gi=[e]:Gi.push(e)}var Lr=I(null),So=null,ui=null;function qi(e,n,a){ee(Lr,n._currentValue),n._currentValue=a}function ci(e){e._currentValue=Lr.current,P(Lr)}function zr(e,n,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===a)break;e=e.return}}function Pr(e,n,a,s){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var h=p.dependencies;if(h!==null){var b=p.child;h=h.firstContext;e:for(;h!==null;){var A=h;h=p;for(var w=0;w<n.length;w++)if(A.context===n[w]){h.lanes|=a,A=h.alternate,A!==null&&(A.lanes|=a),zr(h.return,a,e),s||(b=null);break e}h=A.next}}else if(p.tag===18){if(b=p.return,b===null)throw Error(l(341));b.lanes|=a,h=b.alternate,h!==null&&(h.lanes|=a),zr(b,a,e),b=null}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===e){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}}function Wo(e,n,a,s){e=null;for(var p=n,h=!1;p!==null;){if(!h){if((p.flags&524288)!==0)h=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var b=p.alternate;if(b===null)throw Error(l(387));if(b=b.memoizedProps,b!==null){var A=p.type;_n(p.pendingProps.value,b.value)||(e!==null?e.push(A):e=[A])}}else if(p===ce.current){if(b=p.alternate,b===null)throw Error(l(387));b.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(_l):e=[_l])}p=p.return}e!==null&&Pr(n,e,a,s),n.flags|=262144}function jl(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function To(e){So=e,ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xt(e){return Md(So,e)}function Yl(e,n){return So===null&&To(e),Md(e,n)}function Md(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ui===null){if(e===null)throw Error(l(308));ui=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ui=ui.next=n;return a}var rv=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},uv=i.unstable_scheduleCallback,cv=i.unstable_NormalPriority,zt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gr(){return{controller:new rv,data:new Map,refCount:0}}function Ka(e){e.refCount--,e.refCount===0&&uv(cv,function(){e.controller.abort()})}var Xa=null,Hr=0,ea=0,ta=null;function dv(e,n){if(Xa===null){var a=Xa=[];Hr=0,ea=Bu(),ta={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Hr++,n.then(Rd,Rd),n}function Rd(){if(--Hr===0&&Xa!==null){ta!==null&&(ta.status="fulfilled");var e=Xa;Xa=null,ea=0,ta=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function fv(e,n){var a=[],s={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var p=0;p<a.length;p++)(0,a[p])(n)},function(p){for(s.status="rejected",s.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),s}var Id=V.S;V.S=function(e,n){hp=Ue(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&dv(e,n),Id!==null&&Id(e,n)};var Eo=I(null);function qr(){var e=Eo.current;return e!==null?e:pt.pooledCache}function Jl(e,n){n===null?ee(Eo,Eo.current):ee(Eo,n.pool)}function kd(){var e=qr();return e===null?null:{parent:zt._currentValue,pool:e}}var na=Error(l(460)),Vr=Error(l(474)),Kl=Error(l(542)),Xl={then:function(){}};function Dd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ud(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Ee,Ee),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zd(e),e;default:if(typeof n.status=="string")n.then(Ee,Ee);else{if(e=pt,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var p=n;p.status="fulfilled",p.value=s}},function(s){if(n.status==="pending"){var p=n;p.status="rejected",p.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zd(e),e}throw Ao=n,na}}function Co(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ao=a,na):a}}var Ao=null;function Ld(){if(Ao===null)throw Error(l(459));var e=Ao;return Ao=null,e}function zd(e){if(e===na||e===Kl)throw Error(l(483))}var ia=null,$a=0;function $l(e){var n=$a;return $a+=1,ia===null&&(ia=[]),Ud(ia,e,n)}function Qa(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ql(e,n){throw n.$$typeof===S?Error(l(525)):(e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Pd(e){function n(z,L){if(e){var G=z.deletions;G===null?(z.deletions=[L],z.flags|=16):G.push(L)}}function a(z,L){if(!e)return null;for(;L!==null;)n(z,L),L=L.sibling;return null}function s(z){for(var L=new Map;z!==null;)z.key!==null?L.set(z.key,z):L.set(z.index,z),z=z.sibling;return L}function p(z,L){return z=si(z,L),z.index=0,z.sibling=null,z}function h(z,L,G){return z.index=G,e?(G=z.alternate,G!==null?(G=G.index,G<L?(z.flags|=67108866,L):G):(z.flags|=67108866,L)):(z.flags|=1048576,L)}function b(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function A(z,L,G,K){return L===null||L.tag!==6?(L=Mr(G,z.mode,K),L.return=z,L):(L=p(L,G),L.return=z,L)}function w(z,L,G,K){var Te=G.type;return Te===k?Y(z,L,G.props.children,K,G.key):L!==null&&(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===_e&&Co(Te)===L.type)?(L=p(L,G.props),Qa(L,G),L.return=z,L):(L=Fl(G.type,G.key,G.props,null,z.mode,K),Qa(L,G),L.return=z,L)}function H(z,L,G,K){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=Rr(G,z.mode,K),L.return=z,L):(L=p(L,G.children||[]),L.return=z,L)}function Y(z,L,G,K,Te){return L===null||L.tag!==7?(L=_o(G,z.mode,K,Te),L.return=z,L):(L=p(L,G),L.return=z,L)}function $(z,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Mr(""+L,z.mode,G),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case C:return G=Fl(L.type,L.key,L.props,null,z.mode,G),Qa(G,L),G.return=z,G;case D:return L=Rr(L,z.mode,G),L.return=z,L;case _e:return L=Co(L),$(z,L,G)}if($e(L)||se(L))return L=_o(L,z.mode,G,null),L.return=z,L;if(typeof L.then=="function")return $(z,$l(L),G);if(L.$$typeof===j)return $(z,Yl(z,L),G);Ql(z,L)}return null}function q(z,L,G,K){var Te=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Te!==null?null:A(z,L,""+G,K);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case C:return G.key===Te?w(z,L,G,K):null;case D:return G.key===Te?H(z,L,G,K):null;case _e:return G=Co(G),q(z,L,G,K)}if($e(G)||se(G))return Te!==null?null:Y(z,L,G,K,null);if(typeof G.then=="function")return q(z,L,$l(G),K);if(G.$$typeof===j)return q(z,L,Yl(z,G),K);Ql(z,G)}return null}function O(z,L,G,K,Te){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return z=z.get(G)||null,A(L,z,""+K,Te);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case C:return z=z.get(K.key===null?G:K.key)||null,w(L,z,K,Te);case D:return z=z.get(K.key===null?G:K.key)||null,H(L,z,K,Te);case _e:return K=Co(K),O(z,L,G,K,Te)}if($e(K)||se(K))return z=z.get(G)||null,Y(L,z,K,Te,null);if(typeof K.then=="function")return O(z,L,G,$l(K),Te);if(K.$$typeof===j)return O(z,L,G,Yl(L,K),Te);Ql(L,K)}return null}function he(z,L,G,K){for(var Te=null,Ze=null,ye=L,Ve=L=0,Ke=null;ye!==null&&Ve<G.length;Ve++){ye.index>Ve?(Ke=ye,ye=null):Ke=ye.sibling;var We=q(z,ye,G[Ve],K);if(We===null){ye===null&&(ye=Ke);break}e&&ye&&We.alternate===null&&n(z,ye),L=h(We,L,Ve),Ze===null?Te=We:Ze.sibling=We,Ze=We,ye=Ke}if(Ve===G.length)return a(z,ye),Xe&&ri(z,Ve),Te;if(ye===null){for(;Ve<G.length;Ve++)ye=$(z,G[Ve],K),ye!==null&&(L=h(ye,L,Ve),Ze===null?Te=ye:Ze.sibling=ye,Ze=ye);return Xe&&ri(z,Ve),Te}for(ye=s(ye);Ve<G.length;Ve++)Ke=O(ye,z,Ve,G[Ve],K),Ke!==null&&(e&&Ke.alternate!==null&&ye.delete(Ke.key===null?Ve:Ke.key),L=h(Ke,L,Ve),Ze===null?Te=Ke:Ze.sibling=Ke,Ze=Ke);return e&&ye.forEach(function(oo){return n(z,oo)}),Xe&&ri(z,Ve),Te}function Ne(z,L,G,K){if(G==null)throw Error(l(151));for(var Te=null,Ze=null,ye=L,Ve=L=0,Ke=null,We=G.next();ye!==null&&!We.done;Ve++,We=G.next()){ye.index>Ve?(Ke=ye,ye=null):Ke=ye.sibling;var oo=q(z,ye,We.value,K);if(oo===null){ye===null&&(ye=Ke);break}e&&ye&&oo.alternate===null&&n(z,ye),L=h(oo,L,Ve),Ze===null?Te=oo:Ze.sibling=oo,Ze=oo,ye=Ke}if(We.done)return a(z,ye),Xe&&ri(z,Ve),Te;if(ye===null){for(;!We.done;Ve++,We=G.next())We=$(z,We.value,K),We!==null&&(L=h(We,L,Ve),Ze===null?Te=We:Ze.sibling=We,Ze=We);return Xe&&ri(z,Ve),Te}for(ye=s(ye);!We.done;Ve++,We=G.next())We=O(ye,z,Ve,We.value,K),We!==null&&(e&&We.alternate!==null&&ye.delete(We.key===null?Ve:We.key),L=h(We,L,Ve),Ze===null?Te=We:Ze.sibling=We,Ze=We);return e&&ye.forEach(function(Ty){return n(z,Ty)}),Xe&&ri(z,Ve),Te}function dt(z,L,G,K){if(typeof G=="object"&&G!==null&&G.type===k&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case C:e:{for(var Te=G.key;L!==null;){if(L.key===Te){if(Te=G.type,Te===k){if(L.tag===7){a(z,L.sibling),K=p(L,G.props.children),K.return=z,z=K;break e}}else if(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===_e&&Co(Te)===L.type){a(z,L.sibling),K=p(L,G.props),Qa(K,G),K.return=z,z=K;break e}a(z,L);break}else n(z,L);L=L.sibling}G.type===k?(K=_o(G.props.children,z.mode,K,G.key),K.return=z,z=K):(K=Fl(G.type,G.key,G.props,null,z.mode,K),Qa(K,G),K.return=z,z=K)}return b(z);case D:e:{for(Te=G.key;L!==null;){if(L.key===Te)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){a(z,L.sibling),K=p(L,G.children||[]),K.return=z,z=K;break e}else{a(z,L);break}else n(z,L);L=L.sibling}K=Rr(G,z.mode,K),K.return=z,z=K}return b(z);case _e:return G=Co(G),dt(z,L,G,K)}if($e(G))return he(z,L,G,K);if(se(G)){if(Te=se(G),typeof Te!="function")throw Error(l(150));return G=Te.call(G),Ne(z,L,G,K)}if(typeof G.then=="function")return dt(z,L,$l(G),K);if(G.$$typeof===j)return dt(z,L,Yl(z,G),K);Ql(z,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(a(z,L.sibling),K=p(L,G),K.return=z,z=K):(a(z,L),K=Mr(G,z.mode,K),K.return=z,z=K),b(z)):a(z,L)}return function(z,L,G,K){try{$a=0;var Te=dt(z,L,G,K);return ia=null,Te}catch(ye){if(ye===na||ye===Kl)throw ye;var Ze=bn(29,ye,null,z.mode);return Ze.lanes=K,Ze.return=z,Ze}finally{}}}var No=Pd(!0),Gd=Pd(!1),Vi=!1;function Br(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fr(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Bi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fi(e,n,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(it&2)!==0){var p=s.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),s.pending=n,n=Bl(e),bd(e,null,a),n}return Vl(e,s,n,a),Bl(e)}function Za(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,a|=s,n.lanes=a,ze(e,a)}}function Or(e,n){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var p=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?p=h=b:h=h.next=b,a=a.next}while(a!==null);h===null?p=h=n:h=h.next=n}else p=h=n;a={baseState:s.baseState,firstBaseUpdate:p,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var jr=!1;function Wa(){if(jr){var e=ta;if(e!==null)throw e}}function el(e,n,a,s){jr=!1;var p=e.updateQueue;Vi=!1;var h=p.firstBaseUpdate,b=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var w=A,H=w.next;w.next=null,b===null?h=H:b.next=H,b=w;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,A=Y.lastBaseUpdate,A!==b&&(A===null?Y.firstBaseUpdate=H:A.next=H,Y.lastBaseUpdate=w))}if(h!==null){var $=p.baseState;b=0,Y=H=w=null,A=h;do{var q=A.lane&-536870913,O=q!==A.lane;if(O?(Je&q)===q:(s&q)===q){q!==0&&q===ea&&(jr=!0),Y!==null&&(Y=Y.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var he=e,Ne=A;q=n;var dt=a;switch(Ne.tag){case 1:if(he=Ne.payload,typeof he=="function"){$=he.call(dt,$,q);break e}$=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Ne.payload,q=typeof he=="function"?he.call(dt,$,q):he,q==null)break e;$=_({},$,q);break e;case 2:Vi=!0}}q=A.callback,q!==null&&(e.flags|=64,O&&(e.flags|=8192),O=p.callbacks,O===null?p.callbacks=[q]:O.push(q))}else O={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Y===null?(H=Y=O,w=$):Y=Y.next=O,b|=q;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;O=A,A=O.next,O.next=null,p.lastBaseUpdate=O,p.shared.pending=null}}while(!0);Y===null&&(w=$),p.baseState=w,p.firstBaseUpdate=H,p.lastBaseUpdate=Y,h===null&&(p.shared.lanes=0),Ki|=b,e.lanes=b,e.memoizedState=$}}function Hd(e,n){if(typeof e!="function")throw Error(l(191,e));e.call(n)}function qd(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Hd(a[e],n)}var oa=I(null),Zl=I(0);function Vd(e,n){e=xi,ee(Zl,e),ee(oa,n),xi=e|n.baseLanes}function Yr(){ee(Zl,xi),ee(oa,oa.current)}function Jr(){xi=Zl.current,P(oa),P(Zl)}var Sn=I(null),Un=null;function Oi(e){var n=e.alternate;ee(kt,kt.current&1),ee(Sn,e),Un===null&&(n===null||oa.current!==null||n.memoizedState!==null)&&(Un=e)}function Kr(e){ee(kt,kt.current),ee(Sn,e),Un===null&&(Un=e)}function Bd(e){e.tag===22?(ee(kt,kt.current),ee(Sn,e),Un===null&&(Un=e)):ji()}function ji(){ee(kt,kt.current),ee(Sn,Sn.current)}function Tn(e){P(Sn),Un===e&&(Un=null),P(kt)}var kt=I(0);function Wl(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ec(a)||tc(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var di=0,He=null,ut=null,Pt=null,es=!1,aa=!1,wo=!1,ts=0,tl=0,la=null,pv=0;function Et(){throw Error(l(321))}function Xr(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!_n(e[a],n[a]))return!1;return!0}function $r(e,n,a,s,p,h){return di=h,He=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,V.H=e===null||e.memoizedState===null?Af:du,wo=!1,h=a(s,p),wo=!1,aa&&(h=Od(n,a,s,p)),Fd(e),h}function Fd(e){V.H=ol;var n=ut!==null&&ut.next!==null;if(di=0,Pt=ut=He=null,es=!1,tl=0,la=null,n)throw Error(l(300));e===null||Gt||(e=e.dependencies,e!==null&&jl(e)&&(Gt=!0))}function Od(e,n,a,s){He=e;var p=0;do{if(aa&&(la=null),tl=0,aa=!1,25<=p)throw Error(l(301));if(p+=1,Pt=ut=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}V.H=Nf,h=n(a,s)}while(aa);return h}function mv(){var e=V.H,n=e.useState()[0];return n=typeof n.then=="function"?nl(n):n,e=e.useState()[0],(ut!==null?ut.memoizedState:null)!==e&&(He.flags|=1024),n}function Qr(){var e=ts!==0;return ts=0,e}function Zr(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Wr(e){if(es){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}es=!1}di=0,Pt=ut=He=null,aa=!1,tl=ts=0,la=null}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?He.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function Dt(){if(ut===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var n=Pt===null?He.memoizedState:Pt.next;if(n!==null)Pt=n,ut=e;else{if(e===null)throw He.alternate===null?Error(l(467)):Error(l(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Pt===null?He.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function ns(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(e){var n=tl;return tl+=1,la===null&&(la=[]),e=Ud(la,e,n),n=He,(Pt===null?n.memoizedState:Pt.next)===null&&(n=n.alternate,V.H=n===null||n.memoizedState===null?Af:du),e}function is(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nl(e);if(e.$$typeof===j)return Xt(e)}throw Error(l(438,String(e)))}function eu(e){var n=null,a=He.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var s=He.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(p){return p.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ns(),He.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),s=0;s<e;s++)a[s]=xe;return n.index++,a}function fi(e,n){return typeof n=="function"?n(e):n}function os(e){var n=Dt();return tu(n,ut,e)}function tu(e,n,a){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=a;var p=e.baseQueue,h=s.pending;if(h!==null){if(p!==null){var b=p.next;p.next=h.next,h.next=b}n.baseQueue=p=h,s.pending=null}if(h=e.baseState,p===null)e.memoizedState=h;else{n=p.next;var A=b=null,w=null,H=n,Y=!1;do{var $=H.lane&-536870913;if($!==H.lane?(Je&$)===$:(di&$)===$){var q=H.revertLane;if(q===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),$===ea&&(Y=!0);else if((di&q)===q){H=H.next,q===ea&&(Y=!0);continue}else $={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},w===null?(A=w=$,b=h):w=w.next=$,He.lanes|=q,Ki|=q;$=H.action,wo&&a(h,$),h=H.hasEagerState?H.eagerState:a(h,$)}else q={lane:$,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},w===null?(A=w=q,b=h):w=w.next=q,He.lanes|=$,Ki|=$;H=H.next}while(H!==null&&H!==n);if(w===null?b=h:w.next=A,!_n(h,e.memoizedState)&&(Gt=!0,Y&&(a=ta,a!==null)))throw a;e.memoizedState=h,e.baseState=b,e.baseQueue=w,s.lastRenderedState=h}return p===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function nu(e){var n=Dt(),a=n.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,p=a.pending,h=n.memoizedState;if(p!==null){a.pending=null;var b=p=p.next;do h=e(h,b.action),b=b.next;while(b!==p);_n(h,n.memoizedState)||(Gt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,s]}function jd(e,n,a){var s=He,p=Dt(),h=Xe;if(h){if(a===void 0)throw Error(l(407));a=a()}else a=n();var b=!_n((ut||p).memoizedState,a);if(b&&(p.memoizedState=a,Gt=!0),p=p.queue,au(Kd.bind(null,s,p,e),[e]),p.getSnapshot!==n||b||Pt!==null&&Pt.memoizedState.tag&1){if(s.flags|=2048,sa(9,{destroy:void 0},Jd.bind(null,s,p,a,n),null),pt===null)throw Error(l(349));h||(di&127)!==0||Yd(s,n,a)}return a}function Yd(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=He.updateQueue,n===null?(n=ns(),He.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Jd(e,n,a,s){n.value=a,n.getSnapshot=s,Xd(n)&&$d(e)}function Kd(e,n,a){return a(function(){Xd(n)&&$d(e)})}function Xd(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!_n(e,a)}catch{return!0}}function $d(e){var n=xo(e,2);n!==null&&yn(n,e,2)}function iu(e){var n=ln();if(typeof e=="function"){var a=e;if(e=a(),wo){_t(!0);try{a()}finally{_t(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:e},n}function Qd(e,n,a,s){return e.baseState=a,tu(e,ut,typeof s=="function"?s:fi)}function hv(e,n,a,s,p){if(ss(e))throw Error(l(485));if(e=n.action,e!==null){var h={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){h.listeners.push(b)}};V.T!==null?a(!0):h.isTransition=!1,s(h),a=n.pending,a===null?(h.next=n.pending=h,Zd(n,h)):(h.next=a.next,n.pending=a.next=h)}}function Zd(e,n){var a=n.action,s=n.payload,p=e.state;if(n.isTransition){var h=V.T,b={};V.T=b;try{var A=a(p,s),w=V.S;w!==null&&w(b,A),Wd(e,n,A)}catch(H){ou(e,n,H)}finally{h!==null&&b.types!==null&&(h.types=b.types),V.T=h}}else try{h=a(p,s),Wd(e,n,h)}catch(H){ou(e,n,H)}}function Wd(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){ef(e,n,s)},function(s){return ou(e,n,s)}):ef(e,n,a)}function ef(e,n,a){n.status="fulfilled",n.value=a,tf(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Zd(e,a)))}function ou(e,n,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=a,tf(n),n=n.next;while(n!==s)}e.action=null}function tf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function nf(e,n){return n}function of(e,n){if(Xe){var a=pt.formState;if(a!==null){e:{var s=He;if(Xe){if(yt){t:{for(var p=yt,h=Dn;p.nodeType!==8;){if(!h){p=null;break t}if(p=Ln(p.nextSibling),p===null){p=null;break t}}h=p.data,p=h==="F!"||h==="F"?p:null}if(p){yt=Ln(p.nextSibling),s=p.data==="F!";break e}}Hi(s)}s=!1}s&&(n=a[0])}}return a=ln(),a.memoizedState=a.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nf,lastRenderedState:n},a.queue=s,a=Tf.bind(null,He,s),s.dispatch=a,s=iu(!1),h=cu.bind(null,He,!1,s.queue),s=ln(),p={state:n,dispatch:null,action:e,pending:null},s.queue=p,a=hv.bind(null,He,p,h,a),p.dispatch=a,s.memoizedState=e,[n,a,!1]}function af(e){var n=Dt();return lf(n,ut,e)}function lf(e,n,a){if(n=tu(e,n,nf)[0],e=os(fi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=nl(n)}catch(b){throw b===na?Kl:b}else s=n;n=Dt();var p=n.queue,h=p.dispatch;return a!==n.memoizedState&&(He.flags|=2048,sa(9,{destroy:void 0},gv.bind(null,p,a),null)),[s,h,e]}function gv(e,n){e.action=n}function sf(e){var n=Dt(),a=ut;if(a!==null)return lf(n,a,e);Dt(),n=n.memoizedState,a=Dt();var s=a.queue.dispatch;return a.memoizedState=e,[n,s,!1]}function sa(e,n,a,s){return e={tag:e,create:a,deps:s,inst:n,next:null},n=He.updateQueue,n===null&&(n=ns(),He.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,n.lastEffect=e),e}function rf(){return Dt().memoizedState}function as(e,n,a,s){var p=ln();He.flags|=e,p.memoizedState=sa(1|n,{destroy:void 0},a,s===void 0?null:s)}function ls(e,n,a,s){var p=Dt();s=s===void 0?null:s;var h=p.memoizedState.inst;ut!==null&&s!==null&&Xr(s,ut.memoizedState.deps)?p.memoizedState=sa(n,h,a,s):(He.flags|=e,p.memoizedState=sa(1|n,h,a,s))}function uf(e,n){as(8390656,8,e,n)}function au(e,n){ls(2048,8,e,n)}function vv(e){He.flags|=4;var n=He.updateQueue;if(n===null)n=ns(),He.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function cf(e){var n=Dt().memoizedState;return vv({ref:n,nextImpl:e}),function(){if((it&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function df(e,n){return ls(4,2,e,n)}function ff(e,n){return ls(4,4,e,n)}function pf(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function mf(e,n,a){a=a!=null?a.concat([e]):null,ls(4,4,pf.bind(null,n,e),a)}function lu(){}function hf(e,n){var a=Dt();n=n===void 0?null:n;var s=a.memoizedState;return n!==null&&Xr(n,s[1])?s[0]:(a.memoizedState=[e,n],e)}function gf(e,n){var a=Dt();n=n===void 0?null:n;var s=a.memoizedState;if(n!==null&&Xr(n,s[1]))return s[0];if(s=e(),wo){_t(!0);try{e()}finally{_t(!1)}}return a.memoizedState=[s,n],s}function su(e,n,a){return a===void 0||(di&1073741824)!==0&&(Je&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=vp(),He.lanes|=e,Ki|=e,a)}function vf(e,n,a,s){return _n(a,n)?a:oa.current!==null?(e=su(e,a,s),_n(e,n)||(Gt=!0),e):(di&42)===0||(di&1073741824)!==0&&(Je&261930)===0?(Gt=!0,e.memoizedState=a):(e=vp(),He.lanes|=e,Ki|=e,n)}function yf(e,n,a,s,p){var h=W.p;W.p=h!==0&&8>h?h:8;var b=V.T,A={};V.T=A,cu(e,!1,n,a);try{var w=p(),H=V.S;if(H!==null&&H(A,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var Y=fv(w,s);il(e,n,Y,An(e))}else il(e,n,s,An(e))}catch($){il(e,n,{then:function(){},status:"rejected",reason:$},An())}finally{W.p=h,b!==null&&A.types!==null&&(b.types=A.types),V.T=b}}function yv(){}function ru(e,n,a,s){if(e.tag!==5)throw Error(l(476));var p=xf(e).queue;yf(e,p,n,te,a===null?yv:function(){return _f(e),a(s)})}function xf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:te},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function _f(e){var n=xf(e);n.next===null&&(n=e.alternate.memoizedState),il(e,n.next.queue,{},An())}function uu(){return Xt(_l)}function bf(){return Dt().memoizedState}function Sf(){return Dt().memoizedState}function xv(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=An();e=Bi(a);var s=Fi(n,e,a);s!==null&&(yn(s,n,a),Za(s,n,a)),n={cache:Gr()},e.payload=n;return}n=n.return}}function _v(e,n,a){var s=An();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ss(e)?Ef(n,a):(a=Nr(e,n,a,s),a!==null&&(yn(a,e,s),Cf(a,n,s)))}function Tf(e,n,a){var s=An();il(e,n,a,s)}function il(e,n,a,s){var p={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ss(e))Ef(n,p);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var b=n.lastRenderedState,A=h(b,a);if(p.hasEagerState=!0,p.eagerState=A,_n(A,b))return Vl(e,n,p,0),pt===null&&ql(),!1}catch{}finally{}if(a=Nr(e,n,p,s),a!==null)return yn(a,e,s),Cf(a,n,s),!0}return!1}function cu(e,n,a,s){if(s={lane:2,revertLane:Bu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ss(e)){if(n)throw Error(l(479))}else n=Nr(e,a,s,2),n!==null&&yn(n,e,2)}function ss(e){var n=e.alternate;return e===He||n!==null&&n===He}function Ef(e,n){aa=es=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Cf(e,n,a){if((a&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,a|=s,n.lanes=a,ze(e,a)}}var ol={readContext:Xt,use:is,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};ol.useEffectEvent=Et;var Af={readContext:Xt,use:is,useCallback:function(e,n){return ln().memoizedState=[e,n===void 0?null:n],e},useContext:Xt,useEffect:uf,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,as(4194308,4,pf.bind(null,n,e),a)},useLayoutEffect:function(e,n){return as(4194308,4,e,n)},useInsertionEffect:function(e,n){as(4,2,e,n)},useMemo:function(e,n){var a=ln();n=n===void 0?null:n;var s=e();if(wo){_t(!0);try{e()}finally{_t(!1)}}return a.memoizedState=[s,n],s},useReducer:function(e,n,a){var s=ln();if(a!==void 0){var p=a(n);if(wo){_t(!0);try{a(n)}finally{_t(!1)}}}else p=n;return s.memoizedState=s.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},s.queue=e,e=e.dispatch=_v.bind(null,He,e),[s.memoizedState,e]},useRef:function(e){var n=ln();return e={current:e},n.memoizedState=e},useState:function(e){e=iu(e);var n=e.queue,a=Tf.bind(null,He,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:lu,useDeferredValue:function(e,n){var a=ln();return su(a,e,n)},useTransition:function(){var e=iu(!1);return e=yf.bind(null,He,e.queue,!0,!1),ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var s=He,p=ln();if(Xe){if(a===void 0)throw Error(l(407));a=a()}else{if(a=n(),pt===null)throw Error(l(349));(Je&127)!==0||Yd(s,n,a)}p.memoizedState=a;var h={value:a,getSnapshot:n};return p.queue=h,uf(Kd.bind(null,s,h,e),[e]),s.flags|=2048,sa(9,{destroy:void 0},Jd.bind(null,s,h,a,n),null),a},useId:function(){var e=ln(),n=pt.identifierPrefix;if(Xe){var a=Zn,s=Qn;a=(s&~(1<<32-Tt(s)-1)).toString(32)+a,n="_"+n+"R_"+a,a=ts++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=pv++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:uu,useFormState:of,useActionState:of,useOptimistic:function(e){var n=ln();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=cu.bind(null,He,!0,a),a.dispatch=n,[e,n]},useMemoCache:eu,useCacheRefresh:function(){return ln().memoizedState=xv.bind(null,He)},useEffectEvent:function(e){var n=ln(),a={impl:e};return n.memoizedState=a,function(){if((it&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},du={readContext:Xt,use:is,useCallback:hf,useContext:Xt,useEffect:au,useImperativeHandle:mf,useInsertionEffect:df,useLayoutEffect:ff,useMemo:gf,useReducer:os,useRef:rf,useState:function(){return os(fi)},useDebugValue:lu,useDeferredValue:function(e,n){var a=Dt();return vf(a,ut.memoizedState,e,n)},useTransition:function(){var e=os(fi)[0],n=Dt().memoizedState;return[typeof e=="boolean"?e:nl(e),n]},useSyncExternalStore:jd,useId:bf,useHostTransitionStatus:uu,useFormState:af,useActionState:af,useOptimistic:function(e,n){var a=Dt();return Qd(a,ut,e,n)},useMemoCache:eu,useCacheRefresh:Sf};du.useEffectEvent=cf;var Nf={readContext:Xt,use:is,useCallback:hf,useContext:Xt,useEffect:au,useImperativeHandle:mf,useInsertionEffect:df,useLayoutEffect:ff,useMemo:gf,useReducer:nu,useRef:rf,useState:function(){return nu(fi)},useDebugValue:lu,useDeferredValue:function(e,n){var a=Dt();return ut===null?su(a,e,n):vf(a,ut.memoizedState,e,n)},useTransition:function(){var e=nu(fi)[0],n=Dt().memoizedState;return[typeof e=="boolean"?e:nl(e),n]},useSyncExternalStore:jd,useId:bf,useHostTransitionStatus:uu,useFormState:sf,useActionState:sf,useOptimistic:function(e,n){var a=Dt();return ut!==null?Qd(a,ut,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:eu,useCacheRefresh:Sf};Nf.useEffectEvent=cf;function fu(e,n,a,s){n=e.memoizedState,a=a(s,n),a=a==null?n:_({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var pu={enqueueSetState:function(e,n,a){e=e._reactInternals;var s=An(),p=Bi(s);p.payload=n,a!=null&&(p.callback=a),n=Fi(e,p,s),n!==null&&(yn(n,e,s),Za(n,e,s))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var s=An(),p=Bi(s);p.tag=1,p.payload=n,a!=null&&(p.callback=a),n=Fi(e,p,s),n!==null&&(yn(n,e,s),Za(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=An(),s=Bi(a);s.tag=2,n!=null&&(s.callback=n),n=Fi(e,s,a),n!==null&&(yn(n,e,a),Za(n,e,a))}};function wf(e,n,a,s,p,h,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,b):n.prototype&&n.prototype.isPureReactComponent?!Oa(a,s)||!Oa(p,h):!0}function Mf(e,n,a,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,s),n.state!==e&&pu.enqueueReplaceState(n,n.state,null)}function Mo(e,n){var a=n;if("ref"in n){a={};for(var s in n)s!=="ref"&&(a[s]=n[s])}if(e=e.defaultProps){a===n&&(a=_({},a));for(var p in e)a[p]===void 0&&(a[p]=e[p])}return a}function Rf(e){Hl(e)}function If(e){console.error(e)}function kf(e){Hl(e)}function rs(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function Df(e,n,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function mu(e,n,a){return a=Bi(a),a.tag=3,a.payload={element:null},a.callback=function(){rs(e,n)},a}function Uf(e){return e=Bi(e),e.tag=3,e}function Lf(e,n,a,s){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var h=s.value;e.payload=function(){return p(h)},e.callback=function(){Df(n,a,s)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){Df(n,a,s),typeof p!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var A=s.stack;this.componentDidCatch(s.value,{componentStack:A!==null?A:""})})}function bv(e,n,a,s,p){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=a.alternate,n!==null&&Wo(n,a,p,!0),a=Sn.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?_s():a.alternate===null&&Ct===0&&(Ct=3),a.flags&=-257,a.flags|=65536,a.lanes=p,s===Xl?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([s]):n.add(s),Hu(e,s,p)),!1;case 22:return a.flags|=65536,s===Xl?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([s]):a.add(s)),Hu(e,s,p)),!1}throw Error(l(435,a.tag))}return Hu(e,s,p),_s(),!1}if(Xe)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=p,s!==Dr&&(e=Error(l(422),{cause:s}),Ja(Rn(e,a)))):(s!==Dr&&(n=Error(l(423),{cause:s}),Ja(Rn(n,a))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,s=Rn(s,a),p=mu(e.stateNode,s,p),Or(e,p),Ct!==4&&(Ct=2)),!1;var h=Error(l(520),{cause:s});if(h=Rn(h,a),fl===null?fl=[h]:fl.push(h),Ct!==4&&(Ct=2),n===null)return!0;s=Rn(s,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=p&-p,a.lanes|=e,e=mu(a.stateNode,s,e),Or(a,e),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Xi===null||!Xi.has(h))))return a.flags|=65536,p&=-p,a.lanes|=p,p=Uf(p),Lf(p,e,a,s),Or(a,p),!1}a=a.return}while(a!==null);return!1}var hu=Error(l(461)),Gt=!1;function $t(e,n,a,s){n.child=e===null?Gd(n,null,a,s):No(n,e.child,a,s)}function zf(e,n,a,s,p){a=a.render;var h=n.ref;if("ref"in s){var b={};for(var A in s)A!=="ref"&&(b[A]=s[A])}else b=s;return To(n),s=$r(e,n,a,b,h,p),A=Qr(),e!==null&&!Gt?(Zr(e,n,p),pi(e,n,p)):(Xe&&A&&Ir(n),n.flags|=1,$t(e,n,s,p),n.child)}function Pf(e,n,a,s,p){if(e===null){var h=a.type;return typeof h=="function"&&!wr(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,Gf(e,n,h,s,p)):(e=Fl(a.type,null,s,n,n.mode,p),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!Tu(e,p)){var b=h.memoizedProps;if(a=a.compare,a=a!==null?a:Oa,a(b,s)&&e.ref===n.ref)return pi(e,n,p)}return n.flags|=1,e=si(h,s),e.ref=n.ref,e.return=n,n.child=e}function Gf(e,n,a,s,p){if(e!==null){var h=e.memoizedProps;if(Oa(h,s)&&e.ref===n.ref)if(Gt=!1,n.pendingProps=s=h,Tu(e,p))(e.flags&131072)!==0&&(Gt=!0);else return n.lanes=e.lanes,pi(e,n,p)}return gu(e,n,a,s,p)}function Hf(e,n,a,s){var p=s.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,e!==null){for(s=n.child=e.child,p=0;s!==null;)p=p|s.lanes|s.childLanes,s=s.sibling;s=p&~h}else s=0,n.child=null;return qf(e,n,h,a,s)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Jl(n,h!==null?h.cachePool:null),h!==null?Vd(n,h):Yr(),Bd(n);else return s=n.lanes=536870912,qf(e,n,h!==null?h.baseLanes|a:a,a,s)}else h!==null?(Jl(n,h.cachePool),Vd(n,h),ji(),n.memoizedState=null):(e!==null&&Jl(n,null),Yr(),ji());return $t(e,n,p,a),n.child}function al(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function qf(e,n,a,s,p){var h=qr();return h=h===null?null:{parent:zt._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&Jl(n,null),Yr(),Bd(n),e!==null&&Wo(e,n,s,!0),n.childLanes=p,null}function us(e,n){return n=ds({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Vf(e,n,a){return No(n,e.child,null,a),e=us(n,n.pendingProps),e.flags|=2,Tn(n),n.memoizedState=null,e}function Sv(e,n,a){var s=n.pendingProps,p=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Xe){if(s.mode==="hidden")return e=us(n,s),n.lanes=536870912,al(null,e);if(Kr(n),(e=yt)?(e=Wp(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Pi!==null?{id:Qn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},a=Td(e),a.return=n,n.child=a,Kt=n,yt=null)):e=null,e===null)throw Hi(n);return n.lanes=536870912,null}return us(n,s)}var h=e.memoizedState;if(h!==null){var b=h.dehydrated;if(Kr(n),p)if(n.flags&256)n.flags&=-257,n=Vf(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(l(558));else if(Gt||Wo(e,n,a,!1),p=(a&e.childLanes)!==0,Gt||p){if(s=pt,s!==null&&(b=ka(s,a),b!==0&&b!==h.retryLane))throw h.retryLane=b,xo(e,b),yn(s,e,b),hu;_s(),n=Vf(e,n,a)}else e=h.treeContext,yt=Ln(b.nextSibling),Kt=n,Xe=!0,Gi=null,Dn=!1,e!==null&&Ad(n,e),n=us(n,s),n.flags|=4096;return n}return e=si(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function cs(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function gu(e,n,a,s,p){return To(n),a=$r(e,n,a,s,void 0,p),s=Qr(),e!==null&&!Gt?(Zr(e,n,p),pi(e,n,p)):(Xe&&s&&Ir(n),n.flags|=1,$t(e,n,a,p),n.child)}function Bf(e,n,a,s,p,h){return To(n),n.updateQueue=null,a=Od(n,s,a,p),Fd(e),s=Qr(),e!==null&&!Gt?(Zr(e,n,h),pi(e,n,h)):(Xe&&s&&Ir(n),n.flags|=1,$t(e,n,a,h),n.child)}function Ff(e,n,a,s,p){if(To(n),n.stateNode===null){var h=Xo,b=a.contextType;typeof b=="object"&&b!==null&&(h=Xt(b)),h=new a(s,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=pu,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=s,h.state=n.memoizedState,h.refs={},Br(n),b=a.contextType,h.context=typeof b=="object"&&b!==null?Xt(b):Xo,h.state=n.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(fu(n,a,b,s),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(b=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),b!==h.state&&pu.enqueueReplaceState(h,h.state,null),el(n,s,h,p),Wa(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){h=n.stateNode;var A=n.memoizedProps,w=Mo(a,A);h.props=w;var H=h.context,Y=a.contextType;b=Xo,typeof Y=="object"&&Y!==null&&(b=Xt(Y));var $=a.getDerivedStateFromProps;Y=typeof $=="function"||typeof h.getSnapshotBeforeUpdate=="function",A=n.pendingProps!==A,Y||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(A||H!==b)&&Mf(n,h,s,b),Vi=!1;var q=n.memoizedState;h.state=q,el(n,s,h,p),Wa(),H=n.memoizedState,A||q!==H||Vi?(typeof $=="function"&&(fu(n,a,$,s),H=n.memoizedState),(w=Vi||wf(n,a,w,s,q,H,b))?(Y||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=H),h.props=s,h.state=H,h.context=b,s=w):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{h=n.stateNode,Fr(e,n),b=n.memoizedProps,Y=Mo(a,b),h.props=Y,$=n.pendingProps,q=h.context,H=a.contextType,w=Xo,typeof H=="object"&&H!==null&&(w=Xt(H)),A=a.getDerivedStateFromProps,(H=typeof A=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b!==$||q!==w)&&Mf(n,h,s,w),Vi=!1,q=n.memoizedState,h.state=q,el(n,s,h,p),Wa();var O=n.memoizedState;b!==$||q!==O||Vi||e!==null&&e.dependencies!==null&&jl(e.dependencies)?(typeof A=="function"&&(fu(n,a,A,s),O=n.memoizedState),(Y=Vi||wf(n,a,Y,s,q,O,w)||e!==null&&e.dependencies!==null&&jl(e.dependencies))?(H||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,O,w),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,O,w)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=O),h.props=s,h.state=O,h.context=w,s=Y):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),s=!1)}return h=s,cs(e,n),s=(n.flags&128)!==0,h||s?(h=n.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&s?(n.child=No(n,e.child,null,p),n.child=No(n,null,a,p)):$t(e,n,a,p),n.memoizedState=h.state,e=n.child):e=pi(e,n,p),e}function Of(e,n,a,s){return bo(),n.flags|=256,$t(e,n,a,s),n.child}var vu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yu(e){return{baseLanes:e,cachePool:kd()}}function xu(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Cn),e}function jf(e,n,a){var s=n.pendingProps,p=!1,h=(n.flags&128)!==0,b;if((b=h)||(b=e!==null&&e.memoizedState===null?!1:(kt.current&2)!==0),b&&(p=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,e===null){if(Xe){if(p?Oi(n):ji(),(e=yt)?(e=Wp(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Pi!==null?{id:Qn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},a=Td(e),a.return=n,n.child=a,Kt=n,yt=null)):e=null,e===null)throw Hi(n);return tc(e)?n.lanes=32:n.lanes=536870912,null}var A=s.children;return s=s.fallback,p?(ji(),p=n.mode,A=ds({mode:"hidden",children:A},p),s=_o(s,p,a,null),A.return=n,s.return=n,A.sibling=s,n.child=A,s=n.child,s.memoizedState=yu(a),s.childLanes=xu(e,b,a),n.memoizedState=vu,al(null,s)):(Oi(n),_u(n,A))}var w=e.memoizedState;if(w!==null&&(A=w.dehydrated,A!==null)){if(h)n.flags&256?(Oi(n),n.flags&=-257,n=bu(e,n,a)):n.memoizedState!==null?(ji(),n.child=e.child,n.flags|=128,n=null):(ji(),A=s.fallback,p=n.mode,s=ds({mode:"visible",children:s.children},p),A=_o(A,p,a,null),A.flags|=2,s.return=n,A.return=n,s.sibling=A,n.child=s,No(n,e.child,null,a),s=n.child,s.memoizedState=yu(a),s.childLanes=xu(e,b,a),n.memoizedState=vu,n=al(null,s));else if(Oi(n),tc(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var H=b.dgst;b=H,s=Error(l(419)),s.stack="",s.digest=b,Ja({value:s,source:null,stack:null}),n=bu(e,n,a)}else if(Gt||Wo(e,n,a,!1),b=(a&e.childLanes)!==0,Gt||b){if(b=pt,b!==null&&(s=ka(b,a),s!==0&&s!==w.retryLane))throw w.retryLane=s,xo(e,s),yn(b,e,s),hu;ec(A)||_s(),n=bu(e,n,a)}else ec(A)?(n.flags|=192,n.child=e.child,n=null):(e=w.treeContext,yt=Ln(A.nextSibling),Kt=n,Xe=!0,Gi=null,Dn=!1,e!==null&&Ad(n,e),n=_u(n,s.children),n.flags|=4096);return n}return p?(ji(),A=s.fallback,p=n.mode,w=e.child,H=w.sibling,s=si(w,{mode:"hidden",children:s.children}),s.subtreeFlags=w.subtreeFlags&65011712,H!==null?A=si(H,A):(A=_o(A,p,a,null),A.flags|=2),A.return=n,s.return=n,s.sibling=A,n.child=s,al(null,s),s=n.child,A=e.child.memoizedState,A===null?A=yu(a):(p=A.cachePool,p!==null?(w=zt._currentValue,p=p.parent!==w?{parent:w,pool:w}:p):p=kd(),A={baseLanes:A.baseLanes|a,cachePool:p}),s.memoizedState=A,s.childLanes=xu(e,b,a),n.memoizedState=vu,al(e.child,s)):(Oi(n),a=e.child,e=a.sibling,a=si(a,{mode:"visible",children:s.children}),a.return=n,a.sibling=null,e!==null&&(b=n.deletions,b===null?(n.deletions=[e],n.flags|=16):b.push(e)),n.child=a,n.memoizedState=null,a)}function _u(e,n){return n=ds({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ds(e,n){return e=bn(22,e,null,n),e.lanes=0,e}function bu(e,n,a){return No(n,e.child,null,a),e=_u(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Yf(e,n,a){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),zr(e.return,n,a)}function Su(e,n,a,s,p,h){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:p,treeForkCount:h}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=s,b.tail=a,b.tailMode=p,b.treeForkCount=h)}function Jf(e,n,a){var s=n.pendingProps,p=s.revealOrder,h=s.tail;s=s.children;var b=kt.current,A=(b&2)!==0;if(A?(b=b&1|2,n.flags|=128):b&=1,ee(kt,b),$t(e,n,s,a),s=Xe?Ya:0,!A&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yf(e,a,n);else if(e.tag===19)Yf(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(a=n.child,p=null;a!==null;)e=a.alternate,e!==null&&Wl(e)===null&&(p=a),a=a.sibling;a=p,a===null?(p=n.child,n.child=null):(p=a.sibling,a.sibling=null),Su(n,!1,p,a,h,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,p=n.child,n.child=null;p!==null;){if(e=p.alternate,e!==null&&Wl(e)===null){n.child=p;break}e=p.sibling,p.sibling=a,a=p,p=e}Su(n,!0,a,null,h,s);break;case"together":Su(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function pi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Ki|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Wo(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,a=si(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=si(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Tu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&jl(e)))}function Tv(e,n,a){switch(n.tag){case 3:tt(n,n.stateNode.containerInfo),qi(n,zt,e.memoizedState.cache),bo();break;case 27:case 5:we(n);break;case 4:tt(n,n.stateNode.containerInfo);break;case 10:qi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Kr(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Oi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?jf(e,n,a):(Oi(n),e=pi(e,n,a),e!==null?e.sibling:null);Oi(n);break;case 19:var p=(e.flags&128)!==0;if(s=(a&n.childLanes)!==0,s||(Wo(e,n,a,!1),s=(a&n.childLanes)!==0),p){if(s)return Jf(e,n,a);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ee(kt,kt.current),s)break;return null;case 22:return n.lanes=0,Hf(e,n,a,n.pendingProps);case 24:qi(n,zt,e.memoizedState.cache)}return pi(e,n,a)}function Kf(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Gt=!0;else{if(!Tu(e,a)&&(n.flags&128)===0)return Gt=!1,Tv(e,n,a);Gt=(e.flags&131072)!==0}else Gt=!1,Xe&&(n.flags&1048576)!==0&&Cd(n,Ya,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=Co(n.elementType),n.type=e,typeof e=="function")wr(e)?(s=Mo(e,s),n.tag=1,n=Ff(null,n,e,s,a)):(n.tag=0,n=gu(null,n,e,s,a));else{if(e!=null){var p=e.$$typeof;if(p===oe){n.tag=11,n=zf(null,n,e,s,a);break e}else if(p===Z){n.tag=14,n=Pf(null,n,e,s,a);break e}}throw n=qe(e)||e,Error(l(306,n,""))}}return n;case 0:return gu(e,n,n.type,n.pendingProps,a);case 1:return s=n.type,p=Mo(s,n.pendingProps),Ff(e,n,s,p,a);case 3:e:{if(tt(n,n.stateNode.containerInfo),e===null)throw Error(l(387));s=n.pendingProps;var h=n.memoizedState;p=h.element,Fr(e,n),el(n,s,null,a);var b=n.memoizedState;if(s=b.cache,qi(n,zt,s),s!==h.cache&&Pr(n,[zt],a,!0),Wa(),s=b.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Of(e,n,s,a);break e}else if(s!==p){p=Rn(Error(l(424)),n),Ja(p),n=Of(e,n,s,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(yt=Ln(e.firstChild),Kt=n,Xe=!0,Gi=null,Dn=!0,a=Gd(n,null,s,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(bo(),s===p){n=pi(e,n,a);break e}$t(e,n,s,a)}n=n.child}return n;case 26:return cs(e,n),e===null?(a=am(n.type,null,n.pendingProps,null))?n.memoizedState=a:Xe||(a=n.type,e=n.pendingProps,s=Ns(Be.current).createElement(a),s[ht]=n,s[vt]=e,Qt(s,a,e),wt(s),n.stateNode=s):n.memoizedState=am(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return we(n),e===null&&Xe&&(s=n.stateNode=nm(n.type,n.pendingProps,Be.current),Kt=n,Dn=!0,p=yt,Wi(n.type)?(nc=p,yt=Ln(s.firstChild)):yt=p),$t(e,n,n.pendingProps.children,a),cs(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Xe&&((p=s=yt)&&(s=Wv(s,n.type,n.pendingProps,Dn),s!==null?(n.stateNode=s,Kt=n,yt=Ln(s.firstChild),Dn=!1,p=!0):p=!1),p||Hi(n)),we(n),p=n.type,h=n.pendingProps,b=e!==null?e.memoizedProps:null,s=h.children,Qu(p,h)?s=null:b!==null&&Qu(p,b)&&(n.flags|=32),n.memoizedState!==null&&(p=$r(e,n,mv,null,null,a),_l._currentValue=p),cs(e,n),$t(e,n,s,a),n.child;case 6:return e===null&&Xe&&((e=a=yt)&&(a=ey(a,n.pendingProps,Dn),a!==null?(n.stateNode=a,Kt=n,yt=null,e=!0):e=!1),e||Hi(n)),null;case 13:return jf(e,n,a);case 4:return tt(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=No(n,null,s,a):$t(e,n,s,a),n.child;case 11:return zf(e,n,n.type,n.pendingProps,a);case 7:return $t(e,n,n.pendingProps,a),n.child;case 8:return $t(e,n,n.pendingProps.children,a),n.child;case 12:return $t(e,n,n.pendingProps.children,a),n.child;case 10:return s=n.pendingProps,qi(n,n.type,s.value),$t(e,n,s.children,a),n.child;case 9:return p=n.type._context,s=n.pendingProps.children,To(n),p=Xt(p),s=s(p),n.flags|=1,$t(e,n,s,a),n.child;case 14:return Pf(e,n,n.type,n.pendingProps,a);case 15:return Gf(e,n,n.type,n.pendingProps,a);case 19:return Jf(e,n,a);case 31:return Sv(e,n,a);case 22:return Hf(e,n,a,n.pendingProps);case 24:return To(n),s=Xt(zt),e===null?(p=qr(),p===null&&(p=pt,h=Gr(),p.pooledCache=h,h.refCount++,h!==null&&(p.pooledCacheLanes|=a),p=h),n.memoizedState={parent:s,cache:p},Br(n),qi(n,zt,p)):((e.lanes&a)!==0&&(Fr(e,n),el(n,null,null,a),Wa()),p=e.memoizedState,h=n.memoizedState,p.parent!==s?(p={parent:s,cache:s},n.memoizedState=p,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=p),qi(n,zt,s)):(s=h.cache,qi(n,zt,s),s!==p.cache&&Pr(n,[zt],a,!0))),$t(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function mi(e){e.flags|=4}function Eu(e,n,a,s,p){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(bp())e.flags|=8192;else throw Ao=Xl,Vr}else e.flags&=-16777217}function Xf(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!cm(n))if(bp())e.flags|=8192;else throw Ao=Xl,Vr}function fs(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ro():536870912,e.lanes|=n,da|=n)}function ll(e,n){if(!Xe)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function xt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(n)for(var p=e.child;p!==null;)a|=p.lanes|p.childLanes,s|=p.subtreeFlags&65011712,s|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)a|=p.lanes|p.childLanes,s|=p.subtreeFlags,s|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=s,e.childLanes=a,n}function Ev(e,n,a){var s=n.pendingProps;switch(kr(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(n),null;case 1:return xt(n),null;case 3:return a=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ci(zt),ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Zo(n)?mi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ur())),xt(n),null;case 26:var p=n.type,h=n.memoizedState;return e===null?(mi(n),h!==null?(xt(n),Xf(n,h)):(xt(n),Eu(n,p,null,s,a))):h?h!==e.memoizedState?(mi(n),xt(n),Xf(n,h)):(xt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&mi(n),xt(n),Eu(n,p,e,s,a)),null;case 27:if(Ut(n),a=Be.current,p=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&mi(n);else{if(!s){if(n.stateNode===null)throw Error(l(166));return xt(n),null}e=re.current,Zo(n)?Nd(n):(e=nm(p,s,a),n.stateNode=e,mi(n))}return xt(n),null;case 5:if(Ut(n),p=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&mi(n);else{if(!s){if(n.stateNode===null)throw Error(l(166));return xt(n),null}if(h=re.current,Zo(n))Nd(n);else{var b=Ns(Be.current);switch(h){case 1:h=b.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:h=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":h=b.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":h=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":h=b.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof s.is=="string"?b.createElement("select",{is:s.is}):b.createElement("select"),s.multiple?h.multiple=!0:s.size&&(h.size=s.size);break;default:h=typeof s.is=="string"?b.createElement(p,{is:s.is}):b.createElement(p)}}h[ht]=n,h[vt]=s;e:for(b=n.child;b!==null;){if(b.tag===5||b.tag===6)h.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===n)break e;for(;b.sibling===null;){if(b.return===null||b.return===n)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}n.stateNode=h;e:switch(Qt(h,p,s),p){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&mi(n)}}return xt(n),Eu(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&mi(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(l(166));if(e=Be.current,Zo(n)){if(e=n.stateNode,a=n.memoizedProps,s=null,p=Kt,p!==null)switch(p.tag){case 27:case 5:s=p.memoizedProps}e[ht]=n,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||jp(e.nodeValue,a)),e||Hi(n,!0)}else e=Ns(e).createTextNode(s),e[ht]=n,n.stateNode=e}return xt(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(s=Zo(n),a!==null){if(e===null){if(!s)throw Error(l(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[ht]=n}else bo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;xt(n),e=!1}else a=Ur(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Tn(n),n):(Tn(n),null);if((n.flags&128)!==0)throw Error(l(558))}return xt(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Zo(n),s!==null&&s.dehydrated!==null){if(e===null){if(!p)throw Error(l(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(l(317));p[ht]=n}else bo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;xt(n),p=!1}else p=Ur(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return n.flags&256?(Tn(n),n):(Tn(n),null)}return Tn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=n.child,p=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(p=s.alternate.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==p&&(s.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),fs(n,n.updateQueue),xt(n),null);case 4:return ue(),e===null&&Yu(n.stateNode.containerInfo),xt(n),null;case 10:return ci(n.type),xt(n),null;case 19:if(P(kt),s=n.memoizedState,s===null)return xt(n),null;if(p=(n.flags&128)!==0,h=s.rendering,h===null)if(p)ll(s,!1);else{if(Ct!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Wl(e),h!==null){for(n.flags|=128,ll(s,!1),e=h.updateQueue,n.updateQueue=e,fs(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Sd(a,e),a=a.sibling;return ee(kt,kt.current&1|2),Xe&&ri(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&Ue()>vs&&(n.flags|=128,p=!0,ll(s,!1),n.lanes=4194304)}else{if(!p)if(e=Wl(h),e!==null){if(n.flags|=128,p=!0,e=e.updateQueue,n.updateQueue=e,fs(n,e),ll(s,!0),s.tail===null&&s.tailMode==="hidden"&&!h.alternate&&!Xe)return xt(n),null}else 2*Ue()-s.renderingStartTime>vs&&a!==536870912&&(n.flags|=128,p=!0,ll(s,!1),n.lanes=4194304);s.isBackwards?(h.sibling=n.child,n.child=h):(e=s.last,e!==null?e.sibling=h:n.child=h,s.last=h)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ue(),e.sibling=null,a=kt.current,ee(kt,p?a&1|2:a&1),Xe&&ri(n,s.treeForkCount),e):(xt(n),null);case 22:case 23:return Tn(n),Jr(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(a&536870912)!==0&&(n.flags&128)===0&&(xt(n),n.subtreeFlags&6&&(n.flags|=8192)):xt(n),a=n.updateQueue,a!==null&&fs(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==a&&(n.flags|=2048),e!==null&&P(Eo),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ci(zt),xt(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function Cv(e,n){switch(kr(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ci(zt),ue(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ut(n),null;case 31:if(n.memoizedState!==null){if(Tn(n),n.alternate===null)throw Error(l(340));bo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Tn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));bo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return P(kt),null;case 4:return ue(),null;case 10:return ci(n.type),null;case 22:case 23:return Tn(n),Jr(),e!==null&&P(Eo),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ci(zt),null;case 25:return null;default:return null}}function $f(e,n){switch(kr(n),n.tag){case 3:ci(zt),ue();break;case 26:case 27:case 5:Ut(n);break;case 4:ue();break;case 31:n.memoizedState!==null&&Tn(n);break;case 13:Tn(n);break;case 19:P(kt);break;case 10:ci(n.type);break;case 22:case 23:Tn(n),Jr(),e!==null&&P(Eo);break;case 24:ci(zt)}}function sl(e,n){try{var a=n.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var p=s.next;a=p;do{if((a.tag&e)===e){s=void 0;var h=a.create,b=a.inst;s=h(),b.destroy=s}a=a.next}while(a!==p)}}catch(A){lt(n,n.return,A)}}function Yi(e,n,a){try{var s=n.updateQueue,p=s!==null?s.lastEffect:null;if(p!==null){var h=p.next;s=h;do{if((s.tag&e)===e){var b=s.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,p=n;var w=a,H=A;try{H()}catch(Y){lt(p,w,Y)}}}s=s.next}while(s!==h)}}catch(Y){lt(n,n.return,Y)}}function Qf(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{qd(n,a)}catch(s){lt(e,e.return,s)}}}function Zf(e,n,a){a.props=Mo(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){lt(e,n,s)}}function rl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(p){lt(e,n,p)}}function Wn(e,n){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(p){lt(e,n,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){lt(e,n,p)}else a.current=null}function Wf(e){var n=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(p){lt(e,e.return,p)}}function Cu(e,n,a){try{var s=e.stateNode;Jv(s,e.type,a,n),s[vt]=n}catch(p){lt(e,e.return,p)}}function ep(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Wi(e.type)||e.tag===4}function Au(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ep(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Wi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nu(e,n,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ee));else if(s!==4&&(s===27&&Wi(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Nu(e,n,a),e=e.sibling;e!==null;)Nu(e,n,a),e=e.sibling}function ps(e,n,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(s!==4&&(s===27&&Wi(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ps(e,n,a),e=e.sibling;e!==null;)ps(e,n,a),e=e.sibling}function tp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,p=n.attributes;p.length;)n.removeAttributeNode(p[0]);Qt(n,s,a),n[ht]=e,n[vt]=a}catch(h){lt(e,e.return,h)}}var hi=!1,Ht=!1,wu=!1,np=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function Av(e,n){if(e=e.containerInfo,Xu=Us,e=pd(e),br(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var p=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var b=0,A=-1,w=-1,H=0,Y=0,$=e,q=null;t:for(;;){for(var O;$!==a||p!==0&&$.nodeType!==3||(A=b+p),$!==h||s!==0&&$.nodeType!==3||(w=b+s),$.nodeType===3&&(b+=$.nodeValue.length),(O=$.firstChild)!==null;)q=$,$=O;for(;;){if($===e)break t;if(q===a&&++H===p&&(A=b),q===h&&++Y===s&&(w=b),(O=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=O}a=A===-1||w===-1?null:{start:A,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for($u={focusedElem:e,selectionRange:a},Us=!1,Ft=n;Ft!==null;)if(n=Ft,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ft=e;else for(;Ft!==null;){switch(n=Ft,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)p=e[a],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,a=n,p=h.memoizedProps,h=h.memoizedState,s=a.stateNode;try{var he=Mo(a.type,p);e=s.getSnapshotBeforeUpdate(he,h),s.__reactInternalSnapshotBeforeUpdate=e}catch(Ne){lt(a,a.return,Ne)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Wu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=n.sibling,e!==null){e.return=n.return,Ft=e;break}Ft=n.return}}function ip(e,n,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:vi(e,a),s&4&&sl(5,a);break;case 1:if(vi(e,a),s&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(b){lt(a,a.return,b)}else{var p=Mo(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(p,n,e.__reactInternalSnapshotBeforeUpdate)}catch(b){lt(a,a.return,b)}}s&64&&Qf(a),s&512&&rl(a,a.return);break;case 3:if(vi(e,a),s&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{qd(e,n)}catch(b){lt(a,a.return,b)}}break;case 27:n===null&&s&4&&tp(a);case 26:case 5:vi(e,a),n===null&&s&4&&Wf(a),s&512&&rl(a,a.return);break;case 12:vi(e,a);break;case 31:vi(e,a),s&4&&lp(e,a);break;case 13:vi(e,a),s&4&&sp(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Lv.bind(null,a),ty(e,a))));break;case 22:if(s=a.memoizedState!==null||hi,!s){n=n!==null&&n.memoizedState!==null||Ht,p=hi;var h=Ht;hi=s,(Ht=n)&&!h?yi(e,a,(a.subtreeFlags&8772)!==0):vi(e,a),hi=p,Ht=h}break;case 30:break;default:vi(e,a)}}function op(e){var n=e.alternate;n!==null&&(e.alternate=null,op(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&za(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var bt=null,mn=!1;function gi(e,n,a){for(a=a.child;a!==null;)ap(e,n,a),a=a.sibling}function ap(e,n,a){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(un,a)}catch{}switch(a.tag){case 26:Ht||Wn(a,n),gi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ht||Wn(a,n);var s=bt,p=mn;Wi(a.type)&&(bt=a.stateNode,mn=!1),gi(e,n,a),vl(a.stateNode),bt=s,mn=p;break;case 5:Ht||Wn(a,n);case 6:if(s=bt,p=mn,bt=null,gi(e,n,a),bt=s,mn=p,bt!==null)if(mn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(a.stateNode)}catch(h){lt(a,n,h)}else try{bt.removeChild(a.stateNode)}catch(h){lt(a,n,h)}break;case 18:bt!==null&&(mn?(e=bt,Qp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),xa(e)):Qp(bt,a.stateNode));break;case 4:s=bt,p=mn,bt=a.stateNode.containerInfo,mn=!0,gi(e,n,a),bt=s,mn=p;break;case 0:case 11:case 14:case 15:Yi(2,a,n),Ht||Yi(4,a,n),gi(e,n,a);break;case 1:Ht||(Wn(a,n),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Zf(a,n,s)),gi(e,n,a);break;case 21:gi(e,n,a);break;case 22:Ht=(s=Ht)||a.memoizedState!==null,gi(e,n,a),Ht=s;break;default:gi(e,n,a)}}function lp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{xa(e)}catch(a){lt(n,n.return,a)}}}function sp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xa(e)}catch(a){lt(n,n.return,a)}}function Nv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new np),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new np),n;default:throw Error(l(435,e.tag))}}function ms(e,n){var a=Nv(e);n.forEach(function(s){if(!a.has(s)){a.add(s);var p=zv.bind(null,e,s);s.then(p,p)}})}function hn(e,n){var a=n.deletions;if(a!==null)for(var s=0;s<a.length;s++){var p=a[s],h=e,b=n,A=b;e:for(;A!==null;){switch(A.tag){case 27:if(Wi(A.type)){bt=A.stateNode,mn=!1;break e}break;case 5:bt=A.stateNode,mn=!1;break e;case 3:case 4:bt=A.stateNode.containerInfo,mn=!0;break e}A=A.return}if(bt===null)throw Error(l(160));ap(h,b,p),bt=null,mn=!1,h=p.alternate,h!==null&&(h.return=null),p.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)rp(n,e),n=n.sibling}var Bn=null;function rp(e,n){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(n,e),gn(e),s&4&&(Yi(3,e,e.return),sl(3,e),Yi(5,e,e.return));break;case 1:hn(n,e),gn(e),s&512&&(Ht||a===null||Wn(a,a.return)),s&64&&hi&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var p=Bn;if(hn(n,e),gn(e),s&512&&(Ht||a===null||Wn(a,a.return)),s&4){var h=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,p=p.ownerDocument||p;t:switch(s){case"title":h=p.getElementsByTagName("title")[0],(!h||h[fo]||h[ht]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=p.createElement(s),p.head.insertBefore(h,p.querySelector("head > title"))),Qt(h,s,a),h[ht]=e,wt(h),s=h;break e;case"link":var b=rm("link","href",p).get(s+(a.href||""));if(b){for(var A=0;A<b.length;A++)if(h=b[A],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(A,1);break t}}h=p.createElement(s),Qt(h,s,a),p.head.appendChild(h);break;case"meta":if(b=rm("meta","content",p).get(s+(a.content||""))){for(A=0;A<b.length;A++)if(h=b[A],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(A,1);break t}}h=p.createElement(s),Qt(h,s,a),p.head.appendChild(h);break;default:throw Error(l(468,s))}h[ht]=e,wt(h),s=h}e.stateNode=s}else um(p,e.type,e.stateNode);else e.stateNode=sm(p,s,e.memoizedProps);else h!==s?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,s===null?um(p,e.type,e.stateNode):sm(p,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Cu(e,e.memoizedProps,a.memoizedProps)}break;case 27:hn(n,e),gn(e),s&512&&(Ht||a===null||Wn(a,a.return)),a!==null&&s&4&&Cu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(hn(n,e),gn(e),s&512&&(Ht||a===null||Wn(a,a.return)),e.flags&32){p=e.stateNode;try{ai(p,"")}catch(he){lt(e,e.return,he)}}s&4&&e.stateNode!=null&&(p=e.memoizedProps,Cu(e,p,a!==null?a.memoizedProps:p)),s&1024&&(wu=!0);break;case 6:if(hn(n,e),gn(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(he){lt(e,e.return,he)}}break;case 3:if(Rs=null,p=Bn,Bn=ws(n.containerInfo),hn(n,e),Bn=p,gn(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{xa(n.containerInfo)}catch(he){lt(e,e.return,he)}wu&&(wu=!1,up(e));break;case 4:s=Bn,Bn=ws(e.stateNode.containerInfo),hn(n,e),gn(e),Bn=s;break;case 12:hn(n,e),gn(e);break;case 31:hn(n,e),gn(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ms(e,s)));break;case 13:hn(n,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gs=Ue()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ms(e,s)));break;case 22:p=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,H=hi,Y=Ht;if(hi=H||p,Ht=Y||w,hn(n,e),Ht=Y,hi=H,gn(e),s&8192)e:for(n=e.stateNode,n._visibility=p?n._visibility&-2:n._visibility|1,p&&(a===null||w||hi||Ht||Ro(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(h=w.stateNode,p)b=h.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=w.stateNode;var $=w.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;A.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(he){lt(w,w.return,he)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=p?"":w.memoizedProps}catch(he){lt(w,w.return,he)}}}else if(n.tag===18){if(a===null){w=n;try{var O=w.stateNode;p?Zp(O,!0):Zp(w.stateNode,!1)}catch(he){lt(w,w.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,ms(e,a))));break;case 19:hn(n,e),gn(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ms(e,s)));break;case 30:break;case 21:break;default:hn(n,e),gn(e)}}function gn(e){var n=e.flags;if(n&2){try{for(var a,s=e.return;s!==null;){if(ep(s)){a=s;break}s=s.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var p=a.stateNode,h=Au(e);ps(e,h,p);break;case 5:var b=a.stateNode;a.flags&32&&(ai(b,""),a.flags&=-33);var A=Au(e);ps(e,A,b);break;case 3:case 4:var w=a.stateNode.containerInfo,H=Au(e);Nu(e,H,w);break;default:throw Error(l(161))}}catch(Y){lt(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function up(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;up(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function vi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ip(e,n.alternate,n),n=n.sibling}function Ro(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Yi(4,n,n.return),Ro(n);break;case 1:Wn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Zf(n,n.return,a),Ro(n);break;case 27:vl(n.stateNode);case 26:case 5:Wn(n,n.return),Ro(n);break;case 22:n.memoizedState===null&&Ro(n);break;case 30:Ro(n);break;default:Ro(n)}e=e.sibling}}function yi(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,p=e,h=n,b=h.flags;switch(h.tag){case 0:case 11:case 15:yi(p,h,a),sl(4,h);break;case 1:if(yi(p,h,a),s=h,p=s.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(H){lt(s,s.return,H)}if(s=h,p=s.updateQueue,p!==null){var A=s.stateNode;try{var w=p.shared.hiddenCallbacks;if(w!==null)for(p.shared.hiddenCallbacks=null,p=0;p<w.length;p++)Hd(w[p],A)}catch(H){lt(s,s.return,H)}}a&&b&64&&Qf(h),rl(h,h.return);break;case 27:tp(h);case 26:case 5:yi(p,h,a),a&&s===null&&b&4&&Wf(h),rl(h,h.return);break;case 12:yi(p,h,a);break;case 31:yi(p,h,a),a&&b&4&&lp(p,h);break;case 13:yi(p,h,a),a&&b&4&&sp(p,h);break;case 22:h.memoizedState===null&&yi(p,h,a),rl(h,h.return);break;case 30:break;default:yi(p,h,a)}n=n.sibling}}function Mu(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ka(a))}function Ru(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ka(e))}function Fn(e,n,a,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)cp(e,n,a,s),n=n.sibling}function cp(e,n,a,s){var p=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(e,n,a,s),p&2048&&sl(9,n);break;case 1:Fn(e,n,a,s);break;case 3:Fn(e,n,a,s),p&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ka(e)));break;case 12:if(p&2048){Fn(e,n,a,s),e=n.stateNode;try{var h=n.memoizedProps,b=h.id,A=h.onPostCommit;typeof A=="function"&&A(b,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){lt(n,n.return,w)}}else Fn(e,n,a,s);break;case 31:Fn(e,n,a,s);break;case 13:Fn(e,n,a,s);break;case 23:break;case 22:h=n.stateNode,b=n.alternate,n.memoizedState!==null?h._visibility&2?Fn(e,n,a,s):ul(e,n):h._visibility&2?Fn(e,n,a,s):(h._visibility|=2,ra(e,n,a,s,(n.subtreeFlags&10256)!==0||!1)),p&2048&&Mu(b,n);break;case 24:Fn(e,n,a,s),p&2048&&Ru(n.alternate,n);break;default:Fn(e,n,a,s)}}function ra(e,n,a,s,p){for(p=p&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,b=n,A=a,w=s,H=b.flags;switch(b.tag){case 0:case 11:case 15:ra(h,b,A,w,p),sl(8,b);break;case 23:break;case 22:var Y=b.stateNode;b.memoizedState!==null?Y._visibility&2?ra(h,b,A,w,p):ul(h,b):(Y._visibility|=2,ra(h,b,A,w,p)),p&&H&2048&&Mu(b.alternate,b);break;case 24:ra(h,b,A,w,p),p&&H&2048&&Ru(b.alternate,b);break;default:ra(h,b,A,w,p)}n=n.sibling}}function ul(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,s=n,p=s.flags;switch(s.tag){case 22:ul(a,s),p&2048&&Mu(s.alternate,s);break;case 24:ul(a,s),p&2048&&Ru(s.alternate,s);break;default:ul(a,s)}n=n.sibling}}var cl=8192;function ua(e,n,a){if(e.subtreeFlags&cl)for(e=e.child;e!==null;)dp(e,n,a),e=e.sibling}function dp(e,n,a){switch(e.tag){case 26:ua(e,n,a),e.flags&cl&&e.memoizedState!==null&&py(a,Bn,e.memoizedState,e.memoizedProps);break;case 5:ua(e,n,a);break;case 3:case 4:var s=Bn;Bn=ws(e.stateNode.containerInfo),ua(e,n,a),Bn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=cl,cl=16777216,ua(e,n,a),cl=s):ua(e,n,a));break;default:ua(e,n,a)}}function fp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function dl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];Ft=s,mp(s,e)}fp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pp(e),e=e.sibling}function pp(e){switch(e.tag){case 0:case 11:case 15:dl(e),e.flags&2048&&Yi(9,e,e.return);break;case 3:dl(e);break;case 12:dl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,hs(e)):dl(e);break;default:dl(e)}}function hs(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];Ft=s,mp(s,e)}fp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Yi(8,n,n.return),hs(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,hs(n));break;default:hs(n)}e=e.sibling}}function mp(e,n){for(;Ft!==null;){var a=Ft;switch(a.tag){case 0:case 11:case 15:Yi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ka(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,Ft=s;else e:for(a=e;Ft!==null;){s=Ft;var p=s.sibling,h=s.return;if(op(s),s===a){Ft=null;break e}if(p!==null){p.return=h,Ft=p;break e}Ft=h}}}var wv={getCacheForType:function(e){var n=Xt(zt),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Xt(zt).controller.signal}},Mv=typeof WeakMap=="function"?WeakMap:Map,it=0,pt=null,Oe=null,Je=0,at=0,En=null,Ji=!1,ca=!1,Iu=!1,xi=0,Ct=0,Ki=0,Io=0,ku=0,Cn=0,da=0,fl=null,vn=null,Du=!1,gs=0,hp=0,vs=1/0,ys=null,Xi=null,qt=0,$i=null,fa=null,_i=0,Uu=0,Lu=null,gp=null,pl=0,zu=null;function An(){return(it&2)!==0&&Je!==0?Je&-Je:V.T!==null?Bu():Il()}function vp(){if(Cn===0)if((Je&536870912)===0||Xe){var e=zo;zo<<=1,(zo&3932160)===0&&(zo=262144),Cn=e}else Cn=536870912;return e=Sn.current,e!==null&&(e.flags|=32),Cn}function yn(e,n,a){(e===pt&&(at===2||at===9)||e.cancelPendingCommit!==null)&&(pa(e,0),Qi(e,Je,Cn,!1)),xn(e,a),((it&2)===0||e!==pt)&&(e===pt&&((it&2)===0&&(Io|=a),Ct===4&&Qi(e,Je,Cn,!1)),ei(e))}function yp(e,n,a){if((it&6)!==0)throw Error(l(327));var s=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Ni(e,n),p=s?kv(e,n):Gu(e,n,!0),h=s;do{if(p===0){ca&&!s&&Qi(e,n,0,!1);break}else{if(a=e.current.alternate,h&&!Rv(a)){p=Gu(e,n,!1),h=!1;continue}if(p===2){if(h=n,e.errorRecoveryDisabledLanes&h)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var A=e;p=fl;var w=A.current.memoizedState.isDehydrated;if(w&&(pa(A,b).flags|=256),b=Gu(A,b,!1),b!==2){if(Iu&&!w){A.errorRecoveryDisabledLanes|=h,Io|=h,p=4;break e}h=vn,vn=p,h!==null&&(vn===null?vn=h:vn.push.apply(vn,h))}p=b}if(h=!1,p!==2)continue}}if(p===1){pa(e,0),Qi(e,n,0,!0);break}e:{switch(s=e,h=p,h){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:Qi(s,n,Cn,!Ji);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(p=gs+300-Ue(),10<p)){if(Qi(s,n,Cn,!Ji),oi(s,0,!0)!==0)break e;_i=n,s.timeoutHandle=Xp(xp.bind(null,s,a,vn,ys,Du,n,Cn,Io,da,Ji,h,"Throttled",-0,0),p);break e}xp(s,a,vn,ys,Du,n,Cn,Io,da,Ji,h,null,-0,0)}}break}while(!0);ei(e)}function xp(e,n,a,s,p,h,b,A,w,H,Y,$,q,O){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ee},dp(n,h,$);var he=(h&62914560)===h?gs-Ue():(h&4194048)===h?hp-Ue():0;if(he=my($,he),he!==null){_i=h,e.cancelPendingCommit=he(Np.bind(null,e,n,h,a,s,p,b,A,w,Y,$,null,q,O)),Qi(e,h,b,!H);return}}Np(e,n,h,a,s,p,b,A,w)}function Rv(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var p=a[s],h=p.getSnapshot;p=p.value;try{if(!_n(h(),p))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qi(e,n,a,s){n&=~ku,n&=~Io,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var p=n;0<p;){var h=31-Tt(p),b=1<<h;s[h]=-1,p&=~b}a!==0&&Rl(e,a,n)}function xs(){return(it&6)===0?(ml(0),!1):!0}function Pu(){if(Oe!==null){if(at===0)var e=Oe.return;else e=Oe,ui=So=null,Wr(e),ia=null,$a=0,e=Oe;for(;e!==null;)$f(e.alternate,e),e=e.return;Oe=null}}function pa(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,$v(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),_i=0,Pu(),pt=e,Oe=a=si(e.current,null),Je=n,at=0,En=null,Ji=!1,ca=Ni(e,n),Iu=!1,da=Cn=ku=Io=Ki=Ct=0,vn=fl=null,Du=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var p=31-Tt(s),h=1<<p;n|=e[p],s&=~h}return xi=n,ql(),a}function _p(e,n){He=null,V.H=ol,n===na||n===Kl?(n=Ld(),at=3):n===Vr?(n=Ld(),at=4):at=n===hu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Oe===null&&(Ct=1,rs(e,Rn(n,e.current)))}function bp(){var e=Sn.current;return e===null?!0:(Je&4194048)===Je?Un===null:(Je&62914560)===Je||(Je&536870912)!==0?e===Un:!1}function Sp(){var e=V.H;return V.H=ol,e===null?ol:e}function Tp(){var e=V.A;return V.A=wv,e}function _s(){Ct=4,Ji||(Je&4194048)!==Je&&Sn.current!==null||(ca=!0),(Ki&134217727)===0&&(Io&134217727)===0||pt===null||Qi(pt,Je,Cn,!1)}function Gu(e,n,a){var s=it;it|=2;var p=Sp(),h=Tp();(pt!==e||Je!==n)&&(ys=null,pa(e,n)),n=!1;var b=Ct;e:do try{if(at!==0&&Oe!==null){var A=Oe,w=En;switch(at){case 8:Pu(),b=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var H=at;if(at=0,En=null,ma(e,A,w,H),a&&ca){b=0;break e}break;default:H=at,at=0,En=null,ma(e,A,w,H)}}Iv(),b=Ct;break}catch(Y){_p(e,Y)}while(!0);return n&&e.shellSuspendCounter++,ui=So=null,it=s,V.H=p,V.A=h,Oe===null&&(pt=null,Je=0,ql()),b}function Iv(){for(;Oe!==null;)Ep(Oe)}function kv(e,n){var a=it;it|=2;var s=Sp(),p=Tp();pt!==e||Je!==n?(ys=null,vs=Ue()+500,pa(e,n)):ca=Ni(e,n);e:do try{if(at!==0&&Oe!==null){n=Oe;var h=En;t:switch(at){case 1:at=0,En=null,ma(e,n,h,1);break;case 2:case 9:if(Dd(h)){at=0,En=null,Cp(n);break}n=function(){at!==2&&at!==9||pt!==e||(at=7),ei(e)},h.then(n,n);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Dd(h)?(at=0,En=null,Cp(n)):(at=0,En=null,ma(e,n,h,7));break;case 5:var b=null;switch(Oe.tag){case 26:b=Oe.memoizedState;case 5:case 27:var A=Oe;if(b?cm(b):A.stateNode.complete){at=0,En=null;var w=A.sibling;if(w!==null)Oe=w;else{var H=A.return;H!==null?(Oe=H,bs(H)):Oe=null}break t}}at=0,En=null,ma(e,n,h,5);break;case 6:at=0,En=null,ma(e,n,h,6);break;case 8:Pu(),Ct=6;break e;default:throw Error(l(462))}}Dv();break}catch(Y){_p(e,Y)}while(!0);return ui=So=null,V.H=s,V.A=p,it=a,Oe!==null?0:(pt=null,Je=0,ql(),Ct)}function Dv(){for(;Oe!==null&&!Hn();)Ep(Oe)}function Ep(e){var n=Kf(e.alternate,e,xi);e.memoizedProps=e.pendingProps,n===null?bs(e):Oe=n}function Cp(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Bf(a,n,n.pendingProps,n.type,void 0,Je);break;case 11:n=Bf(a,n,n.pendingProps,n.type.render,n.ref,Je);break;case 5:Wr(n);default:$f(a,n),n=Oe=Sd(n,xi),n=Kf(a,n,xi)}e.memoizedProps=e.pendingProps,n===null?bs(e):Oe=n}function ma(e,n,a,s){ui=So=null,Wr(n),ia=null,$a=0;var p=n.return;try{if(bv(e,p,n,a,Je)){Ct=1,rs(e,Rn(a,e.current)),Oe=null;return}}catch(h){if(p!==null)throw Oe=p,h;Ct=1,rs(e,Rn(a,e.current)),Oe=null;return}n.flags&32768?(Xe||s===1?e=!0:ca||(Je&536870912)!==0?e=!1:(Ji=e=!0,(s===2||s===9||s===3||s===6)&&(s=Sn.current,s!==null&&s.tag===13&&(s.flags|=16384))),Ap(n,e)):bs(n)}function bs(e){var n=e;do{if((n.flags&32768)!==0){Ap(n,Ji);return}e=n.return;var a=Ev(n.alternate,n,xi);if(a!==null){Oe=a;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=e}while(n!==null);Ct===0&&(Ct=5)}function Ap(e,n){do{var a=Cv(e.alternate,e);if(a!==null){a.flags&=32767,Oe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=a}while(e!==null);Ct=6,Oe=null}function Np(e,n,a,s,p,h,b,A,w){e.cancelPendingCommit=null;do Ss();while(qt!==0);if((it&6)!==0)throw Error(l(327));if(n!==null){if(n===e.current)throw Error(l(177));if(h=n.lanes|n.childLanes,h|=Ar,wi(e,a,h,b,A,w),e===pt&&(Oe=pt=null,Je=0),fa=n,$i=e,_i=a,Uu=h,Lu=p,gp=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Pv(Jn,function(){return kp(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=V.T,V.T=null,p=W.p,W.p=2,b=it,it|=4;try{Av(e,n,a)}finally{it=b,W.p=p,V.T=s}}qt=1,wp(),Mp(),Rp()}}function wp(){if(qt===1){qt=0;var e=$i,n=fa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=V.T,V.T=null;var s=W.p;W.p=2;var p=it;it|=4;try{rp(n,e);var h=$u,b=pd(e.containerInfo),A=h.focusedElem,w=h.selectionRange;if(b!==A&&A&&A.ownerDocument&&fd(A.ownerDocument.documentElement,A)){if(w!==null&&br(A)){var H=w.start,Y=w.end;if(Y===void 0&&(Y=H),"selectionStart"in A)A.selectionStart=H,A.selectionEnd=Math.min(Y,A.value.length);else{var $=A.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var O=q.getSelection(),he=A.textContent.length,Ne=Math.min(w.start,he),dt=w.end===void 0?Ne:Math.min(w.end,he);!O.extend&&Ne>dt&&(b=dt,dt=Ne,Ne=b);var z=dd(A,Ne),L=dd(A,dt);if(z&&L&&(O.rangeCount!==1||O.anchorNode!==z.node||O.anchorOffset!==z.offset||O.focusNode!==L.node||O.focusOffset!==L.offset)){var G=$.createRange();G.setStart(z.node,z.offset),O.removeAllRanges(),Ne>dt?(O.addRange(G),O.extend(L.node,L.offset)):(G.setEnd(L.node,L.offset),O.addRange(G))}}}}for($=[],O=A;O=O.parentNode;)O.nodeType===1&&$.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<$.length;A++){var K=$[A];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Us=!!Xu,$u=Xu=null}finally{it=p,W.p=s,V.T=a}}e.current=n,qt=2}}function Mp(){if(qt===2){qt=0;var e=$i,n=fa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=V.T,V.T=null;var s=W.p;W.p=2;var p=it;it|=4;try{ip(e,n.alternate,n)}finally{it=p,W.p=s,V.T=a}}qt=3}}function Rp(){if(qt===4||qt===3){qt=0,Nt();var e=$i,n=fa,a=_i,s=gp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?qt=5:(qt=0,fa=$i=null,Ip(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(Xi=null),Zt(a),n=n.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(un,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=V.T,p=W.p,W.p=2,V.T=null;try{for(var h=e.onRecoverableError,b=0;b<s.length;b++){var A=s[b];h(A.value,{componentStack:A.stack})}}finally{V.T=n,W.p=p}}(_i&3)!==0&&Ss(),ei(e),p=e.pendingLanes,(a&261930)!==0&&(p&42)!==0?e===zu?pl++:(pl=0,zu=e):pl=0,ml(0)}}function Ip(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ka(n)))}function Ss(){return wp(),Mp(),Rp(),kp()}function kp(){if(qt!==5)return!1;var e=$i,n=Uu;Uu=0;var a=Zt(_i),s=V.T,p=W.p;try{W.p=32>a?32:a,V.T=null,a=Lu,Lu=null;var h=$i,b=_i;if(qt=0,fa=$i=null,_i=0,(it&6)!==0)throw Error(l(331));var A=it;if(it|=4,pp(h.current),cp(h,h.current,b,a),it=A,ml(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(un,h)}catch{}return!0}finally{W.p=p,V.T=s,Ip(e,n)}}function Dp(e,n,a){n=Rn(a,n),n=mu(e.stateNode,n,2),e=Fi(e,n,2),e!==null&&(xn(e,2),ei(e))}function lt(e,n,a){if(e.tag===3)Dp(e,e,a);else for(;n!==null;){if(n.tag===3){Dp(n,e,a);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Xi===null||!Xi.has(s))){e=Rn(a,e),a=Uf(2),s=Fi(n,a,2),s!==null&&(Lf(a,s,n,e),xn(s,2),ei(s));break}}n=n.return}}function Hu(e,n,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Mv;var p=new Set;s.set(n,p)}else p=s.get(n),p===void 0&&(p=new Set,s.set(n,p));p.has(a)||(Iu=!0,p.add(a),e=Uv.bind(null,e,n,a),n.then(e,e))}function Uv(e,n,a){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,pt===e&&(Je&a)===a&&(Ct===4||Ct===3&&(Je&62914560)===Je&&300>Ue()-gs?(it&2)===0&&pa(e,0):ku|=a,da===Je&&(da=0)),ei(e)}function Up(e,n){n===0&&(n=ro()),e=xo(e,n),e!==null&&(xn(e,n),ei(e))}function Lv(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Up(e,a)}function zv(e,n){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,p=e.memoizedState;p!==null&&(a=p.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(n),Up(e,a)}function Pv(e,n){return St(e,n)}var Ts=null,ha=null,qu=!1,Es=!1,Vu=!1,Zi=0;function ei(e){e!==ha&&e.next===null&&(ha===null?Ts=ha=e:ha=ha.next=e),Es=!0,qu||(qu=!0,Hv())}function ml(e,n){if(!Vu&&Es){Vu=!0;do for(var a=!1,s=Ts;s!==null;){if(e!==0){var p=s.pendingLanes;if(p===0)var h=0;else{var b=s.suspendedLanes,A=s.pingedLanes;h=(1<<31-Tt(42|e)+1)-1,h&=p&~(b&~A),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,Gp(s,h))}else h=Je,h=oi(s,s===pt?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||Ni(s,h)||(a=!0,Gp(s,h));s=s.next}while(a);Vu=!1}}function Gv(){Lp()}function Lp(){Es=qu=!1;var e=0;Zi!==0&&Xv()&&(e=Zi);for(var n=Ue(),a=null,s=Ts;s!==null;){var p=s.next,h=zp(s,n);h===0?(s.next=null,a===null?Ts=p:a.next=p,p===null&&(ha=a)):(a=s,(e!==0||(h&3)!==0)&&(Es=!0)),s=p}qt!==0&&qt!==5||ml(e),Zi!==0&&(Zi=0)}function zp(e,n){for(var a=e.suspendedLanes,s=e.pingedLanes,p=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var b=31-Tt(h),A=1<<b,w=p[b];w===-1?((A&a)===0||(A&s)!==0)&&(p[b]=pr(A,n)):w<=n&&(e.expiredLanes|=A),h&=~A}if(n=pt,a=Je,a=oi(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===n&&(at===2||at===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Vt(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ni(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(s!==null&&Vt(s),Zt(a)){case 2:case 8:a=Ai;break;case 32:a=Jn;break;case 268435456:a=jt;break;default:a=Jn}return s=Pp.bind(null,e),a=St(a,s),e.callbackPriority=n,e.callbackNode=a,n}return s!==null&&s!==null&&Vt(s),e.callbackPriority=2,e.callbackNode=null,2}function Pp(e,n){if(qt!==0&&qt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ss()&&e.callbackNode!==a)return null;var s=Je;return s=oi(e,e===pt?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(yp(e,s,n),zp(e,Ue()),e.callbackNode!=null&&e.callbackNode===a?Pp.bind(null,e):null)}function Gp(e,n){if(Ss())return null;yp(e,n,!0)}function Hv(){Qv(function(){(it&6)!==0?St(Ia,Gv):Lp()})}function Bu(){if(Zi===0){var e=ea;e===0&&(e=Lo,Lo<<=1,(Lo&261888)===0&&(Lo=256)),Zi=e}return Zi}function Hp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Me(""+e)}function qp(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function qv(e,n,a,s,p){if(n==="submit"&&a&&a.stateNode===p){var h=Hp((p[vt]||null).action),b=s.submitter;b&&(n=(n=b[vt]||null)?Hp(n.formAction):b.getAttribute("formAction"),n!==null&&(h=n,b=null));var A=new zl("action","action",null,s,p);e.push({event:A,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Zi!==0){var w=b?qp(p,b):new FormData(p);ru(a,{pending:!0,data:w,method:p.method,action:h},null,w)}}else typeof h=="function"&&(A.preventDefault(),w=b?qp(p,b):new FormData(p),ru(a,{pending:!0,data:w,method:p.method,action:h},h,w))},currentTarget:p}]})}}for(var Fu=0;Fu<Cr.length;Fu++){var Ou=Cr[Fu],Vv=Ou.toLowerCase(),Bv=Ou[0].toUpperCase()+Ou.slice(1);Vn(Vv,"on"+Bv)}Vn(gd,"onAnimationEnd"),Vn(vd,"onAnimationIteration"),Vn(yd,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(ov,"onTransitionRun"),Vn(av,"onTransitionStart"),Vn(lv,"onTransitionCancel"),Vn(xd,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function Vp(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],p=s.event;s=s.listeners;e:{var h=void 0;if(n)for(var b=s.length-1;0<=b;b--){var A=s[b],w=A.instance,H=A.currentTarget;if(A=A.listener,w!==h&&p.isPropagationStopped())break e;h=A,p.currentTarget=H;try{h(p)}catch(Y){Hl(Y)}p.currentTarget=null,h=w}else for(b=0;b<s.length;b++){if(A=s[b],w=A.instance,H=A.currentTarget,A=A.listener,w!==h&&p.isPropagationStopped())break e;h=A,p.currentTarget=H;try{h(p)}catch(Y){Hl(Y)}p.currentTarget=null,h=w}}}}function je(e,n){var a=n[Da];a===void 0&&(a=n[Da]=new Set);var s=e+"__bubble";a.has(s)||(Bp(n,e,2,!1),a.add(s))}function ju(e,n,a){var s=0;n&&(s|=4),Bp(a,e,s,n)}var Cs="_reactListening"+Math.random().toString(36).slice(2);function Yu(e){if(!e[Cs]){e[Cs]=!0,Pa.forEach(function(a){a!=="selectionchange"&&(Fv.has(a)||ju(a,!1,e),ju(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Cs]||(n[Cs]=!0,ju("selectionchange",!1,n))}}function Bp(e,n,a,s){switch(vm(n)){case 2:var p=vy;break;case 8:p=yy;break;default:p=sc}a=p.bind(null,n,a,e),p=void 0,!Oo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),s?p!==void 0?e.addEventListener(n,a,{capture:!0,passive:p}):e.addEventListener(n,a,!0):p!==void 0?e.addEventListener(n,a,{passive:p}):e.addEventListener(n,a,!1)}function Ju(e,n,a,s,p){var h=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var b=s.tag;if(b===3||b===4){var A=s.stateNode.containerInfo;if(A===p)break;if(b===4)for(b=s.return;b!==null;){var w=b.tag;if((w===3||w===4)&&b.stateNode.containerInfo===p)return;b=b.return}for(;A!==null;){if(b=Ri(A),b===null)return;if(w=b.tag,w===5||w===6||w===26||w===27){s=h=b;continue e}A=A.parentNode}}s=s.return}Le(function(){var H=h,Y=st(a),$=[];e:{var q=_d.get(e);if(q!==void 0){var O=zl,he=e;switch(e){case"keypress":if(Rt(a)===0)break e;case"keydown":case"keyup":O=zg;break;case"focusin":he="focus",O=gr;break;case"focusout":he="blur",O=gr;break;case"beforeblur":case"afterblur":O=gr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=Xc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=Eg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=Hg;break;case gd:case vd:case yd:O=Ng;break;case xd:O=Vg;break;case"scroll":case"scrollend":O=Sg;break;case"wheel":O=Fg;break;case"copy":case"cut":case"paste":O=Mg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=Qc;break;case"toggle":case"beforetoggle":O=jg}var Ne=(n&4)!==0,dt=!Ne&&(e==="scroll"||e==="scrollend"),z=Ne?q!==null?q+"Capture":null:q;Ne=[];for(var L=H,G;L!==null;){var K=L;if(G=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||G===null||z===null||(K=Wt(L,z),K!=null&&Ne.push(gl(L,K,G))),dt)break;L=L.return}0<Ne.length&&(q=new O(q,he,null,a,Y),$.push({event:q,listeners:Ne}))}}if((n&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",q&&a!==ft&&(he=a.relatedTarget||a.fromElement)&&(Ri(he)||he[Mi]))break e;if((O||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,O?(he=a.relatedTarget||a.toElement,O=H,he=he?Ri(he):null,he!==null&&(dt=d(he),Ne=he.tag,he!==dt||Ne!==5&&Ne!==27&&Ne!==6)&&(he=null)):(O=null,he=H),O!==he)){if(Ne=Xc,K="onMouseLeave",z="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(Ne=Qc,K="onPointerLeave",z="onPointerEnter",L="pointer"),dt=O==null?q:po(O),G=he==null?q:po(he),q=new Ne(K,L+"leave",O,a,Y),q.target=dt,q.relatedTarget=G,K=null,Ri(Y)===H&&(Ne=new Ne(z,L+"enter",he,a,Y),Ne.target=G,Ne.relatedTarget=dt,K=Ne),dt=K,O&&he)t:{for(Ne=Ov,z=O,L=he,G=0,K=z;K;K=Ne(K))G++;K=0;for(var Te=L;Te;Te=Ne(Te))K++;for(;0<G-K;)z=Ne(z),G--;for(;0<K-G;)L=Ne(L),K--;for(;G--;){if(z===L||L!==null&&z===L.alternate){Ne=z;break t}z=Ne(z),L=Ne(L)}Ne=null}else Ne=null;O!==null&&Fp($,q,O,Ne,!1),he!==null&&dt!==null&&Fp($,dt,he,Ne,!0)}}e:{if(q=H?po(H):window,O=q.nodeName&&q.nodeName.toLowerCase(),O==="select"||O==="input"&&q.type==="file")var Ze=ad;else if(id(q))if(ld)Ze=tv;else{Ze=Wg;var ye=Zg}else O=q.nodeName,!O||O.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&J(H.elementType)&&(Ze=ad):Ze=ev;if(Ze&&(Ze=Ze(e,H))){od($,Ze,a,Y);break e}ye&&ye(e,q,H),e==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&Bo(q,"number",q.value)}switch(ye=H?po(H):window,e){case"focusin":(id(ye)||ye.contentEditable==="true")&&(Yo=ye,Sr=H,ja=null);break;case"focusout":ja=Sr=Yo=null;break;case"mousedown":Tr=!0;break;case"contextmenu":case"mouseup":case"dragend":Tr=!1,md($,a,Y);break;case"selectionchange":if(iv)break;case"keydown":case"keyup":md($,a,Y)}var Ve;if(yr)e:{switch(e){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else jo?td(e,a)&&(Ke="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ke="onCompositionStart");Ke&&(Zc&&a.locale!=="ko"&&(jo||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&jo&&(Ve=De()):(Mt=Y,zi="value"in Mt?Mt.value:Mt.textContent,jo=!0)),ye=As(H,Ke),0<ye.length&&(Ke=new $c(Ke,e,null,a,Y),$.push({event:Ke,listeners:ye}),Ve?Ke.data=Ve:(Ve=nd(a),Ve!==null&&(Ke.data=Ve)))),(Ve=Jg?Kg(e,a):Xg(e,a))&&(Ke=As(H,"onBeforeInput"),0<Ke.length&&(ye=new $c("onBeforeInput","beforeinput",null,a,Y),$.push({event:ye,listeners:Ke}),ye.data=Ve)),qv($,e,H,a,Y)}Vp($,n)})}function gl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function As(e,n){for(var a=n+"Capture",s=[];e!==null;){var p=e,h=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||h===null||(p=Wt(e,a),p!=null&&s.unshift(gl(e,p,h)),p=Wt(e,n),p!=null&&s.push(gl(e,p,h))),e.tag===3)return s;e=e.return}return[]}function Ov(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fp(e,n,a,s,p){for(var h=n._reactName,b=[];a!==null&&a!==s;){var A=a,w=A.alternate,H=A.stateNode;if(A=A.tag,w!==null&&w===s)break;A!==5&&A!==26&&A!==27||H===null||(w=H,p?(H=Wt(a,h),H!=null&&b.unshift(gl(a,H,w))):p||(H=Wt(a,h),H!=null&&b.push(gl(a,H,w)))),a=a.return}b.length!==0&&e.push({event:n,listeners:b})}var jv=/\r\n?/g,Yv=/\u0000|\uFFFD/g;function Op(e){return(typeof e=="string"?e:""+e).replace(jv,`
`).replace(Yv,"")}function jp(e,n){return n=Op(n),Op(e)===n}function ct(e,n,a,s,p,h){switch(a){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||ai(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&ai(e,""+s);break;case"className":ho(e,"class",s);break;case"tabIndex":ho(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ho(e,a,s);break;case"style":M(e,s,h);break;case"data":if(n!=="object"){ho(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Me(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&ct(e,n,"name",p.name,p,null),ct(e,n,"formEncType",p.formEncType,p,null),ct(e,n,"formMethod",p.formMethod,p,null),ct(e,n,"formTarget",p.formTarget,p,null)):(ct(e,n,"encType",p.encType,p,null),ct(e,n,"method",p.method,p,null),ct(e,n,"target",p.target,p,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Me(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=Ee);break;case"onScroll":s!=null&&je("scroll",e);break;case"onScrollEnd":s!=null&&je("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(p.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Me(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":je("beforetoggle",e),je("toggle",e),Ho(e,"popover",s);break;case"xlinkActuate":qn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":qn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":qn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":qn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":qn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":qn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":qn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":qn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":qn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ho(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ie.get(a)||a,Ho(e,a,s))}}function Ku(e,n,a,s,p,h){switch(a){case"style":M(e,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(p.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof s=="string"?ai(e,s):(typeof s=="number"||typeof s=="bigint")&&ai(e,""+s);break;case"onScroll":s!=null&&je("scroll",e);break;case"onScrollEnd":s!=null&&je("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Ee);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),n=a.slice(2,p?a.length-7:void 0),h=e[vt]||null,h=h!=null?h[a]:null,typeof h=="function"&&e.removeEventListener(n,h,p),typeof s=="function")){typeof h!="function"&&h!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,s,p);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Ho(e,a,s)}}}function Qt(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",e),je("load",e);var s=!1,p=!1,h;for(h in a)if(a.hasOwnProperty(h)){var b=a[h];if(b!=null)switch(h){case"src":s=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:ct(e,n,h,b,a,null)}}p&&ct(e,n,"srcSet",a.srcSet,a,null),s&&ct(e,n,"src",a.src,a,null);return;case"input":je("invalid",e);var A=h=b=p=null,w=null,H=null;for(s in a)if(a.hasOwnProperty(s)){var Y=a[s];if(Y!=null)switch(s){case"name":p=Y;break;case"type":b=Y;break;case"checked":w=Y;break;case"defaultChecked":H=Y;break;case"value":h=Y;break;case"defaultValue":A=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(l(137,n));break;default:ct(e,n,s,Y,a,null)}}Ll(e,h,A,w,H,b,p,!1);return;case"select":je("invalid",e),s=b=h=null;for(p in a)if(a.hasOwnProperty(p)&&(A=a[p],A!=null))switch(p){case"value":h=A;break;case"defaultValue":b=A;break;case"multiple":s=A;default:ct(e,n,p,A,a,null)}n=h,a=b,e.multiple=!!s,n!=null?Li(e,!!s,n,!1):a!=null&&Li(e,!!s,a,!0);return;case"textarea":je("invalid",e),h=p=s=null;for(b in a)if(a.hasOwnProperty(b)&&(A=a[b],A!=null))switch(b){case"value":s=A;break;case"defaultValue":p=A;break;case"children":h=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(l(91));break;default:ct(e,n,b,A,a,null)}go(e,s,p,h);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(s=a[w],s!=null))switch(w){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:ct(e,n,w,s,a,null)}return;case"dialog":je("beforetoggle",e),je("toggle",e),je("cancel",e),je("close",e);break;case"iframe":case"object":je("load",e);break;case"video":case"audio":for(s=0;s<hl.length;s++)je(hl[s],e);break;case"image":je("error",e),je("load",e);break;case"details":je("toggle",e);break;case"embed":case"source":case"link":je("error",e),je("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(s=a[H],s!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:ct(e,n,H,s,a,null)}return;default:if(J(n)){for(Y in a)a.hasOwnProperty(Y)&&(s=a[Y],s!==void 0&&Ku(e,n,Y,s,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(s=a[A],s!=null&&ct(e,n,A,s,a,null))}function Jv(e,n,a,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,h=null,b=null,A=null,w=null,H=null,Y=null;for(O in a){var $=a[O];if(a.hasOwnProperty(O)&&$!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":w=$;default:s.hasOwnProperty(O)||ct(e,n,O,null,s,$)}}for(var q in s){var O=s[q];if($=a[q],s.hasOwnProperty(q)&&(O!=null||$!=null))switch(q){case"type":h=O;break;case"name":p=O;break;case"checked":H=O;break;case"defaultChecked":Y=O;break;case"value":b=O;break;case"defaultValue":A=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(l(137,n));break;default:O!==$&&ct(e,n,q,O,s,$)}}Ui(e,b,A,w,H,Y,h,p);return;case"select":O=b=A=q=null;for(h in a)if(w=a[h],a.hasOwnProperty(h)&&w!=null)switch(h){case"value":break;case"multiple":O=w;default:s.hasOwnProperty(h)||ct(e,n,h,null,s,w)}for(p in s)if(h=s[p],w=a[p],s.hasOwnProperty(p)&&(h!=null||w!=null))switch(p){case"value":q=h;break;case"defaultValue":A=h;break;case"multiple":b=h;default:h!==w&&ct(e,n,p,h,s,w)}n=A,a=b,s=O,q!=null?Li(e,!!a,q,!1):!!s!=!!a&&(n!=null?Li(e,!!a,n,!0):Li(e,!!a,a?[]:"",!1));return;case"textarea":O=q=null;for(A in a)if(p=a[A],a.hasOwnProperty(A)&&p!=null&&!s.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ct(e,n,A,null,s,p)}for(b in s)if(p=s[b],h=a[b],s.hasOwnProperty(b)&&(p!=null||h!=null))switch(b){case"value":q=p;break;case"defaultValue":O=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(l(91));break;default:p!==h&&ct(e,n,b,p,s,h)}Fo(e,q,O);return;case"option":for(var he in a)if(q=a[he],a.hasOwnProperty(he)&&q!=null&&!s.hasOwnProperty(he))switch(he){case"selected":e.selected=!1;break;default:ct(e,n,he,null,s,q)}for(w in s)if(q=s[w],O=a[w],s.hasOwnProperty(w)&&q!==O&&(q!=null||O!=null))switch(w){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ct(e,n,w,q,s,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in a)q=a[Ne],a.hasOwnProperty(Ne)&&q!=null&&!s.hasOwnProperty(Ne)&&ct(e,n,Ne,null,s,q);for(H in s)if(q=s[H],O=a[H],s.hasOwnProperty(H)&&q!==O&&(q!=null||O!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(l(137,n));break;default:ct(e,n,H,q,s,O)}return;default:if(J(n)){for(var dt in a)q=a[dt],a.hasOwnProperty(dt)&&q!==void 0&&!s.hasOwnProperty(dt)&&Ku(e,n,dt,void 0,s,q);for(Y in s)q=s[Y],O=a[Y],!s.hasOwnProperty(Y)||q===O||q===void 0&&O===void 0||Ku(e,n,Y,q,s,O);return}}for(var z in a)q=a[z],a.hasOwnProperty(z)&&q!=null&&!s.hasOwnProperty(z)&&ct(e,n,z,null,s,q);for($ in s)q=s[$],O=a[$],!s.hasOwnProperty($)||q===O||q==null&&O==null||ct(e,n,$,q,s,O)}function Yp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var p=a[s],h=p.transferSize,b=p.initiatorType,A=p.duration;if(h&&A&&Yp(b)){for(b=0,A=p.responseEnd,s+=1;s<a.length;s++){var w=a[s],H=w.startTime;if(H>A)break;var Y=w.transferSize,$=w.initiatorType;Y&&Yp($)&&(w=w.responseEnd,b+=Y*(w<A?1:(A-H)/(w-H)))}if(--s,n+=8*(h+b)/(p.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Xu=null,$u=null;function Ns(e){return e.nodeType===9?e:e.ownerDocument}function Jp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Qu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Zu=null;function Xv(){var e=window.event;return e&&e.type==="popstate"?e===Zu?!1:(Zu=e,!0):(Zu=null,!1)}var Xp=typeof setTimeout=="function"?setTimeout:void 0,$v=typeof clearTimeout=="function"?clearTimeout:void 0,$p=typeof Promise=="function"?Promise:void 0,Qv=typeof queueMicrotask=="function"?queueMicrotask:typeof $p<"u"?function(e){return $p.resolve(null).then(e).catch(Zv)}:Xp;function Zv(e){setTimeout(function(){throw e})}function Wi(e){return e==="head"}function Qp(e,n){var a=n,s=0;do{var p=a.nextSibling;if(e.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(p),xa(n);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")vl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,vl(a);for(var h=a.firstChild;h;){var b=h.nextSibling,A=h.nodeName;h[fo]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=b}}else a==="body"&&vl(e.ownerDocument.body);a=p}while(a);xa(n)}function Zp(e,n){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function Wu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wu(a),za(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Wv(e,n,a,s){for(;e.nodeType===1;){var p=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[fo])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function ey(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ln(e.nextSibling),e===null))return null;return e}function Wp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ln(e.nextSibling),e===null))return null;return e}function ec(e){return e.data==="$?"||e.data==="$~"}function tc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ty(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var s=function(){n(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var nc=null;function em(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Ln(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function tm(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function nm(e,n,a){switch(n=Ns(a),e){case"html":if(e=n.documentElement,!e)throw Error(l(452));return e;case"head":if(e=n.head,!e)throw Error(l(453));return e;case"body":if(e=n.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function vl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);za(e)}var zn=new Map,im=new Set;function ws(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var bi=W.d;W.d={f:ny,r:iy,D:oy,C:ay,L:ly,m:sy,X:uy,S:ry,M:cy};function ny(){var e=bi.f(),n=xs();return e||n}function iy(e){var n=Xn(e);n!==null&&n.tag===5&&n.type==="form"?_f(n):bi.r(e)}var ga=typeof document>"u"?null:document;function om(e,n,a){var s=ga;if(s&&typeof n=="string"&&n){var p=pn(n);p='link[rel="'+e+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),im.has(p)||(im.add(p),e={rel:e,crossOrigin:a,href:n},s.querySelector(p)===null&&(n=s.createElement("link"),Qt(n,"link",e),wt(n),s.head.appendChild(n)))}}function oy(e){bi.D(e),om("dns-prefetch",e,null)}function ay(e,n){bi.C(e,n),om("preconnect",e,n)}function ly(e,n,a){bi.L(e,n,a);var s=ga;if(s&&e&&n){var p='link[rel="preload"][as="'+pn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+pn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+pn(a.imageSizes)+'"]')):p+='[href="'+pn(e)+'"]';var h=p;switch(n){case"style":h=va(e);break;case"script":h=ya(e)}zn.has(h)||(e=_({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),zn.set(h,e),s.querySelector(p)!==null||n==="style"&&s.querySelector(yl(h))||n==="script"&&s.querySelector(xl(h))||(n=s.createElement("link"),Qt(n,"link",e),wt(n),s.head.appendChild(n)))}}function sy(e,n){bi.m(e,n);var a=ga;if(a&&e){var s=n&&typeof n.as=="string"?n.as:"script",p='link[rel="modulepreload"][as="'+pn(s)+'"][href="'+pn(e)+'"]',h=p;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ya(e)}if(!zn.has(h)&&(e=_({rel:"modulepreload",href:e},n),zn.set(h,e),a.querySelector(p)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xl(h)))return}s=a.createElement("link"),Qt(s,"link",e),wt(s),a.head.appendChild(s)}}}function ry(e,n,a){bi.S(e,n,a);var s=ga;if(s&&e){var p=Ii(s).hoistableStyles,h=va(e);n=n||"default";var b=p.get(h);if(!b){var A={loading:0,preload:null};if(b=s.querySelector(yl(h)))A.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":n},a),(a=zn.get(h))&&ic(e,a);var w=b=s.createElement("link");wt(w),Qt(w,"link",e),w._p=new Promise(function(H,Y){w.onload=H,w.onerror=Y}),w.addEventListener("load",function(){A.loading|=1}),w.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Ms(b,n,s)}b={type:"stylesheet",instance:b,count:1,state:A},p.set(h,b)}}}function uy(e,n){bi.X(e,n);var a=ga;if(a&&e){var s=Ii(a).hoistableScripts,p=ya(e),h=s.get(p);h||(h=a.querySelector(xl(p)),h||(e=_({src:e,async:!0},n),(n=zn.get(p))&&oc(e,n),h=a.createElement("script"),wt(h),Qt(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(p,h))}}function cy(e,n){bi.M(e,n);var a=ga;if(a&&e){var s=Ii(a).hoistableScripts,p=ya(e),h=s.get(p);h||(h=a.querySelector(xl(p)),h||(e=_({src:e,async:!0,type:"module"},n),(n=zn.get(p))&&oc(e,n),h=a.createElement("script"),wt(h),Qt(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(p,h))}}function am(e,n,a,s){var p=(p=Be.current)?ws(p):null;if(!p)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=va(a.href),a=Ii(p).hoistableStyles,s=a.get(n),s||(s={type:"style",instance:null,count:0,state:null},a.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=va(a.href);var h=Ii(p).hoistableStyles,b=h.get(e);if(b||(p=p.ownerDocument||p,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,b),(h=p.querySelector(yl(e)))&&!h._p&&(b.instance=h,b.state.loading=5),zn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(e,a),h||dy(p,e,a,b.state))),n&&s===null)throw Error(l(528,""));return b}if(n&&s!==null)throw Error(l(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ya(a),a=Ii(p).hoistableScripts,s=a.get(n),s||(s={type:"script",instance:null,count:0,state:null},a.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function va(e){return'href="'+pn(e)+'"'}function yl(e){return'link[rel="stylesheet"]['+e+"]"}function lm(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function dy(e,n,a,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),Qt(n,"link",a),wt(n),e.head.appendChild(n))}function ya(e){return'[src="'+pn(e)+'"]'}function xl(e){return"script[async]"+e}function sm(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+pn(a.href)+'"]');if(s)return n.instance=s,wt(s),s;var p=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),wt(s),Qt(s,"style",p),Ms(s,a.precedence,e),n.instance=s;case"stylesheet":p=va(a.href);var h=e.querySelector(yl(p));if(h)return n.state.loading|=4,n.instance=h,wt(h),h;s=lm(a),(p=zn.get(p))&&ic(s,p),h=(e.ownerDocument||e).createElement("link"),wt(h);var b=h;return b._p=new Promise(function(A,w){b.onload=A,b.onerror=w}),Qt(h,"link",s),n.state.loading|=4,Ms(h,a.precedence,e),n.instance=h;case"script":return h=ya(a.src),(p=e.querySelector(xl(h)))?(n.instance=p,wt(p),p):(s=a,(p=zn.get(h))&&(s=_({},a),oc(s,p)),e=e.ownerDocument||e,p=e.createElement("script"),wt(p),Qt(p,"link",s),e.head.appendChild(p),n.instance=p);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,Ms(s,a.precedence,e));return n.instance}function Ms(e,n,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=s.length?s[s.length-1]:null,h=p,b=0;b<s.length;b++){var A=s[b];if(A.dataset.precedence===n)h=A;else if(h!==p)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function ic(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function oc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Rs=null;function rm(e,n,a){if(Rs===null){var s=new Map,p=Rs=new Map;p.set(a,s)}else p=Rs,s=p.get(a),s||(s=new Map,p.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),p=0;p<a.length;p++){var h=a[p];if(!(h[fo]||h[ht]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var b=h.getAttribute(n)||"";b=e+b;var A=s.get(b);A?A.push(h):s.set(b,[h])}}return s}function um(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function fy(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function cm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function py(e,n,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=va(s.href),h=n.querySelector(yl(p));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Is.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=h,wt(h);return}h=n.ownerDocument||n,s=lm(s),(p=zn.get(p))&&ic(s,p),h=h.createElement("link"),wt(h);var b=h;b._p=new Promise(function(A,w){b.onload=A,b.onerror=w}),Qt(h,"link",s),a.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Is.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var ac=0;function my(e,n){return e.stylesheets&&e.count===0&&Ds(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Ds(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&ac===0&&(ac=62500*Kv());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ds(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>ac?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(p)}}:null}function Is(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ds(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ks=null;function Ds(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ks=new Map,n.forEach(hy,e),ks=null,Is.call(e))}function hy(e,n){if(!(n.state.loading&4)){var a=ks.get(e);if(a)var s=a.get(null);else{a=new Map,ks.set(e,a);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<p.length;h++){var b=p[h];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),s=b)}s&&a.set(null,s)}p=n.instance,b=p.getAttribute("data-precedence"),h=a.get(b)||s,h===s&&a.set(null,p),a.set(b,p),this.count++,s=Is.bind(this),p.addEventListener("load",s),p.addEventListener("error",s),h?h.parentNode.insertBefore(p,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),n.state.loading|=4}}var _l={$$typeof:j,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function gy(e,n,a,s,p,h,b,A,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ne(0),this.hiddenUpdates=ne(null),this.identifierPrefix=s,this.onUncaughtError=p,this.onCaughtError=h,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function dm(e,n,a,s,p,h,b,A,w,H,Y,$){return e=new gy(e,n,a,b,w,H,Y,$,A),n=1,h===!0&&(n|=24),h=bn(3,null,null,n),e.current=h,h.stateNode=e,n=Gr(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:s,isDehydrated:a,cache:n},Br(h),e}function fm(e){return e?(e=Xo,e):Xo}function pm(e,n,a,s,p,h){p=fm(p),s.context===null?s.context=p:s.pendingContext=p,s=Bi(n),s.payload={element:a},h=h===void 0?null:h,h!==null&&(s.callback=h),a=Fi(e,s,n),a!==null&&(yn(a,e,n),Za(a,e,n))}function mm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function lc(e,n){mm(e,n),(e=e.alternate)&&mm(e,n)}function hm(e){if(e.tag===13||e.tag===31){var n=xo(e,67108864);n!==null&&yn(n,e,67108864),lc(e,67108864)}}function gm(e){if(e.tag===13||e.tag===31){var n=An();n=uo(n);var a=xo(e,n);a!==null&&yn(a,e,n),lc(e,n)}}var Us=!0;function vy(e,n,a,s){var p=V.T;V.T=null;var h=W.p;try{W.p=2,sc(e,n,a,s)}finally{W.p=h,V.T=p}}function yy(e,n,a,s){var p=V.T;V.T=null;var h=W.p;try{W.p=8,sc(e,n,a,s)}finally{W.p=h,V.T=p}}function sc(e,n,a,s){if(Us){var p=rc(s);if(p===null)Ju(e,n,s,Ls,a),ym(e,s);else if(_y(p,e,n,a,s))s.stopPropagation();else if(ym(e,s),n&4&&-1<xy.indexOf(e)){for(;p!==null;){var h=Xn(p);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var b=cn(h.pendingLanes);if(b!==0){var A=h;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var w=1<<31-Tt(b);A.entanglements[1]|=w,b&=~w}ei(h),(it&6)===0&&(vs=Ue()+500,ml(0))}}break;case 31:case 13:A=xo(h,2),A!==null&&yn(A,h,2),xs(),lc(h,2)}if(h=rc(s),h===null&&Ju(e,n,s,Ls,a),h===p)break;p=h}p!==null&&s.stopPropagation()}else Ju(e,n,s,null,a)}}function rc(e){return e=st(e),uc(e)}var Ls=null;function uc(e){if(Ls=null,e=Ri(e),e!==null){var n=d(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=m(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ls=e,null}function vm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uo()){case Ia:return 2;case Ai:return 8;case Jn:case Ce:return 32;case jt:return 268435456;default:return 32}default:return 32}}var cc=!1,eo=null,to=null,no=null,bl=new Map,Sl=new Map,io=[],xy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ym(e,n){switch(e){case"focusin":case"focusout":eo=null;break;case"dragenter":case"dragleave":to=null;break;case"mouseover":case"mouseout":no=null;break;case"pointerover":case"pointerout":bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(n.pointerId)}}function Tl(e,n,a,s,p,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:a,eventSystemFlags:s,nativeEvent:h,targetContainers:[p]},n!==null&&(n=Xn(n),n!==null&&hm(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),e)}function _y(e,n,a,s,p){switch(n){case"focusin":return eo=Tl(eo,e,n,a,s,p),!0;case"dragenter":return to=Tl(to,e,n,a,s,p),!0;case"mouseover":return no=Tl(no,e,n,a,s,p),!0;case"pointerover":var h=p.pointerId;return bl.set(h,Tl(bl.get(h)||null,e,n,a,s,p)),!0;case"gotpointercapture":return h=p.pointerId,Sl.set(h,Tl(Sl.get(h)||null,e,n,a,s,p)),!0}return!1}function xm(e){var n=Ri(e.target);if(n!==null){var a=d(n);if(a!==null){if(n=a.tag,n===13){if(n=m(a),n!==null){e.blockedOn=n,kl(e.priority,function(){gm(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,kl(e.priority,function(){gm(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zs(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=rc(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);ft=s,a.target.dispatchEvent(s),ft=null}else return n=Xn(a),n!==null&&hm(n),e.blockedOn=a,!1;n.shift()}return!0}function _m(e,n,a){zs(e)&&a.delete(n)}function by(){cc=!1,eo!==null&&zs(eo)&&(eo=null),to!==null&&zs(to)&&(to=null),no!==null&&zs(no)&&(no=null),bl.forEach(_m),Sl.forEach(_m)}function Ps(e,n){e.blockedOn===n&&(e.blockedOn=null,cc||(cc=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,by)))}var Gs=null;function bm(e){Gs!==e&&(Gs=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Gs===e&&(Gs=null);for(var n=0;n<e.length;n+=3){var a=e[n],s=e[n+1],p=e[n+2];if(typeof s!="function"){if(uc(s||a)===null)continue;break}var h=Xn(a);h!==null&&(e.splice(n,3),n-=3,ru(h,{pending:!0,data:p,method:a.method,action:s},s,p))}}))}function xa(e){function n(w){return Ps(w,e)}eo!==null&&Ps(eo,e),to!==null&&Ps(to,e),no!==null&&Ps(no,e),bl.forEach(n),Sl.forEach(n);for(var a=0;a<io.length;a++){var s=io[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<io.length&&(a=io[0],a.blockedOn===null);)xm(a),a.blockedOn===null&&io.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var p=a[s],h=a[s+1],b=p[vt]||null;if(typeof h=="function")b||bm(a);else if(b){var A=null;if(h&&h.hasAttribute("formAction")){if(p=h,b=h[vt]||null)A=b.formAction;else if(uc(p)!==null)continue}else A=b.action;typeof A=="function"?a[s+1]=A:(a.splice(s,3),s-=3),bm(a)}}}function Sm(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(b){return p=b})},focusReset:"manual",scroll:"manual"})}function n(){p!==null&&(p(),p=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),p!==null&&(p(),p=null)}}}function dc(e){this._internalRoot=e}Hs.prototype.render=dc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));var a=n.current,s=An();pm(a,s,e,n,null,null)},Hs.prototype.unmount=dc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;pm(e.current,2,null,e,null,null),xs(),n[Mi]=null}};function Hs(e){this._internalRoot=e}Hs.prototype.unstable_scheduleHydration=function(e){if(e){var n=Il();e={blockedOn:null,target:e,priority:n};for(var a=0;a<io.length&&n!==0&&n<io[a].priority;a++);io.splice(a,0,e),a===0&&xm(e)}};var Tm=t.version;if(Tm!=="19.2.3")throw Error(l(527,Tm,"19.2.3"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=v(n),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Sy={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qs.isDisabled&&qs.supportsFiber)try{un=qs.inject(Sy),Jt=qs}catch{}}return Cl.createRoot=function(e,n){if(!r(e))throw Error(l(299));var a=!1,s="",p=Rf,h=If,b=kf;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(p=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=dm(e,1,!1,null,null,a,s,null,p,h,b,Sm),e[Mi]=n.current,Yu(e),new dc(n)},Cl.hydrateRoot=function(e,n,a){if(!r(e))throw Error(l(299));var s=!1,p="",h=Rf,b=If,A=kf,w=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),n=dm(e,1,!0,n,a??null,s,p,w,h,b,A,Sm),n.context=fm(null),a=n.current,s=An(),s=uo(s),p=Bi(s),p.callback=null,Fi(a,p,s),a=s,n.current.lanes=a,xn(n,a),ei(n),e[Mi]=n.current,Yu(e),new Hs(n)},Cl.version="19.2.3",Cl}var Dm;function Ly(){if(Dm)return mc.exports;Dm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),mc.exports=Uy(),mc.exports}var zy=Ly(),Py={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Gy,Hy;function qy(){return{geminiUrl:Gy,vertexUrl:Hy}}function Vy(i,t,o,l){var r,d;if(!(i!=null&&i.baseUrl)){const m=qy();return t?(r=m.vertexUrl)!==null&&r!==void 0?r:o:(d=m.geminiUrl)!==null&&d!==void 0?d:l}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ei{}function de(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(l,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const d=t[r];return d!=null?String(d):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,o){for(let d=0;d<t.length-1;d++){const m=t[d];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(o))for(let v=0;v<y.length;v++){const x=y[v];c(x,t.slice(d+1),o[v])}else for(const v of y)c(v,t.slice(d+1),o)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],t.slice(d+1),o);return}(!i[m]||typeof i[m]!="object")&&(i[m]={}),i=i[m]}const l=t[t.length-1],r=i[l];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else l==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[l]=o}function u(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let l=0;l<t.length;l++){if(typeof i!="object"||i===null)return o;const r=t[l];if(r.endsWith("[]")){const d=r.slice(0,-2);if(d in i){const m=i[d];return Array.isArray(m)?m.map(g=>u(g,t.slice(l+1),o)):o}else return o}else i=i[r]}return i}catch(l){if(l instanceof TypeError)return o;throw l}}function By(i,t){for(const[o,l]of Object.entries(t)){const r=o.split("."),d=l.split("."),m=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&d.length>g)for(let y=g;y<d.length;y++){const v=d[y];v!=="*"&&!v.endsWith("[]")&&!v.endsWith("[0]")&&m.add(v)}Tc(i,r,d,0,m)}}function Tc(i,t,o,l,r){if(l>=t.length||typeof i!="object"||i===null)return;const d=t[l];if(d.endsWith("[]")){const m=d.slice(0,-2),g=i;if(m in g&&Array.isArray(g[m]))for(const y of g[m])Tc(y,t,o,l+1,r)}else if(d==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const m=i,g=Object.keys(m).filter(v=>!v.startsWith("_")&&!r.has(v)),y={};for(const v of g)y[v]=m[v];for(const[v,x]of Object.entries(y)){const _=[];for(const S of o.slice(l))S==="*"?_.push(v):_.push(S);c(m,_,x)}for(const v of g)delete m[v]}}else{const m=i;d in m&&Tc(m[d],t,o,l+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hc(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fy(i){const t={},o=u(i,["operationName"]);o!=null&&c(t,["operationName"],o);const l=u(i,["resourceName"]);return l!=null&&c(t,["_url","resourceName"],l),t}function Oy(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const l=u(i,["metadata"]);l!=null&&c(t,["metadata"],l);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response","generateVideoResponse"]);return m!=null&&c(t,["response"],Yy(m)),t}function jy(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const l=u(i,["metadata"]);l!=null&&c(t,["metadata"],l);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response"]);return m!=null&&c(t,["response"],Jy(m)),t}function Yy(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>Ky(m))),c(t,["generatedVideos"],d)}const l=u(i,["raiMediaFilteredCount"]);l!=null&&c(t,["raiMediaFilteredCount"],l);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Jy(i){const t={},o=u(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>Xy(m))),c(t,["generatedVideos"],d)}const l=u(i,["raiMediaFilteredCount"]);l!=null&&c(t,["raiMediaFilteredCount"],l);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Ky(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],tx(o)),t}function Xy(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],nx(o)),t}function $y(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function Qy(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function Zy(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const l=u(i,["metadata"]);l!=null&&c(t,["metadata"],l);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response"]);return m!=null&&c(t,["response"],Wy(m)),t}function Wy(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["parent"]);l!=null&&c(t,["parent"],l);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function b0(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const l=u(i,["metadata"]);l!=null&&c(t,["metadata"],l);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response"]);return m!=null&&c(t,["response"],ex(m)),t}function ex(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["parent"]);l!=null&&c(t,["parent"],l);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function tx(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const l=u(i,["encodedVideo"]);l!=null&&c(t,["videoBytes"],Hc(l));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function nx(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const l=u(i,["bytesBase64Encoded"]);l!=null&&c(t,["videoBytes"],Hc(l));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Um;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Um||(Um={}));var Lm;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Lm||(Lm={}));var zm;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(zm||(zm={}));var ao;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(ao||(ao={}));var Pm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Pm||(Pm={}));var Gm;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Gm||(Gm={}));var Hm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Hm||(Hm={}));var qm;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(qm||(qm={}));var Vm;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Vm||(Vm={}));var Bm;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(Bm||(Bm={}));var Fm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Fm||(Fm={}));var Om;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Om||(Om={}));var jm;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(jm||(jm={}));var Ym;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Ym||(Ym={}));var Jm;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Jm||(Jm={}));var Km;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Km||(Km={}));var Xm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Xm||(Xm={}));var $m;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})($m||($m={}));var Qm;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Qm||(Qm={}));var Qs;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Qs||(Qs={}));var Zm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Zm||(Zm={}));var Wm;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Wm||(Wm={}));var eh;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(eh||(eh={}));var Ec;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ec||(Ec={}));var th;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(th||(th={}));var nh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(nh||(nh={}));var ih;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(ih||(ih={}));var oh;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(oh||(oh={}));var ah;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(ah||(ah={}));var lh;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(lh||(lh={}));var sh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(sh||(sh={}));var rh;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(rh||(rh={}));var uh;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(uh||(uh={}));var ch;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(ch||(ch={}));var dh;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(dh||(dh={}));var fh;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(fh||(fh={}));var ph;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ph||(ph={}));var mh;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(mh||(mh={}));var hh;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(hh||(hh={}));var gh;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(gh||(gh={}));var vh;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(vh||(vh={}));var yh;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(yh||(yh={}));var xh;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(xh||(xh={}));var _h;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(_h||(_h={}));var bh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(bh||(bh={}));var Sh;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(Sh||(Sh={}));var Th;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Th||(Th={}));var Eh;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Eh||(Eh={}));var Ch;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Ch||(Ch={}));var Ah;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ah||(Ah={}));var Nh;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Nh||(Nh={}));var wh;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(wh||(wh={}));var Mh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Mh||(Mh={}));var Rh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Rh||(Rh={}));var Ih;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Ih||(Ih={}));var Sa;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Sa||(Sa={}));class Cc{constructor(t){const o={};for(const l of t.headers.entries())o[l[0]]=l[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class Al{get text(){var t,o,l,r,d,m,g,y;if(((r=(l=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let v="",x=!1;const _=[];for(const S of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[C,D]of Object.entries(S))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(D!==null||D!==void 0)&&_.push(C);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;x=!0,v+=S.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?v:void 0}get data(){var t,o,l,r,d,m,g,y;if(((r=(l=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let v="";const x=[];for(const _ of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[S,C]of Object.entries(_))S!=="inlineData"&&(C!==null||C!==void 0)&&x.push(S);_.inlineData&&typeof _.inlineData.data=="string"&&(v+=atob(_.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),v.length>0?btoa(v):void 0}get functionCalls(){var t,o,l,r,d,m,g,y;if(((r=(l=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const v=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((v==null?void 0:v.length)!==0)return v}get executableCode(){var t,o,l,r,d,m,g,y,v;if(((r=(l=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((x==null?void 0:x.length)!==0)return(v=x==null?void 0:x[0])===null||v===void 0?void 0:v.code}get codeExecutionResult(){var t,o,l,r,d,m,g,y,v;if(((r=(l=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((x==null?void 0:x.length)!==0)return(v=x==null?void 0:x[0])===null||v===void 0?void 0:v.output}}class kh{}class Dh{}class ix{}class ox{}class ax{}class lx{}class Uh{}class Lh{}class zh{}class sx{}class Zs{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const l=new Zs;let r;const d=t;return o?r=jy(d):r=Oy(d),Object.assign(l,r),l}}class Ph{}class Gh{}class Hh{}class qh{}class rx{}class ux{}class cx{}class qc{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const l=new qc,d=Zy(t);return Object.assign(l,d),l}}class dx{}class fx{}class px{}class Vh{}class mx{get text(){var t,o,l;let r="",d=!1;const m=[];for(const g of(l=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[y,v]of Object.entries(g))y!=="text"&&y!=="thought"&&v!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,r+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?r:void 0}get data(){var t,o,l;let r="";const d=[];for(const m of(l=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&d.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(r+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class hx{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Vc{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const l=new Vc,d=b0(t);return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function et(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function S0(i,t){const o=et(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function T0(i){return Array.isArray(i)?i.map(t=>Ws(t)):[Ws(i)]}function Ws(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function E0(i){const t=Ws(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function C0(i){const t=Ws(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Bh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function A0(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>Bh(t)):[Bh(i)]}function Ac(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Fh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Oh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function tn(i){if(i==null)throw new Error("ContentUnion is required");return Ac(i)?i:{role:"user",parts:A0(i)}}function Bc(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const l=tn(o);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(i.isVertexAI()){const o=tn(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>tn(o)):[tn(t)]}function Pn(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Fh(i)||Oh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[tn(i)]}const t=[],o=[],l=Ac(i[0]);for(const r of i){const d=Ac(r);if(d!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)t.push(r);else{if(Fh(r)||Oh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return l||t.push({role:"user",parts:A0(o)}),t}function gx(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(l=>l!=="null");if(o.length===1)t.type=Object.values(ao).includes(o[0].toUpperCase())?o[0].toUpperCase():ao.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const l of o)t.anyOf.push({type:Object.values(ao).includes(l.toUpperCase())?l.toUpperCase():ao.TYPE_UNSPECIFIED})}}function Ea(i){const t={},o=["items"],l=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=i.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(t.nullable=!0,i=d[1]):d[1].type==="null"&&(t.nullable=!0,i=d[0])),i.type instanceof Array&&gx(i.type,t);for(const[m,g]of Object.entries(i))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(ao).includes(g.toUpperCase())?g.toUpperCase():ao.TYPE_UNSPECIFIED}else if(o.includes(m))t[m]=Ea(g);else if(l.includes(m)){const y=[];for(const v of g){if(v.type=="null"){t.nullable=!0;continue}y.push(Ea(v))}t[m]=y}else if(r.includes(m)){const y={};for(const[v,x]of Object.entries(g))y[v]=Ea(x);t[m]=y}else{if(m==="additionalProperties")continue;t[m]=g}return t}function Fc(i){return Ea(i)}function Oc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function jc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function wa(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Ea(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Ea(t.response));return i}function Ma(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function vx(i,t,o,l=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===l;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function Ci(i,t){if(typeof t!="string")throw new Error("name must be a string");return vx(i,t,"cachedContents")}function N0(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function lo(i){return Hc(i)}function yx(i){return i!=null&&typeof i=="object"&&"name"in i}function xx(i){return i!=null&&typeof i=="object"&&"video"in i}function _x(i){return i!=null&&typeof i=="object"&&"uri"in i}function w0(i){var t;let o;if(yx(i)&&(o=i.name),!(_x(i)&&(o=i.uri,o===void 0))&&!(xx(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function M0(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function R0(i){for(const t of["models","tunedModels","publisherModels"])if(bx(i,t))return i[t];return[]}function bx(i,t){return i!==null&&typeof i=="object"&&t in i}function Sx(i,t={}){const o=i,l={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(l.responseJsonSchema=o.outputSchema),t.behavior&&(l.behavior=t.behavior),{functionDeclarations:[l]}}function Tx(i,t={}){const o=[],l=new Set;for(const r of i){const d=r.name;if(l.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);l.add(d);const m=Sx(r,t);m.functionDeclarations&&o.push(...m.functionDeclarations)}return{functionDeclarations:o}}function I0(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const l=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||l!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(l>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function Ex(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function k0(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let d=!1;for(const m of r){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){d=!0;break}}return d&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function Ra(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function D0(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cx(i){const t={},o=u(i,["responsesFile"]);o!=null&&c(t,["fileName"],o);const l=u(i,["inlinedResponses","inlinedResponses"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>a_(m))),c(t,["inlinedResponses"],d)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["inlinedEmbedContentResponses"],d)}return t}function Ax(i){const t={},o=u(i,["predictionsFormat"]);o!=null&&c(t,["format"],o);const l=u(i,["gcsDestination","outputUriPrefix"]);l!=null&&c(t,["gcsUri"],l);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function Nx(i){const t={},o=u(i,["format"]);o!=null&&c(t,["predictionsFormat"],o);const l=u(i,["gcsUri"]);l!=null&&c(t,["gcsDestination","outputUriPrefix"],l);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Js(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const l=u(i,["metadata","displayName"]);l!=null&&c(t,["displayName"],l);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],D0(r));const d=u(i,["metadata","createTime"]);d!=null&&c(t,["createTime"],d);const m=u(i,["metadata","endTime"]);m!=null&&c(t,["endTime"],m);const g=u(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const v=u(i,["metadata","output"]);return v!=null&&c(t,["dest"],Cx(k0(v))),t}function Nc(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const l=u(i,["displayName"]);l!=null&&c(t,["displayName"],l);const r=u(i,["state"]);r!=null&&c(t,["state"],D0(r));const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["createTime"]);m!=null&&c(t,["createTime"],m);const g=u(i,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const v=u(i,["updateTime"]);v!=null&&c(t,["updateTime"],v);const x=u(i,["model"]);x!=null&&c(t,["model"],x);const _=u(i,["inputConfig"]);_!=null&&c(t,["src"],wx(_));const S=u(i,["outputConfig"]);S!=null&&c(t,["dest"],Ax(k0(S)));const C=u(i,["completionStats"]);return C!=null&&c(t,["completionStats"],C),t}function wx(i){const t={},o=u(i,["instancesFormat"]);o!=null&&c(t,["format"],o);const l=u(i,["gcsSource","uris"]);l!=null&&c(t,["gcsUri"],l);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function Mx(i,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=u(t,["fileName"]);l!=null&&c(o,["fileName"],l);const r=u(t,["inlinedRequests"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>o_(i,m))),c(o,["requests","requests"],d)}return o}function Rx(i){const t={},o=u(i,["format"]);o!=null&&c(t,["instancesFormat"],o);const l=u(i,["gcsUri"]);l!=null&&c(t,["gcsSource","uris"],l);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Ix(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function kx(i,t){const o={},l=u(t,["name"]);return l!=null&&c(o,["_url","name"],Ra(i,l)),o}function Dx(i,t){const o={},l=u(t,["name"]);return l!=null&&c(o,["_url","name"],Ra(i,l)),o}function Ux(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const l=u(i,["citationMetadata"]);l!=null&&c(t,["citationMetadata"],Lx(l));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const m=u(i,["avgLogprobs"]);m!=null&&c(t,["avgLogprobs"],m);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const v=u(i,["logprobsResult"]);v!=null&&c(t,["logprobsResult"],v);const x=u(i,["safetyRatings"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(C=>C)),c(t,["safetyRatings"],S)}const _=u(i,["urlContextMetadata"]);return _!=null&&c(t,["urlContextMetadata"],_),t}function Lx(i){const t={},o=u(i,["citationSources"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>r)),c(t,["citations"],l)}return t}function U0(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>f_(d))),c(t,["parts"],r)}const l=u(i,["role"]);return l!=null&&c(t,["role"],l),t}function zx(i,t){const o={},l=u(i,["displayName"]);if(t!==void 0&&l!=null&&c(t,["batch","displayName"],l),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function Px(i,t){const o={},l=u(i,["displayName"]);t!==void 0&&l!=null&&c(t,["displayName"],l);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],Nx(Ex(r))),o}function jh(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],et(i,l));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],Mx(i,I0(i,r)));const d=u(t,["config"]);return d!=null&&zx(d,o),o}function Gx(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["model"],et(i,l));const r=u(t,["src"]);r!=null&&c(o,["inputConfig"],Rx(I0(i,r)));const d=u(t,["config"]);return d!=null&&Px(d,o),o}function Hx(i,t){const o={},l=u(i,["displayName"]);return t!==void 0&&l!=null&&c(t,["batch","displayName"],l),o}function qx(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],et(i,l));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],Jx(i,r));const d=u(t,["config"]);return d!=null&&Hx(d,o),o}function Vx(i,t){const o={},l=u(t,["name"]);return l!=null&&c(o,["_url","name"],Ra(i,l)),o}function Bx(i,t){const o={},l=u(t,["name"]);return l!=null&&c(o,["_url","name"],Ra(i,l)),o}function Fx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["name"]);l!=null&&c(t,["name"],l);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);return d!=null&&c(t,["error"],d),t}function Ox(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["name"]);l!=null&&c(t,["name"],l);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);return d!=null&&c(t,["error"],d),t}function jx(i,t){const o={},l=u(t,["contents"]);if(l!=null){let d=Bc(i,l);Array.isArray(d)&&(d=d.map(m=>m)),c(o,["requests[]","request","content"],d)}const r=u(t,["config"]);return r!=null&&(c(o,["_self"],Yx(r,o)),By(o,{"requests[].*":"requests[].request.*"})),o}function Yx(i,t){const o={},l=u(i,["taskType"]);t!==void 0&&l!=null&&c(t,["requests[]","taskType"],l);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function Jx(i,t){const o={},l=u(t,["fileName"]);l!=null&&c(o,["file_name"],l);const r=u(t,["inlinedRequests"]);return r!=null&&c(o,["requests"],jx(i,r)),o}function Kx(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const l=u(i,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function Xx(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const l=u(i,["args"]);l!=null&&c(t,["args"],l);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function $x(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const l=u(i,["allowedFunctionNames"]);if(l!=null&&c(t,["allowedFunctionNames"],l),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Qx(i,t,o){const l={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],U0(tn(r)));const d=u(t,["temperature"]);d!=null&&c(l,["temperature"],d);const m=u(t,["topP"]);m!=null&&c(l,["topP"],m);const g=u(t,["topK"]);g!=null&&c(l,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(l,["candidateCount"],y);const v=u(t,["maxOutputTokens"]);v!=null&&c(l,["maxOutputTokens"],v);const x=u(t,["stopSequences"]);x!=null&&c(l,["stopSequences"],x);const _=u(t,["responseLogprobs"]);_!=null&&c(l,["responseLogprobs"],_);const S=u(t,["logprobs"]);S!=null&&c(l,["logprobs"],S);const C=u(t,["presencePenalty"]);C!=null&&c(l,["presencePenalty"],C);const D=u(t,["frequencyPenalty"]);D!=null&&c(l,["frequencyPenalty"],D);const k=u(t,["seed"]);k!=null&&c(l,["seed"],k);const R=u(t,["responseMimeType"]);R!=null&&c(l,["responseMimeType"],R);const U=u(t,["responseSchema"]);U!=null&&c(l,["responseSchema"],Fc(U));const X=u(t,["responseJsonSchema"]);if(X!=null&&c(l,["responseJsonSchema"],X),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const j=u(t,["safetySettings"]);if(o!==void 0&&j!=null){let fe=j;Array.isArray(fe)&&(fe=fe.map(qe=>p_(qe))),c(o,["safetySettings"],fe)}const oe=u(t,["tools"]);if(o!==void 0&&oe!=null){let fe=Ma(oe);Array.isArray(fe)&&(fe=fe.map(qe=>h_(wa(qe)))),c(o,["tools"],fe)}const ae=u(t,["toolConfig"]);if(o!==void 0&&ae!=null&&c(o,["toolConfig"],m_(ae)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=u(t,["cachedContent"]);o!==void 0&&E!=null&&c(o,["cachedContent"],Ci(i,E));const Z=u(t,["responseModalities"]);Z!=null&&c(l,["responseModalities"],Z);const _e=u(t,["mediaResolution"]);_e!=null&&c(l,["mediaResolution"],_e);const le=u(t,["speechConfig"]);if(le!=null&&c(l,["speechConfig"],Oc(le)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const xe=u(t,["thinkingConfig"]);xe!=null&&c(l,["thinkingConfig"],xe);const Q=u(t,["imageConfig"]);Q!=null&&c(l,["imageConfig"],i_(Q));const se=u(t,["enableEnhancedCivicAnswers"]);return se!=null&&c(l,["enableEnhancedCivicAnswers"],se),l}function Zx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(v=>Ux(v))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const m=u(i,["responseId"]);m!=null&&c(t,["responseId"],m);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function Wx(i,t){const o={},l=u(t,["name"]);return l!=null&&c(o,["_url","name"],Ra(i,l)),o}function e_(i,t){const o={},l=u(t,["name"]);return l!=null&&c(o,["_url","name"],Ra(i,l)),o}function t_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function n_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function i_(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const l=u(i,["imageSize"]);if(l!=null&&c(t,["imageSize"],l),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function o_(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["request","model"],et(i,l));const r=u(t,["contents"]);if(r!=null){let g=Pn(r);Array.isArray(g)&&(g=g.map(y=>U0(y))),c(o,["request","contents"],g)}const d=u(t,["metadata"]);d!=null&&c(o,["metadata"],d);const m=u(t,["config"]);return m!=null&&c(o,["request","generationConfig"],Qx(i,m,u(o,["request"],{}))),o}function a_(i){const t={},o=u(i,["response"]);o!=null&&c(t,["response"],Zx(o));const l=u(i,["error"]);return l!=null&&c(t,["error"],l),t}function l_(i,t){const o={},l=u(i,["pageSize"]);t!==void 0&&l!=null&&c(t,["_query","pageSize"],l);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function s_(i,t){const o={},l=u(i,["pageSize"]);t!==void 0&&l!=null&&c(t,["_query","pageSize"],l);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const d=u(i,["filter"]);return t!==void 0&&d!=null&&c(t,["_query","filter"],d),o}function r_(i){const t={},o=u(i,["config"]);return o!=null&&l_(o,t),t}function u_(i){const t={},o=u(i,["config"]);return o!=null&&s_(o,t),t}function c_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["nextPageToken"]);l!=null&&c(t,["nextPageToken"],l);const r=u(i,["operations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>Js(m))),c(t,["batchJobs"],d)}return t}function d_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["nextPageToken"]);l!=null&&c(t,["nextPageToken"],l);const r=u(i,["batchPredictionJobs"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>Nc(m))),c(t,["batchJobs"],d)}return t}function f_(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const l=u(i,["codeExecutionResult"]);l!=null&&c(t,["codeExecutionResult"],l);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],Kx(d));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],Xx(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Ix(y));const v=u(i,["text"]);v!=null&&c(t,["text"],v);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const _=u(i,["thoughtSignature"]);_!=null&&c(t,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&c(t,["videoMetadata"],S),t}function p_(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=u(i,["threshold"]);return l!=null&&c(t,["threshold"],l),t}function m_(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],$x(o));const l=u(i,["retrievalConfig"]);return l!=null&&c(t,["retrievalConfig"],l),t}function h_(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(_=>_)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["googleSearchRetrieval"]);l!=null&&c(t,["googleSearchRetrieval"],l);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const m=u(i,["codeExecution"]);if(m!=null&&c(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],t_(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],n_(y));const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ti;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Ti||(Ti={}));class Do{constructor(t,o,l,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,l,r)}init(t,o,l){var r,d;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!l||Object.keys(l).length===0?m={config:{}}:typeof l=="object"?m=Object.assign({},l):m=l,m.config&&(m.config.pageToken=o.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(d=(r=m.config)===null||r===void 0?void 0:r.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g_ extends Ei{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Do(Ti.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=jh(this.apiClient,t),l=o._url,r=de("{model}:batchGenerateContent",l),g=o.batch.inputConfig.requests,y=g.requests,v=[];for(const x of y){const _=Object.assign({},x);if(_.systemInstruction){const S=_.systemInstruction;delete _.systemInstruction;const C=_.request;C.systemInstruction=S,_.request=C}v.push(_)}return g.requests=v,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const l=o?Object.assign({},o):{},r=Date.now().toString();if(l.displayName||(l.displayName=`genaiBatchJob_${r}`),l.dest===void 0){const d=this.getGcsUri(t),m=this.getBigqueryUri(t);if(d)d.endsWith(".jsonl")?l.dest=`${d.slice(0,-6)}/dest`:l.dest=`${d}_dest_${r}`;else if(m)l.dest=`${m}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return l}async createInternal(t){var o,l,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const v=Gx(this.apiClient,t);return g=de("batchPredictionJobs",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),m.then(x=>Nc(x))}else{const v=jh(this.apiClient,t);return g=de("{model}:batchGenerateContent",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>Js(x))}}async createEmbeddingsInternal(t){var o,l;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=qx(this.apiClient,t);return d=de("{model}:asyncBatchEmbedContent",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>Js(y))}}async get(t){var o,l,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const v=e_(this.apiClient,t);return g=de("batchPredictionJobs/{name}",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),m.then(x=>Nc(x))}else{const v=Wx(this.apiClient,t);return g=de("batches/{name}",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>Js(x))}}async cancel(t){var o,l,r,d;let m="",g={};if(this.apiClient.isVertexAI()){const y=Dx(this.apiClient,t);m=de("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=kx(this.apiClient,t);m=de("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(t){var o,l,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const v=u_(t);return g=de("batchPredictionJobs",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>{const _=d_(x),S=new Vh;return Object.assign(S,_),S})}else{const v=r_(t);return g=de("batches",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>{const _=c_(x),S=new Vh;return Object.assign(S,_),S})}}async delete(t){var o,l,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const v=Bx(this.apiClient,t);return g=de("batchPredictionJobs/{name}",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>Ox(x))}else{const v=Vx(this.apiClient,t);return g=de("batches/{name}",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>Fx(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v_(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function Yh(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>q_(d))),c(t,["parts"],r)}const l=u(i,["role"]);return l!=null&&c(t,["role"],l),t}function y_(i,t){const o={},l=u(i,["ttl"]);t!==void 0&&l!=null&&c(t,["ttl"],l);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const m=u(i,["contents"]);if(t!==void 0&&m!=null){let x=Pn(m);Array.isArray(x)&&(x=x.map(_=>Yh(_))),c(t,["contents"],x)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Yh(tn(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(_=>B_(_))),c(t,["tools"],x)}const v=u(i,["toolConfig"]);if(t!==void 0&&v!=null&&c(t,["toolConfig"],V_(v)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function x_(i,t){const o={},l=u(i,["ttl"]);t!==void 0&&l!=null&&c(t,["ttl"],l);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const m=u(i,["contents"]);if(t!==void 0&&m!=null){let _=Pn(m);Array.isArray(_)&&(_=_.map(S=>S)),c(t,["contents"],_)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],tn(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let _=y;Array.isArray(_)&&(_=_.map(S=>F_(S))),c(t,["tools"],_)}const v=u(i,["toolConfig"]);t!==void 0&&v!=null&&c(t,["toolConfig"],v);const x=u(i,["kmsKeyName"]);return t!==void 0&&x!=null&&c(t,["encryption_spec","kmsKeyName"],x),o}function __(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["model"],S0(i,l));const r=u(t,["config"]);return r!=null&&y_(r,o),o}function b_(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["model"],S0(i,l));const r=u(t,["config"]);return r!=null&&x_(r,o),o}function S_(i,t){const o={},l=u(t,["name"]);return l!=null&&c(o,["_url","name"],Ci(i,l)),o}function T_(i,t){const o={},l=u(t,["name"]);return l!=null&&c(o,["_url","name"],Ci(i,l)),o}function E_(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function C_(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function A_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const l=u(i,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function N_(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const l=u(i,["args"]);l!=null&&c(t,["args"],l);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function w_(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const l=u(i,["allowedFunctionNames"]);if(l!=null&&c(t,["allowedFunctionNames"],l),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function M_(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const l=u(i,["name"]);l!=null&&c(t,["name"],l);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const m=u(i,["response"]);m!=null&&c(t,["response"],m);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function R_(i,t){const o={},l=u(t,["name"]);return l!=null&&c(o,["_url","name"],Ci(i,l)),o}function I_(i,t){const o={},l=u(t,["name"]);return l!=null&&c(o,["_url","name"],Ci(i,l)),o}function k_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function D_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function U_(i,t){const o={},l=u(i,["pageSize"]);t!==void 0&&l!=null&&c(t,["_query","pageSize"],l);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function L_(i,t){const o={},l=u(i,["pageSize"]);t!==void 0&&l!=null&&c(t,["_query","pageSize"],l);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function z_(i){const t={},o=u(i,["config"]);return o!=null&&U_(o,t),t}function P_(i){const t={},o=u(i,["config"]);return o!=null&&L_(o,t),t}function G_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["nextPageToken"]);l!=null&&c(t,["nextPageToken"],l);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["cachedContents"],d)}return t}function H_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["nextPageToken"]);l!=null&&c(t,["nextPageToken"],l);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["cachedContents"],d)}return t}function q_(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const l=u(i,["codeExecutionResult"]);l!=null&&c(t,["codeExecutionResult"],l);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],A_(d));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],N_(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],v_(y));const v=u(i,["text"]);v!=null&&c(t,["text"],v);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const _=u(i,["thoughtSignature"]);_!=null&&c(t,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&c(t,["videoMetadata"],S),t}function V_(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],w_(o));const l=u(i,["retrievalConfig"]);return l!=null&&c(t,["retrievalConfig"],l),t}function B_(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(_=>_)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["googleSearchRetrieval"]);l!=null&&c(t,["googleSearchRetrieval"],l);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const m=u(i,["codeExecution"]);if(m!=null&&c(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],k_(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],D_(y));const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function F_(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(S=>M_(S))),c(t,["functionDeclarations"],_)}const l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const d=u(i,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(i,["codeExecution"]);m!=null&&c(t,["codeExecution"],m);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const v=u(i,["googleSearch"]);v!=null&&c(t,["googleSearch"],v);const x=u(i,["urlContext"]);return x!=null&&c(t,["urlContext"],x),t}function O_(i,t){const o={},l=u(i,["ttl"]);t!==void 0&&l!=null&&c(t,["ttl"],l);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function j_(i,t){const o={},l=u(i,["ttl"]);t!==void 0&&l!=null&&c(t,["ttl"],l);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function Y_(i,t){const o={},l=u(t,["name"]);l!=null&&c(o,["_url","name"],Ci(i,l));const r=u(t,["config"]);return r!=null&&O_(r,o),o}function J_(i,t){const o={},l=u(t,["name"]);l!=null&&c(o,["_url","name"],Ci(i,l));const r=u(t,["config"]);return r!=null&&j_(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K_ extends Ei{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Do(Ti.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(o),o)}async create(t){var o,l,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const v=b_(this.apiClient,t);return g=de("cachedContents",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),m.then(x=>x)}else{const v=__(this.apiClient,t);return g=de("cachedContents",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>x)}}async get(t){var o,l,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const v=I_(this.apiClient,t);return g=de("{name}",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),m.then(x=>x)}else{const v=R_(this.apiClient,t);return g=de("{name}",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>x)}}async delete(t){var o,l,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const v=T_(this.apiClient,t);return g=de("{name}",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>{const _=C_(x),S=new Hh;return Object.assign(S,_),S})}else{const v=S_(this.apiClient,t);return g=de("{name}",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>{const _=E_(x),S=new Hh;return Object.assign(S,_),S})}}async update(t){var o,l,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const v=J_(this.apiClient,t);return g=de("{name}",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),m.then(x=>x)}else{const v=Y_(this.apiClient,t);return g=de("{name}",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>x)}}async listInternal(t){var o,l,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const v=P_(t);return g=de("cachedContents",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>{const _=H_(x),S=new qh;return Object.assign(S,_),S})}else{const v=z_(t);return g=de("cachedContents",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>{const _=G_(x),S=new qh;return Object.assign(S,_),S})}}}function er(i,t){var o={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&t.indexOf(l)<0&&(o[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,l=Object.getOwnPropertySymbols(i);r<l.length;r++)t.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(i,l[r])&&(o[l[r]]=i[l[r]]);return o}function Jh(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],l=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&l>=i.length&&(i=void 0),{value:i&&i[l++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pe(i){return this instanceof Pe?(this.v=i,this):new Pe(i)}function On(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(i,t||[]),r,d=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),r[Symbol.asyncIterator]=function(){return this},r;function m(C){return function(D){return Promise.resolve(D).then(C,_)}}function g(C,D){l[C]&&(r[C]=function(k){return new Promise(function(R,U){d.push([C,k,R,U])>1||y(C,k)})},D&&(r[C]=D(r[C])))}function y(C,D){try{v(l[C](D))}catch(k){S(d[0][3],k)}}function v(C){C.value instanceof Pe?Promise.resolve(C.value.v).then(x,_):S(d[0][2],C)}function x(C){y("next",C)}function _(C){y("throw",C)}function S(C,D){C(D),d.shift(),d.length&&y(d[0][0],d[0][1])}}function jn(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof Jh=="function"?Jh(i):i[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(d){o[d]=i[d]&&function(m){return new Promise(function(g,y){m=i[d](m),r(g,y,m.done,m.value)})}}function r(d,m,g,y){Promise.resolve(y).then(function(v){d({value:v,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X_(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:L0(o)}function L0(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function $_(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Kh(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let l=0;for(;l<o;)if(i[l].role==="user")t.push(i[l]),l++;else{const r=[];let d=!0;for(;l<o&&i[l].role==="model";)r.push(i[l]),d&&!L0(i[l])&&(d=!1),l++;d?t.push(...r):t.pop()}return t}class Q_{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new Z_(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Z_{constructor(t,o,l,r={},d=[]){this.apiClient=t,this.modelsModule=o,this.model=l,this.config=r,this.history=d,this.sendPromise=Promise.resolve(),$_(d)}async sendMessage(t){var o;await this.sendPromise;const l=tn(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,m,g;const y=await r,v=(m=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content,x=y.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let S=[];x!=null&&(S=(g=x.slice(_))!==null&&g!==void 0?g:[]);const C=v?[v]:[];this.recordHistory(l,C,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const l=tn(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const d=await r;return this.processStreamResponse(d,l)}getHistory(t=!1){const o=t?Kh(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return On(this,arguments,function*(){var r,d,m,g,y,v;const x=[];try{for(var _=!0,S=jn(t),C;C=yield Pe(S.next()),r=C.done,!r;_=!0){g=C.value,_=!1;const D=g;if(X_(D)){const k=(v=(y=D.candidates)===null||y===void 0?void 0:y[0])===null||v===void 0?void 0:v.content;k!==void 0&&x.push(k)}yield yield Pe(D)}}catch(D){d={error:D}}finally{try{!_&&!r&&(m=S.return)&&(yield Pe(m.call(S)))}finally{if(d)throw d.error}}this.recordHistory(o,x)})}recordHistory(t,o,l){let r=[];o.length>0&&o.every(d=>d.role!==void 0)?r=o:r.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...Kh(l)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ar extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,ar.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W_(i){const t={},o=u(i,["file"]);return o!=null&&c(t,["file"],o),t}function eb(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function tb(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],w0(o)),t}function nb(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function ib(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],w0(o)),t}function ob(i,t){const o={},l=u(i,["pageSize"]);t!==void 0&&l!=null&&c(t,["_query","pageSize"],l);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function ab(i){const t={},o=u(i,["config"]);return o!=null&&ob(o,t),t}function lb(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["nextPageToken"]);l!=null&&c(t,["nextPageToken"],l);const r=u(i,["files"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["files"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sb extends Ei{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Do(Ti.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,l;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ab(t);return d=de("files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const v=lb(y),x=new dx;return Object.assign(x,v),x})}}async createInternal(t){var o,l;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=W_(t);return d=de("upload/v1beta/files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>{const v=eb(y),x=new fx;return Object.assign(x,v),x})}}async get(t){var o,l;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ib(t);return d=de("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,l;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=tb(t);return d=de("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const v=nb(y),x=new px;return Object.assign(x,v),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ks(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function rb(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>Eb(d))),c(t,["parts"],r)}const l=u(i,["role"]);return l!=null&&c(t,["role"],l),t}function ub(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const l=u(i,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function cb(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const l=u(i,["args"]);l!=null&&c(t,["args"],l);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function db(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const l=u(i,["name"]);l!=null&&c(t,["name"],l);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const m=u(i,["response"]);m!=null&&c(t,["response"],m);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function fb(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const l=u(i,["responseJsonSchema"]);l!=null&&c(t,["responseJsonSchema"],l);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const m=u(i,["enableAffectiveDialog"]);m!=null&&c(t,["enableAffectiveDialog"],m);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const v=u(i,["maxOutputTokens"]);v!=null&&c(t,["maxOutputTokens"],v);const x=u(i,["mediaResolution"]);x!=null&&c(t,["mediaResolution"],x);const _=u(i,["presencePenalty"]);_!=null&&c(t,["presencePenalty"],_);const S=u(i,["responseLogprobs"]);S!=null&&c(t,["responseLogprobs"],S);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const D=u(i,["responseModalities"]);D!=null&&c(t,["responseModalities"],D);const k=u(i,["responseSchema"]);k!=null&&c(t,["responseSchema"],k);const R=u(i,["routingConfig"]);R!=null&&c(t,["routingConfig"],R);const U=u(i,["seed"]);U!=null&&c(t,["seed"],U);const X=u(i,["speechConfig"]);X!=null&&c(t,["speechConfig"],X);const j=u(i,["stopSequences"]);j!=null&&c(t,["stopSequences"],j);const oe=u(i,["temperature"]);oe!=null&&c(t,["temperature"],oe);const ae=u(i,["thinkingConfig"]);ae!=null&&c(t,["thinkingConfig"],ae);const E=u(i,["topK"]);E!=null&&c(t,["topK"],E);const Z=u(i,["topP"]);if(Z!=null&&c(t,["topP"],Z),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function pb(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function mb(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function hb(i,t){const o={},l=u(i,["generationConfig"]);t!==void 0&&l!=null&&c(t,["setup","generationConfig"],l);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const m=u(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const v=u(i,["mediaResolution"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","mediaResolution"],v);const x=u(i,["seed"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","seed"],x);const _=u(i,["speechConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","speechConfig"],jc(_));const S=u(i,["thinkingConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","thinkingConfig"],S);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const D=u(i,["systemInstruction"]);t!==void 0&&D!=null&&c(t,["setup","systemInstruction"],rb(tn(D)));const k=u(i,["tools"]);if(t!==void 0&&k!=null){let E=Ma(k);Array.isArray(E)&&(E=E.map(Z=>Ab(wa(Z)))),c(t,["setup","tools"],E)}const R=u(i,["sessionResumption"]);t!==void 0&&R!=null&&c(t,["setup","sessionResumption"],Cb(R));const U=u(i,["inputAudioTranscription"]);t!==void 0&&U!=null&&c(t,["setup","inputAudioTranscription"],U);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&c(t,["setup","outputAudioTranscription"],X);const j=u(i,["realtimeInputConfig"]);t!==void 0&&j!=null&&c(t,["setup","realtimeInputConfig"],j);const oe=u(i,["contextWindowCompression"]);t!==void 0&&oe!=null&&c(t,["setup","contextWindowCompression"],oe);const ae=u(i,["proactivity"]);if(t!==void 0&&ae!=null&&c(t,["setup","proactivity"],ae),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function gb(i,t){const o={},l=u(i,["generationConfig"]);t!==void 0&&l!=null&&c(t,["setup","generationConfig"],fb(l));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const m=u(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const v=u(i,["mediaResolution"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","mediaResolution"],v);const x=u(i,["seed"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","seed"],x);const _=u(i,["speechConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","speechConfig"],jc(_));const S=u(i,["thinkingConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","thinkingConfig"],S);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const D=u(i,["systemInstruction"]);t!==void 0&&D!=null&&c(t,["setup","systemInstruction"],tn(D));const k=u(i,["tools"]);if(t!==void 0&&k!=null){let Z=Ma(k);Array.isArray(Z)&&(Z=Z.map(_e=>Nb(wa(_e)))),c(t,["setup","tools"],Z)}const R=u(i,["sessionResumption"]);t!==void 0&&R!=null&&c(t,["setup","sessionResumption"],R);const U=u(i,["inputAudioTranscription"]);t!==void 0&&U!=null&&c(t,["setup","inputAudioTranscription"],U);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&c(t,["setup","outputAudioTranscription"],X);const j=u(i,["realtimeInputConfig"]);t!==void 0&&j!=null&&c(t,["setup","realtimeInputConfig"],j);const oe=u(i,["contextWindowCompression"]);t!==void 0&&oe!=null&&c(t,["setup","contextWindowCompression"],oe);const ae=u(i,["proactivity"]);t!==void 0&&ae!=null&&c(t,["setup","proactivity"],ae);const E=u(i,["explicitVadSignal"]);return t!==void 0&&E!=null&&c(t,["setup","explicitVadSignal"],E),o}function vb(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["setup","model"],et(i,l));const r=u(t,["config"]);return r!=null&&c(o,["config"],hb(r,o)),o}function yb(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["setup","model"],et(i,l));const r=u(t,["config"]);return r!=null&&c(o,["config"],gb(r,o)),o}function xb(i){const t={},o=u(i,["musicGenerationConfig"]);return o!=null&&c(t,["musicGenerationConfig"],o),t}function _b(i){const t={},o=u(i,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>r)),c(t,["weightedPrompts"],l)}return t}function bb(i){const t={},o=u(i,["media"]);if(o!=null){let v=T0(o);Array.isArray(v)&&(v=v.map(x=>Ks(x))),c(t,["mediaChunks"],v)}const l=u(i,["audio"]);l!=null&&c(t,["audio"],Ks(C0(l)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&c(t,["video"],Ks(E0(d)));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function Sb(i){const t={},o=u(i,["media"]);if(o!=null){let v=T0(o);Array.isArray(v)&&(v=v.map(x=>x)),c(t,["mediaChunks"],v)}const l=u(i,["audio"]);l!=null&&c(t,["audio"],C0(l));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&c(t,["video"],E0(d));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function Tb(i){const t={},o=u(i,["setupComplete"]);o!=null&&c(t,["setupComplete"],o);const l=u(i,["serverContent"]);l!=null&&c(t,["serverContent"],l);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const d=u(i,["toolCallCancellation"]);d!=null&&c(t,["toolCallCancellation"],d);const m=u(i,["usageMetadata"]);m!=null&&c(t,["usageMetadata"],wb(m));const g=u(i,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const v=u(i,["voiceActivityDetectionSignal"]);return v!=null&&c(t,["voiceActivityDetectionSignal"],v),t}function Eb(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const l=u(i,["codeExecutionResult"]);l!=null&&c(t,["codeExecutionResult"],l);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],ub(d));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],cb(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Ks(y));const v=u(i,["text"]);v!=null&&c(t,["text"],v);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const _=u(i,["thoughtSignature"]);_!=null&&c(t,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&c(t,["videoMetadata"],S),t}function Cb(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Ab(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(_=>_)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["googleSearchRetrieval"]);l!=null&&c(t,["googleSearchRetrieval"],l);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const m=u(i,["codeExecution"]);if(m!=null&&c(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],pb(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],mb(y));const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function Nb(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(S=>db(S))),c(t,["functionDeclarations"],_)}const l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const d=u(i,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(i,["codeExecution"]);m!=null&&c(t,["codeExecution"],m);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const v=u(i,["googleSearch"]);v!=null&&c(t,["googleSearch"],v);const x=u(i,["urlContext"]);return x!=null&&c(t,["urlContext"],x),t}function wb(i){const t={},o=u(i,["promptTokenCount"]);o!=null&&c(t,["promptTokenCount"],o);const l=u(i,["cachedContentTokenCount"]);l!=null&&c(t,["cachedContentTokenCount"],l);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const d=u(i,["toolUsePromptTokenCount"]);d!=null&&c(t,["toolUsePromptTokenCount"],d);const m=u(i,["thoughtsTokenCount"]);m!=null&&c(t,["thoughtsTokenCount"],m);const g=u(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(D=>D)),c(t,["promptTokensDetails"],C)}const v=u(i,["cacheTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(D=>D)),c(t,["cacheTokensDetails"],C)}const x=u(i,["candidatesTokensDetails"]);if(x!=null){let C=x;Array.isArray(C)&&(C=C.map(D=>D)),c(t,["responseTokensDetails"],C)}const _=u(i,["toolUsePromptTokensDetails"]);if(_!=null){let C=_;Array.isArray(C)&&(C=C.map(D=>D)),c(t,["toolUsePromptTokensDetails"],C)}const S=u(i,["trafficType"]);return S!=null&&c(t,["trafficType"],S),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mb(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function Rb(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const l=u(i,["citationMetadata"]);l!=null&&c(t,["citationMetadata"],Ib(l));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const m=u(i,["avgLogprobs"]);m!=null&&c(t,["avgLogprobs"],m);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const v=u(i,["logprobsResult"]);v!=null&&c(t,["logprobsResult"],v);const x=u(i,["safetyRatings"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(C=>C)),c(t,["safetyRatings"],S)}const _=u(i,["urlContextMetadata"]);return _!=null&&c(t,["urlContextMetadata"],_),t}function Ib(i){const t={},o=u(i,["citationSources"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>r)),c(t,["citations"],l)}return t}function kb(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],et(i,l));const r=u(t,["contents"]);if(r!=null){let d=Pn(r);Array.isArray(d)&&(d=d.map(m=>m)),c(o,["contents"],d)}return o}function Db(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["tokensInfo"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["tokensInfo"],r)}return t}function Ub(i){const t={},o=u(i,["values"]);o!=null&&c(t,["values"],o);const l=u(i,["statistics"]);return l!=null&&c(t,["statistics"],Lb(l)),t}function Lb(i){const t={},o=u(i,["truncated"]);o!=null&&c(t,["truncated"],o);const l=u(i,["token_count"]);return l!=null&&c(t,["tokenCount"],l),t}function lr(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>O1(d))),c(t,["parts"],r)}const l=u(i,["role"]);return l!=null&&c(t,["role"],l),t}function zb(i){const t={},o=u(i,["controlType"]);o!=null&&c(t,["controlType"],o);const l=u(i,["enableControlImageComputation"]);return l!=null&&c(t,["computeControl"],l),t}function Pb(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function Gb(i,t){const o={},l=u(i,["systemInstruction"]);t!==void 0&&l!=null&&c(t,["systemInstruction"],tn(l));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let m=r;Array.isArray(m)&&(m=m.map(g=>H0(g))),c(t,["tools"],m)}const d=u(i,["generationConfig"]);return t!==void 0&&d!=null&&c(t,["generationConfig"],M1(d)),o}function Hb(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],et(i,l));const r=u(t,["contents"]);if(r!=null){let m=Pn(r);Array.isArray(m)&&(m=m.map(g=>lr(g))),c(o,["contents"],m)}const d=u(t,["config"]);return d!=null&&Pb(d),o}function qb(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],et(i,l));const r=u(t,["contents"]);if(r!=null){let m=Pn(r);Array.isArray(m)&&(m=m.map(g=>g)),c(o,["contents"],m)}const d=u(t,["config"]);return d!=null&&Gb(d,o),o}function Vb(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["totalTokens"]);l!=null&&c(t,["totalTokens"],l);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function Bb(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["totalTokens"]);return l!=null&&c(t,["totalTokens"],l),t}function Fb(i,t){const o={},l=u(t,["model"]);return l!=null&&c(o,["_url","name"],et(i,l)),o}function Ob(i,t){const o={},l=u(t,["model"]);return l!=null&&c(o,["_url","name"],et(i,l)),o}function jb(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function Yb(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function Jb(i,t){const o={},l=u(i,["outputGcsUri"]);t!==void 0&&l!=null&&c(t,["parameters","storageUri"],l);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const m=u(i,["aspectRatio"]);t!==void 0&&m!=null&&c(t,["parameters","aspectRatio"],m);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const v=u(i,["safetyFilterLevel"]);t!==void 0&&v!=null&&c(t,["parameters","safetySetting"],v);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&c(t,["parameters","personGeneration"],x);const _=u(i,["includeSafetyAttributes"]);t!==void 0&&_!=null&&c(t,["parameters","includeSafetyAttributes"],_);const S=u(i,["includeRaiReason"]);t!==void 0&&S!=null&&c(t,["parameters","includeRaiReason"],S);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const D=u(i,["outputMimeType"]);t!==void 0&&D!=null&&c(t,["parameters","outputOptions","mimeType"],D);const k=u(i,["outputCompressionQuality"]);t!==void 0&&k!=null&&c(t,["parameters","outputOptions","compressionQuality"],k);const R=u(i,["addWatermark"]);t!==void 0&&R!=null&&c(t,["parameters","addWatermark"],R);const U=u(i,["labels"]);t!==void 0&&U!=null&&c(t,["labels"],U);const X=u(i,["editMode"]);t!==void 0&&X!=null&&c(t,["parameters","editMode"],X);const j=u(i,["baseSteps"]);return t!==void 0&&j!=null&&c(t,["parameters","editConfig","baseSteps"],j),o}function Kb(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],et(i,l));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>$1(y))),c(o,["instances[0]","referenceImages"],g)}const m=u(t,["config"]);return m!=null&&Jb(m,o),o}function Xb(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>sr(d))),c(t,["generatedImages"],r)}return t}function $b(i,t){const o={},l=u(i,["taskType"]);t!==void 0&&l!=null&&c(t,["requests[]","taskType"],l);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function Qb(i,t){const o={},l=u(i,["taskType"]);t!==void 0&&l!=null&&c(t,["instances[]","task_type"],l);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const d=u(i,["outputDimensionality"]);t!==void 0&&d!=null&&c(t,["parameters","outputDimensionality"],d);const m=u(i,["mimeType"]);t!==void 0&&m!=null&&c(t,["instances[]","mimeType"],m);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),o}function Zb(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],et(i,l));const r=u(t,["contents"]);if(r!=null){let g=Bc(i,r);Array.isArray(g)&&(g=g.map(y=>y)),c(o,["requests[]","content"],g)}const d=u(t,["config"]);d!=null&&$b(d,o);const m=u(t,["model"]);return m!==void 0&&c(o,["requests[]","model"],et(i,m)),o}function Wb(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],et(i,l));const r=u(t,["contents"]);if(r!=null){let m=Bc(i,r);Array.isArray(m)&&(m=m.map(g=>g)),c(o,["instances[]","content"],m)}const d=u(t,["config"]);return d!=null&&Qb(d,o),o}function e1(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["embeddings"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function t1(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["predictions[]","embeddings"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>Ub(m))),c(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function n1(i){const t={},o=u(i,["endpoint"]);o!=null&&c(t,["name"],o);const l=u(i,["deployedModelId"]);return l!=null&&c(t,["deployedModelId"],l),t}function i1(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const l=u(i,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function o1(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const l=u(i,["args"]);l!=null&&c(t,["args"],l);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function a1(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const l=u(i,["allowedFunctionNames"]);if(l!=null&&c(t,["allowedFunctionNames"],l),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function l1(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const l=u(i,["name"]);l!=null&&c(t,["name"],l);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const m=u(i,["response"]);m!=null&&c(t,["response"],m);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function s1(i,t,o){const l={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],lr(tn(r)));const d=u(t,["temperature"]);d!=null&&c(l,["temperature"],d);const m=u(t,["topP"]);m!=null&&c(l,["topP"],m);const g=u(t,["topK"]);g!=null&&c(l,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(l,["candidateCount"],y);const v=u(t,["maxOutputTokens"]);v!=null&&c(l,["maxOutputTokens"],v);const x=u(t,["stopSequences"]);x!=null&&c(l,["stopSequences"],x);const _=u(t,["responseLogprobs"]);_!=null&&c(l,["responseLogprobs"],_);const S=u(t,["logprobs"]);S!=null&&c(l,["logprobs"],S);const C=u(t,["presencePenalty"]);C!=null&&c(l,["presencePenalty"],C);const D=u(t,["frequencyPenalty"]);D!=null&&c(l,["frequencyPenalty"],D);const k=u(t,["seed"]);k!=null&&c(l,["seed"],k);const R=u(t,["responseMimeType"]);R!=null&&c(l,["responseMimeType"],R);const U=u(t,["responseSchema"]);U!=null&&c(l,["responseSchema"],Fc(U));const X=u(t,["responseJsonSchema"]);if(X!=null&&c(l,["responseJsonSchema"],X),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const j=u(t,["safetySettings"]);if(o!==void 0&&j!=null){let fe=j;Array.isArray(fe)&&(fe=fe.map(qe=>Q1(qe))),c(o,["safetySettings"],fe)}const oe=u(t,["tools"]);if(o!==void 0&&oe!=null){let fe=Ma(oe);Array.isArray(fe)&&(fe=fe.map(qe=>oS(wa(qe)))),c(o,["tools"],fe)}const ae=u(t,["toolConfig"]);if(o!==void 0&&ae!=null&&c(o,["toolConfig"],iS(ae)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=u(t,["cachedContent"]);o!==void 0&&E!=null&&c(o,["cachedContent"],Ci(i,E));const Z=u(t,["responseModalities"]);Z!=null&&c(l,["responseModalities"],Z);const _e=u(t,["mediaResolution"]);_e!=null&&c(l,["mediaResolution"],_e);const le=u(t,["speechConfig"]);if(le!=null&&c(l,["speechConfig"],Oc(le)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const xe=u(t,["thinkingConfig"]);xe!=null&&c(l,["thinkingConfig"],xe);const Q=u(t,["imageConfig"]);Q!=null&&c(l,["imageConfig"],U1(Q));const se=u(t,["enableEnhancedCivicAnswers"]);return se!=null&&c(l,["enableEnhancedCivicAnswers"],se),l}function r1(i,t,o){const l={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],tn(r));const d=u(t,["temperature"]);d!=null&&c(l,["temperature"],d);const m=u(t,["topP"]);m!=null&&c(l,["topP"],m);const g=u(t,["topK"]);g!=null&&c(l,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(l,["candidateCount"],y);const v=u(t,["maxOutputTokens"]);v!=null&&c(l,["maxOutputTokens"],v);const x=u(t,["stopSequences"]);x!=null&&c(l,["stopSequences"],x);const _=u(t,["responseLogprobs"]);_!=null&&c(l,["responseLogprobs"],_);const S=u(t,["logprobs"]);S!=null&&c(l,["logprobs"],S);const C=u(t,["presencePenalty"]);C!=null&&c(l,["presencePenalty"],C);const D=u(t,["frequencyPenalty"]);D!=null&&c(l,["frequencyPenalty"],D);const k=u(t,["seed"]);k!=null&&c(l,["seed"],k);const R=u(t,["responseMimeType"]);R!=null&&c(l,["responseMimeType"],R);const U=u(t,["responseSchema"]);U!=null&&c(l,["responseSchema"],Fc(U));const X=u(t,["responseJsonSchema"]);X!=null&&c(l,["responseJsonSchema"],X);const j=u(t,["routingConfig"]);j!=null&&c(l,["routingConfig"],j);const oe=u(t,["modelSelectionConfig"]);oe!=null&&c(l,["modelConfig"],oe);const ae=u(t,["safetySettings"]);if(o!==void 0&&ae!=null){let V=ae;Array.isArray(V)&&(V=V.map(W=>W)),c(o,["safetySettings"],V)}const E=u(t,["tools"]);if(o!==void 0&&E!=null){let V=Ma(E);Array.isArray(V)&&(V=V.map(W=>H0(wa(W)))),c(o,["tools"],V)}const Z=u(t,["toolConfig"]);o!==void 0&&Z!=null&&c(o,["toolConfig"],Z);const _e=u(t,["labels"]);o!==void 0&&_e!=null&&c(o,["labels"],_e);const le=u(t,["cachedContent"]);o!==void 0&&le!=null&&c(o,["cachedContent"],Ci(i,le));const xe=u(t,["responseModalities"]);xe!=null&&c(l,["responseModalities"],xe);const Q=u(t,["mediaResolution"]);Q!=null&&c(l,["mediaResolution"],Q);const se=u(t,["speechConfig"]);se!=null&&c(l,["speechConfig"],Oc(se));const fe=u(t,["audioTimestamp"]);fe!=null&&c(l,["audioTimestamp"],fe);const qe=u(t,["thinkingConfig"]);qe!=null&&c(l,["thinkingConfig"],qe);const $e=u(t,["imageConfig"]);if($e!=null&&c(l,["imageConfig"],L1($e)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return l}function Xh(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],et(i,l));const r=u(t,["contents"]);if(r!=null){let m=Pn(r);Array.isArray(m)&&(m=m.map(g=>lr(g))),c(o,["contents"],m)}const d=u(t,["config"]);return d!=null&&c(o,["generationConfig"],s1(i,d,o)),o}function $h(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],et(i,l));const r=u(t,["contents"]);if(r!=null){let m=Pn(r);Array.isArray(m)&&(m=m.map(g=>g)),c(o,["contents"],m)}const d=u(t,["config"]);return d!=null&&c(o,["generationConfig"],r1(i,d,o)),o}function Qh(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(v=>Rb(v))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const m=u(i,["responseId"]);m!=null&&c(t,["responseId"],m);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function Zh(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["candidates"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(x=>x)),c(t,["candidates"],v)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const d=u(i,["modelVersion"]);d!=null&&c(t,["modelVersion"],d);const m=u(i,["promptFeedback"]);m!=null&&c(t,["promptFeedback"],m);const g=u(i,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function u1(i,t){const o={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=u(i,["numberOfImages"]);t!==void 0&&l!=null&&c(t,["parameters","sampleCount"],l);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const d=u(i,["guidanceScale"]);if(t!==void 0&&d!=null&&c(t,["parameters","guidanceScale"],d),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const v=u(i,["includeRaiReason"]);t!==void 0&&v!=null&&c(t,["parameters","includeRaiReason"],v);const x=u(i,["language"]);t!==void 0&&x!=null&&c(t,["parameters","language"],x);const _=u(i,["outputMimeType"]);t!==void 0&&_!=null&&c(t,["parameters","outputOptions","mimeType"],_);const S=u(i,["outputCompressionQuality"]);if(t!==void 0&&S!=null&&c(t,["parameters","outputOptions","compressionQuality"],S),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=u(i,["imageSize"]);if(t!==void 0&&C!=null&&c(t,["parameters","sampleImageSize"],C),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function c1(i,t){const o={},l=u(i,["outputGcsUri"]);t!==void 0&&l!=null&&c(t,["parameters","storageUri"],l);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const m=u(i,["aspectRatio"]);t!==void 0&&m!=null&&c(t,["parameters","aspectRatio"],m);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const v=u(i,["safetyFilterLevel"]);t!==void 0&&v!=null&&c(t,["parameters","safetySetting"],v);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&c(t,["parameters","personGeneration"],x);const _=u(i,["includeSafetyAttributes"]);t!==void 0&&_!=null&&c(t,["parameters","includeSafetyAttributes"],_);const S=u(i,["includeRaiReason"]);t!==void 0&&S!=null&&c(t,["parameters","includeRaiReason"],S);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const D=u(i,["outputMimeType"]);t!==void 0&&D!=null&&c(t,["parameters","outputOptions","mimeType"],D);const k=u(i,["outputCompressionQuality"]);t!==void 0&&k!=null&&c(t,["parameters","outputOptions","compressionQuality"],k);const R=u(i,["addWatermark"]);t!==void 0&&R!=null&&c(t,["parameters","addWatermark"],R);const U=u(i,["labels"]);t!==void 0&&U!=null&&c(t,["labels"],U);const X=u(i,["imageSize"]);t!==void 0&&X!=null&&c(t,["parameters","sampleImageSize"],X);const j=u(i,["enhancePrompt"]);return t!==void 0&&j!=null&&c(t,["parameters","enhancePrompt"],j),o}function d1(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],et(i,l));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&u1(d,o),o}function f1(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],et(i,l));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&c1(d,o),o}function p1(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["predictions"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>C1(m))),c(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],P0(r)),t}function m1(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["predictions"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>sr(m))),c(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],G0(r)),t}function h1(i,t){const o={},l=u(i,["numberOfVideos"]);if(t!==void 0&&l!=null&&c(t,["parameters","sampleCount"],l),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(i,["aspectRatio"]);t!==void 0&&d!=null&&c(t,["parameters","aspectRatio"],d);const m=u(i,["resolution"]);t!==void 0&&m!=null&&c(t,["parameters","resolution"],m);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const v=u(i,["enhancePrompt"]);if(t!==void 0&&v!=null&&c(t,["parameters","enhancePrompt"],v),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=u(i,["lastFrame"]);t!==void 0&&x!=null&&c(t,["instances[0]","lastFrame"],rr(x));const _=u(i,["referenceImages"]);if(t!==void 0&&_!=null){let S=_;Array.isArray(S)&&(S=S.map(C=>vS(C))),c(t,["instances[0]","referenceImages"],S)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function g1(i,t){const o={},l=u(i,["numberOfVideos"]);t!==void 0&&l!=null&&c(t,["parameters","sampleCount"],l);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const d=u(i,["fps"]);t!==void 0&&d!=null&&c(t,["parameters","fps"],d);const m=u(i,["durationSeconds"]);t!==void 0&&m!=null&&c(t,["parameters","durationSeconds"],m);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const v=u(i,["resolution"]);t!==void 0&&v!=null&&c(t,["parameters","resolution"],v);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&c(t,["parameters","personGeneration"],x);const _=u(i,["pubsubTopic"]);t!==void 0&&_!=null&&c(t,["parameters","pubsubTopic"],_);const S=u(i,["negativePrompt"]);t!==void 0&&S!=null&&c(t,["parameters","negativePrompt"],S);const C=u(i,["enhancePrompt"]);t!==void 0&&C!=null&&c(t,["parameters","enhancePrompt"],C);const D=u(i,["generateAudio"]);t!==void 0&&D!=null&&c(t,["parameters","generateAudio"],D);const k=u(i,["lastFrame"]);t!==void 0&&k!=null&&c(t,["instances[0]","lastFrame"],Yn(k));const R=u(i,["referenceImages"]);if(t!==void 0&&R!=null){let j=R;Array.isArray(j)&&(j=j.map(oe=>yS(oe))),c(t,["instances[0]","referenceImages"],j)}const U=u(i,["mask"]);t!==void 0&&U!=null&&c(t,["instances[0]","mask"],gS(U));const X=u(i,["compressionQuality"]);return t!==void 0&&X!=null&&c(t,["parameters","compressionQuality"],X),o}function v1(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const l=u(i,["metadata"]);l!=null&&c(t,["metadata"],l);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response","generateVideoResponse"]);return m!=null&&c(t,["response"],b1(m)),t}function y1(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const l=u(i,["metadata"]);l!=null&&c(t,["metadata"],l);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response"]);return m!=null&&c(t,["response"],S1(m)),t}function x1(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],et(i,l));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(o,["instances[0]","image"],rr(d));const m=u(t,["video"]);m!=null&&c(o,["instances[0]","video"],q0(m));const g=u(t,["source"]);g!=null&&T1(g,o);const y=u(t,["config"]);return y!=null&&h1(y,o),o}function _1(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],et(i,l));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(o,["instances[0]","image"],Yn(d));const m=u(t,["video"]);m!=null&&c(o,["instances[0]","video"],V0(m));const g=u(t,["source"]);g!=null&&E1(g,o);const y=u(t,["config"]);return y!=null&&g1(y,o),o}function b1(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>N1(m))),c(t,["generatedVideos"],d)}const l=u(i,["raiMediaFilteredCount"]);l!=null&&c(t,["raiMediaFilteredCount"],l);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function S1(i){const t={},o=u(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>w1(m))),c(t,["generatedVideos"],d)}const l=u(i,["raiMediaFilteredCount"]);l!=null&&c(t,["raiMediaFilteredCount"],l);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function T1(i,t){const o={},l=u(i,["prompt"]);t!==void 0&&l!=null&&c(t,["instances[0]","prompt"],l);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],rr(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],q0(d)),o}function E1(i,t){const o={},l=u(i,["prompt"]);t!==void 0&&l!=null&&c(t,["instances[0]","prompt"],l);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Yn(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],V0(d)),o}function C1(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],z1(o));const l=u(i,["raiFilteredReason"]);l!=null&&c(t,["raiFilteredReason"],l);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],P0(r)),t}function sr(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],z0(o));const l=u(i,["raiFilteredReason"]);l!=null&&c(t,["raiFilteredReason"],l);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],G0(r));const d=u(i,["prompt"]);return d!=null&&c(t,["enhancedPrompt"],d),t}function A1(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["mask"],z0(o));const l=u(i,["labels"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["labels"],r)}return t}function N1(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],mS(o)),t}function w1(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],hS(o)),t}function M1(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const l=u(i,["responseJsonSchema"]);l!=null&&c(t,["responseJsonSchema"],l);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const m=u(i,["enableAffectiveDialog"]);m!=null&&c(t,["enableAffectiveDialog"],m);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const v=u(i,["maxOutputTokens"]);v!=null&&c(t,["maxOutputTokens"],v);const x=u(i,["mediaResolution"]);x!=null&&c(t,["mediaResolution"],x);const _=u(i,["presencePenalty"]);_!=null&&c(t,["presencePenalty"],_);const S=u(i,["responseLogprobs"]);S!=null&&c(t,["responseLogprobs"],S);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const D=u(i,["responseModalities"]);D!=null&&c(t,["responseModalities"],D);const k=u(i,["responseSchema"]);k!=null&&c(t,["responseSchema"],k);const R=u(i,["routingConfig"]);R!=null&&c(t,["routingConfig"],R);const U=u(i,["seed"]);U!=null&&c(t,["seed"],U);const X=u(i,["speechConfig"]);X!=null&&c(t,["speechConfig"],X);const j=u(i,["stopSequences"]);j!=null&&c(t,["stopSequences"],j);const oe=u(i,["temperature"]);oe!=null&&c(t,["temperature"],oe);const ae=u(i,["thinkingConfig"]);ae!=null&&c(t,["thinkingConfig"],ae);const E=u(i,["topK"]);E!=null&&c(t,["topK"],E);const Z=u(i,["topP"]);if(Z!=null&&c(t,["topP"],Z),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function R1(i,t){const o={},l=u(t,["model"]);return l!=null&&c(o,["_url","name"],et(i,l)),o}function I1(i,t){const o={},l=u(t,["model"]);return l!=null&&c(o,["_url","name"],et(i,l)),o}function k1(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function D1(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function U1(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const l=u(i,["imageSize"]);if(l!=null&&c(t,["imageSize"],l),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function L1(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const l=u(i,["imageSize"]);l!=null&&c(t,["imageSize"],l);const r=u(i,["outputMimeType"]);r!=null&&c(t,["imageOutputOptions","mimeType"],r);const d=u(i,["outputCompressionQuality"]);return d!=null&&c(t,["imageOutputOptions","compressionQuality"],d),t}function z1(i){const t={},o=u(i,["bytesBase64Encoded"]);o!=null&&c(t,["imageBytes"],lo(o));const l=u(i,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function z0(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const l=u(i,["bytesBase64Encoded"]);l!=null&&c(t,["imageBytes"],lo(l));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function rr(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(i,["imageBytes"]);o!=null&&c(t,["bytesBase64Encoded"],lo(o));const l=u(i,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function Yn(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const l=u(i,["imageBytes"]);l!=null&&c(t,["bytesBase64Encoded"],lo(l));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function P1(i,t,o){const l={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const d=u(t,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const m=u(t,["filter"]);o!==void 0&&m!=null&&c(o,["_query","filter"],m);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],M0(i,g)),l}function G1(i,t,o){const l={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const d=u(t,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const m=u(t,["filter"]);o!==void 0&&m!=null&&c(o,["_query","filter"],m);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],M0(i,g)),l}function H1(i,t){const o={},l=u(t,["config"]);return l!=null&&P1(i,l,o),o}function q1(i,t){const o={},l=u(t,["config"]);return l!=null&&G1(i,l,o),o}function V1(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["nextPageToken"]);l!=null&&c(t,["nextPageToken"],l);const r=u(i,["_self"]);if(r!=null){let d=R0(r);Array.isArray(d)&&(d=d.map(m=>wc(m))),c(t,["models"],d)}return t}function B1(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["nextPageToken"]);l!=null&&c(t,["nextPageToken"],l);const r=u(i,["_self"]);if(r!=null){let d=R0(r);Array.isArray(d)&&(d=d.map(m=>Mc(m))),c(t,["models"],d)}return t}function F1(i){const t={},o=u(i,["maskMode"]);o!=null&&c(t,["maskMode"],o);const l=u(i,["segmentationClasses"]);l!=null&&c(t,["maskClasses"],l);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function wc(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const l=u(i,["displayName"]);l!=null&&c(t,["displayName"],l);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const d=u(i,["version"]);d!=null&&c(t,["version"],d);const m=u(i,["_self"]);m!=null&&c(t,["tunedModelInfo"],aS(m));const g=u(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const v=u(i,["supportedGenerationMethods"]);v!=null&&c(t,["supportedActions"],v);const x=u(i,["temperature"]);x!=null&&c(t,["temperature"],x);const _=u(i,["maxTemperature"]);_!=null&&c(t,["maxTemperature"],_);const S=u(i,["topP"]);S!=null&&c(t,["topP"],S);const C=u(i,["topK"]);C!=null&&c(t,["topK"],C);const D=u(i,["thinking"]);return D!=null&&c(t,["thinking"],D),t}function Mc(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const l=u(i,["displayName"]);l!=null&&c(t,["displayName"],l);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const d=u(i,["versionId"]);d!=null&&c(t,["version"],d);const m=u(i,["deployedModels"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(S=>n1(S))),c(t,["endpoints"],_)}const g=u(i,["labels"]);g!=null&&c(t,["labels"],g);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],lS(y));const v=u(i,["defaultCheckpointId"]);v!=null&&c(t,["defaultCheckpointId"],v);const x=u(i,["checkpoints"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(S=>S)),c(t,["checkpoints"],_)}return t}function O1(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const l=u(i,["codeExecutionResult"]);l!=null&&c(t,["codeExecutionResult"],l);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],i1(d));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],o1(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Mb(y));const v=u(i,["text"]);v!=null&&c(t,["text"],v);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const _=u(i,["thoughtSignature"]);_!=null&&c(t,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&c(t,["videoMetadata"],S),t}function j1(i){const t={},o=u(i,["productImage"]);return o!=null&&c(t,["image"],Yn(o)),t}function Y1(i,t){const o={},l=u(i,["numberOfImages"]);t!==void 0&&l!=null&&c(t,["parameters","sampleCount"],l);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const d=u(i,["outputGcsUri"]);t!==void 0&&d!=null&&c(t,["parameters","storageUri"],d);const m=u(i,["seed"]);t!==void 0&&m!=null&&c(t,["parameters","seed"],m);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const v=u(i,["addWatermark"]);t!==void 0&&v!=null&&c(t,["parameters","addWatermark"],v);const x=u(i,["outputMimeType"]);t!==void 0&&x!=null&&c(t,["parameters","outputOptions","mimeType"],x);const _=u(i,["outputCompressionQuality"]);t!==void 0&&_!=null&&c(t,["parameters","outputOptions","compressionQuality"],_);const S=u(i,["enhancePrompt"]);t!==void 0&&S!=null&&c(t,["parameters","enhancePrompt"],S);const C=u(i,["labels"]);return t!==void 0&&C!=null&&c(t,["labels"],C),o}function J1(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],et(i,l));const r=u(t,["source"]);r!=null&&X1(r,o);const d=u(t,["config"]);return d!=null&&Y1(d,o),o}function K1(i){const t={},o=u(i,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>sr(r))),c(t,["generatedImages"],l)}return t}function X1(i,t){const o={},l=u(i,["prompt"]);t!==void 0&&l!=null&&c(t,["instances[0]","prompt"],l);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],Yn(r));const d=u(i,["productImages"]);if(t!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>j1(g))),c(t,["instances[0]","productImages"],m)}return o}function $1(i){const t={},o=u(i,["referenceImage"]);o!=null&&c(t,["referenceImage"],Yn(o));const l=u(i,["referenceId"]);l!=null&&c(t,["referenceId"],l);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const d=u(i,["maskImageConfig"]);d!=null&&c(t,["maskImageConfig"],F1(d));const m=u(i,["controlImageConfig"]);m!=null&&c(t,["controlImageConfig"],zb(m));const g=u(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function P0(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const l=u(i,["safetyAttributes","scores"]);l!=null&&c(t,["scores"],l);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function G0(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const l=u(i,["safetyAttributes","scores"]);l!=null&&c(t,["scores"],l);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function Q1(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=u(i,["threshold"]);return l!=null&&c(t,["threshold"],l),t}function Z1(i){const t={},o=u(i,["image"]);return o!=null&&c(t,["image"],Yn(o)),t}function W1(i,t){const o={},l=u(i,["mode"]);t!==void 0&&l!=null&&c(t,["parameters","mode"],l);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const d=u(i,["confidenceThreshold"]);t!==void 0&&d!=null&&c(t,["parameters","confidenceThreshold"],d);const m=u(i,["maskDilation"]);t!==void 0&&m!=null&&c(t,["parameters","maskDilation"],m);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),o}function eS(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],et(i,l));const r=u(t,["source"]);r!=null&&nS(r,o);const d=u(t,["config"]);return d!=null&&W1(d,o),o}function tS(i){const t={},o=u(i,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>A1(r))),c(t,["generatedMasks"],l)}return t}function nS(i,t){const o={},l=u(i,["prompt"]);t!==void 0&&l!=null&&c(t,["instances[0]","prompt"],l);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Yn(r));const d=u(i,["scribbleImage"]);return t!==void 0&&d!=null&&c(t,["instances[0]","scribble"],Z1(d)),o}function iS(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],a1(o));const l=u(i,["retrievalConfig"]);return l!=null&&c(t,["retrievalConfig"],l),t}function oS(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(_=>_)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["googleSearchRetrieval"]);l!=null&&c(t,["googleSearchRetrieval"],l);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const m=u(i,["codeExecution"]);if(m!=null&&c(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],k1(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],D1(y));const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function H0(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(S=>l1(S))),c(t,["functionDeclarations"],_)}const l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const d=u(i,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(i,["codeExecution"]);m!=null&&c(t,["codeExecution"],m);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const v=u(i,["googleSearch"]);v!=null&&c(t,["googleSearch"],v);const x=u(i,["urlContext"]);return x!=null&&c(t,["urlContext"],x),t}function aS(i){const t={},o=u(i,["baseModel"]);o!=null&&c(t,["baseModel"],o);const l=u(i,["createTime"]);l!=null&&c(t,["createTime"],l);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function lS(i){const t={},o=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(t,["baseModel"],o);const l=u(i,["createTime"]);l!=null&&c(t,["createTime"],l);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function sS(i,t){const o={},l=u(i,["displayName"]);t!==void 0&&l!=null&&c(t,["displayName"],l);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),o}function rS(i,t){const o={},l=u(i,["displayName"]);t!==void 0&&l!=null&&c(t,["displayName"],l);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),o}function uS(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","name"],et(i,l));const r=u(t,["config"]);return r!=null&&sS(r,o),o}function cS(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],et(i,l));const r=u(t,["config"]);return r!=null&&rS(r,o),o}function dS(i,t){const o={},l=u(i,["outputGcsUri"]);t!==void 0&&l!=null&&c(t,["parameters","storageUri"],l);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const d=u(i,["personGeneration"]);t!==void 0&&d!=null&&c(t,["parameters","personGeneration"],d);const m=u(i,["includeRaiReason"]);t!==void 0&&m!=null&&c(t,["parameters","includeRaiReason"],m);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const v=u(i,["enhanceInputImage"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],v);const x=u(i,["imagePreservationFactor"]);t!==void 0&&x!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],x);const _=u(i,["labels"]);t!==void 0&&_!=null&&c(t,["labels"],_);const S=u(i,["numberOfImages"]);t!==void 0&&S!=null&&c(t,["parameters","sampleCount"],S);const C=u(i,["mode"]);return t!==void 0&&C!=null&&c(t,["parameters","mode"],C),o}function fS(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["_url","model"],et(i,l));const r=u(t,["image"]);r!=null&&c(o,["instances[0]","image"],Yn(r));const d=u(t,["upscaleFactor"]);d!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],d);const m=u(t,["config"]);return m!=null&&dS(m,o),o}function pS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>sr(d))),c(t,["generatedImages"],r)}return t}function mS(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const l=u(i,["encodedVideo"]);l!=null&&c(t,["videoBytes"],lo(l));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function hS(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const l=u(i,["bytesBase64Encoded"]);l!=null&&c(t,["videoBytes"],lo(l));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function gS(i){const t={},o=u(i,["image"]);o!=null&&c(t,["_self"],Yn(o));const l=u(i,["maskMode"]);return l!=null&&c(t,["maskMode"],l),t}function vS(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],rr(o));const l=u(i,["referenceType"]);return l!=null&&c(t,["referenceType"],l),t}function yS(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],Yn(o));const l=u(i,["referenceType"]);return l!=null&&c(t,["referenceType"],l),t}function q0(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const l=u(i,["videoBytes"]);l!=null&&c(t,["encodedVideo"],lo(l));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function V0(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["gcsUri"],o);const l=u(i,["videoBytes"]);l!=null&&c(t,["bytesBase64Encoded"],lo(l));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xS(i,t){const o={},l=u(i,["displayName"]);return t!==void 0&&l!=null&&c(t,["displayName"],l),o}function _S(i){const t={},o=u(i,["config"]);return o!=null&&xS(o,t),t}function bS(i,t){const o={},l=u(i,["force"]);return t!==void 0&&l!=null&&c(t,["_query","force"],l),o}function SS(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const l=u(i,["config"]);return l!=null&&bS(l,t),t}function TS(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function ES(i,t){const o={},l=u(i,["customMetadata"]);if(t!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["customMetadata"],d)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),o}function CS(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const l=u(i,["metadata"]);l!=null&&c(t,["metadata"],l);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response"]);return m!=null&&c(t,["response"],NS(m)),t}function AS(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const l=u(i,["fileName"]);l!=null&&c(t,["fileName"],l);const r=u(i,["config"]);return r!=null&&ES(r,t),t}function NS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["parent"]);l!=null&&c(t,["parent"],l);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function wS(i,t){const o={},l=u(i,["pageSize"]);t!==void 0&&l!=null&&c(t,["_query","pageSize"],l);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function MS(i){const t={},o=u(i,["config"]);return o!=null&&wS(o,t),t}function RS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["nextPageToken"]);l!=null&&c(t,["nextPageToken"],l);const r=u(i,["fileSearchStores"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["fileSearchStores"],d)}return t}function B0(i,t){const o={},l=u(i,["mimeType"]);t!==void 0&&l!=null&&c(t,["mimeType"],l);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const d=u(i,["customMetadata"]);if(t!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const m=u(i,["chunkingConfig"]);return t!==void 0&&m!=null&&c(t,["chunkingConfig"],m),o}function IS(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const l=u(i,["config"]);return l!=null&&B0(l,t),t}function kS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DS="Content-Type",US="X-Server-Timeout",LS="User-Agent",Rc="x-goog-api-client",zS="1.34.0",PS=`google-genai-sdk/${zS}`,GS="v1beta1",HS="v1beta";class qS{constructor(t){var o,l;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:GS,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:HS,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&l.push(t.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,l){const r=[this.getRequestUrlInternal(o)];return l&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const l=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,l);if(t.queryParams)for(const[m,g]of Object.entries(t.queryParams))r.searchParams.append(m,String(g));let d={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=t.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,r.toString(),t.abortSignal),this.unaryApiCall(r,d,t.httpMethod)}patchHttpOptions(t,o){const l=JSON.parse(JSON.stringify(t));for(const[r,d]of Object.entries(o))typeof d=="object"?l[r]=Object.assign(Object.assign({},l[r]),d):d!==void 0&&(l[r]=d);return l}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const l=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,l);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let d={};return d.body=t.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,r.toString(),t.abortSignal),this.streamApiCall(r,d,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,l,r){if(o&&o.timeout||r){const d=new AbortController,m=d.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>d.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{d.abort()}),t.signal=m}return o&&o.extraBody!==null&&VS(t,o.extraBody),t.headers=await this.getHeadersInternal(o,l),t}async unaryApiCall(t,o,l){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:l})).then(async r=>(await Wh(r),new Cc(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,l){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:l})).then(async r=>(await Wh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return On(this,arguments,function*(){var l;const r=(l=t==null?void 0:t.body)===null||l===void 0?void 0:l.getReader(),d=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let m="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:v,value:x}=yield Pe(r.read());if(v){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=d.decode(x,{stream:!0});try{const D=JSON.parse(_);if("error"in D){const k=JSON.parse(JSON.stringify(D.error)),R=k.status,U=k.code,X=`got status: ${R}. ${JSON.stringify(D)}`;if(U>=400&&U<600)throw new ar({message:X,status:U})}}catch(D){if(D.name==="ApiError")throw D}m+=_;let S=-1,C=0;for(;;){S=-1,C=0;for(const R of y){const U=m.indexOf(R);U!==-1&&(S===-1||U<S)&&(S=U,C=R.length)}if(S===-1)break;const D=m.substring(0,S);m=m.substring(S+C);const k=D.trim();if(k.startsWith(g)){const R=k.substring(g.length).trim();try{const U=new Response(R,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Pe(new Cc(U))}catch(U){throw new Error(`exception parsing stream chunk ${R}. ${U}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const t={},o=PS+" "+this.clientOptions.userAgentExtra;return t[LS]=o,t[Rc]=o,t[DS]="application/json",t}async getHeadersInternal(t,o){const l=new Headers;if(t&&t.headers){for(const[r,d]of Object.entries(t.headers))l.append(r,d);t.timeout&&t.timeout>0&&l.append(US,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l,o),l}getFileName(t){var o;let l="";return typeof t=="string"&&(l=t.replace(/[/\\]+$/,""),l=(o=l.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),l}async uploadFile(t,o){var l;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const d=this.clientOptions.uploader,m=await d.stat(t);r.sizeBytes=String(m.size);const g=(l=o==null?void 0:o.mimeType)!==null&&l!==void 0?l:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},v=this.getFileName(t),x=de("upload/v1beta/files",y._url),_=await this.fetchUploadUrl(x,r.sizeBytes,r.mimeType,v,y,o==null?void 0:o.httpOptions);return d.upload(t,_,this)}async uploadFileToFileSearchStore(t,o,l){var r;const d=this.clientOptions.uploader,m=await d.stat(o),g=String(m.size),y=(r=l==null?void 0:l.mimeType)!==null&&r!==void 0?r:m.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const v=`upload/v1beta/${t}:uploadToFileSearchStore`,x=this.getFileName(o),_={};l!=null&&B0(l,_);const S=await this.fetchUploadUrl(v,g,y,x,_,l==null?void 0:l.httpOptions);return d.uploadToFileSearchStore(o,S,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,l,r,d,m){var g;let y={};m?y=m:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${l}`},r?{"X-Goog-Upload-File-Name":r}:{})};const v=await this.request({path:t,body:JSON.stringify(d),httpMethod:"POST",httpOptions:y});if(!v||!(v!=null&&v.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(g=v==null?void 0:v.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function Wh(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let l;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?l=await i.json():l={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(l);throw o>=400&&o<600?new ar({message:r,status:o}):new Error(r)}}function VS(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const d=JSON.parse(i.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(d,m){const g=Object.assign({},d);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const v=m[y],x=g[y];v&&typeof v=="object"&&!Array.isArray(v)&&x&&typeof x=="object"&&!Array.isArray(x)?g[y]=l(x,v):(x&&v&&typeof x!=typeof v&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof x}, New type: ${typeof v}. Overwriting.`),g[y]=v)}return g}const r=l(o,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BS="mcp_used/unknown";let FS=!1;function F0(i){for(const t of i)if(OS(t)||typeof t=="object"&&"inputSchema"in t)return!0;return FS}function O0(i){var t;const o=(t=i[Rc])!==null&&t!==void 0?t:"";i[Rc]=(o+` ${BS}`).trimStart()}function OS(i){return i!==null&&typeof i=="object"&&i instanceof Yc}function jS(i){return On(this,arguments,function*(o,l=100){let r,d=0;for(;d<l;){const m=yield Pe(o.listTools({cursor:r}));for(const g of m.tools)yield yield Pe(g),d++;if(!m.nextCursor)break;r=m.nextCursor}})}class Yc{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new Yc(t,o)}async initialize(){var t,o,l,r;if(this.mcpTools.length>0)return;const d={},m=[];for(const x of this.mcpClients)try{for(var g=!0,y=(o=void 0,jn(jS(x))),v;v=await y.next(),t=v.done,!t;g=!0){r=v.value,g=!1;const _=r;m.push(_);const S=_.name;if(d[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);d[S]=x}}catch(_){o={error:_}}finally{try{!g&&!t&&(l=y.return)&&await l.call(y)}finally{if(o)throw o.error}}this.mcpTools=m,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),Tx(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const l of t)if(l.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[l.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const m=await r.callTool({name:l.name,arguments:l.args},void 0,d);o.push({functionResponse:{name:l.name,response:m.isError?{error:m}:m}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function YS(i,t,o){const l=new hx;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(l,r),t(l)}class JS{constructor(t,o,l){this.apiClient=t,this.auth=o,this.webSocketFactory=l}async connect(t){var o,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),m=$S(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let v=()=>{};const x=new Promise(j=>{v=j}),_=t.callbacks,S=function(){v({})},C=this.apiClient,D={onopen:S,onmessage:j=>{YS(C,_.onmessage,j)},onerror:(o=_==null?void 0:_.onerror)!==null&&o!==void 0?o:function(j){},onclose:(l=_==null?void 0:_.onclose)!==null&&l!==void 0?l:function(j){}},k=this.webSocketFactory.create(y,XS(m),D);k.connect(),await x;const X={setup:{model:et(this.apiClient,t.model)}};return k.send(JSON.stringify(X)),new KS(k,this.apiClient)}}class KS{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=_b(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=xb(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Sa.PLAY)}pause(){this.sendPlaybackControl(Sa.PAUSE)}stop(){this.sendPlaybackControl(Sa.STOP)}resetContext(){this.sendPlaybackControl(Sa.RESET_CONTEXT)}close(){this.conn.close()}}function XS(i){const t={};return i.forEach((o,l)=>{t[l]=o}),t}function $S(i){const t=new Headers;for(const[o,l]of Object.entries(i))t.append(o,l);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function ZS(i,t,o){const l=new mx;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const d=JSON.parse(r);if(i.isVertexAI()){const m=Tb(d);Object.assign(l,m)}else Object.assign(l,d);t(l)}class WS{constructor(t,o,l){this.apiClient=t,this.auth=o,this.webSocketFactory=l,this.music=new JS(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,l,r,d,m,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),v=this.apiClient.getApiVersion();let x;const _=this.apiClient.getHeaders();t.config&&t.config.tools&&F0(t.config.tools)&&O0(_);const S=iT(_);if(this.apiClient.isVertexAI())x=`${y}/ws/google.cloud.aiplatform.${v}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,x);else{const le=this.apiClient.getApiKey();let xe="BidiGenerateContent",Q="key";le!=null&&le.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),v!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),xe="BidiGenerateContentConstrained",Q="access_token"),x=`${y}/ws/google.ai.generativelanguage.${v}.GenerativeService.${xe}?${Q}=${le}`}let C=()=>{};const D=new Promise(le=>{C=le}),k=t.callbacks,R=function(){var le;(le=k==null?void 0:k.onopen)===null||le===void 0||le.call(k),C({})},U=this.apiClient,X={onopen:R,onmessage:le=>{ZS(U,k.onmessage,le)},onerror:(o=k==null?void 0:k.onerror)!==null&&o!==void 0?o:function(le){},onclose:(l=k==null?void 0:k.onclose)!==null&&l!==void 0?l:function(le){}},j=this.webSocketFactory.create(x,nT(S),X);j.connect(),await D;let oe=et(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&oe.startsWith("publishers/")){const le=this.apiClient.getProject(),xe=this.apiClient.getLocation();oe=`projects/${le}/locations/${xe}/`+oe}let ae={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Qs.AUDIO]}:t.config.responseModalities=[Qs.AUDIO]),!((d=t.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=(g=(m=t.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],Z=[];for(const le of E)if(this.isCallableTool(le)){const xe=le;Z.push(await xe.tool())}else Z.push(le);Z.length>0&&(t.config.tools=Z);const _e={model:oe,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?ae=yb(this.apiClient,_e):ae=vb(this.apiClient,_e),delete ae.config,j.send(JSON.stringify(ae)),new tT(j,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const eT={turnComplete:!0};class tT{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let l=[];try{l=Pn(o.turns),t.isVertexAI()||(l=l.map(r=>lr(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:l,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let l=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?l=o.functionResponses:l=[o.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const d of l){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!t.isVertexAI()&&!("id"in d))throw new Error(QS)}return{toolResponse:{functionResponses:l}}}sendClientContent(t){t=Object.assign(Object.assign({},eT),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:Sb(t)}:o={realtimeInput:bb(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function nT(i){const t={};return i.forEach((o,l)=>{t[l]=o}),t}function iT(i){const t=new Headers;for(const[o,l]of Object.entries(i))t.append(o,l);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const e0=10;function t0(i){var t,o,l;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const m of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(Ca(m)){r=!0;break}if(!r)return!0;const d=(l=i==null?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Ca(i){return"callTool"in i&&typeof i.callTool=="function"}function oT(i){var t,o,l;return(l=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>Ca(r)))!==null&&l!==void 0?l:!1}function n0(i){var t;const o=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((l,r)=>{if(Ca(l))return;const d=l;d.functionDeclarations&&d.functionDeclarations.length>0&&o.push(r)}),o}function i0(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aT extends Ei{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var l,r,d,m,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!oT(o)||t0(o.config))return await this.generateContentInternal(y);const v=n0(o);if(v.length>0){const k=v.map(R=>`tools[${R}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let x,_;const S=Pn(y.contents),C=(d=(r=(l=y.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&d!==void 0?d:e0;let D=0;for(;D<C&&(x=await this.generateContentInternal(y),!(!x.functionCalls||x.functionCalls.length===0));){const k=x.candidates[0].content,R=[];for(const U of(g=(m=o.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(Ca(U)){const j=await U.callTool(x.functionCalls);R.push(...j)}D++,_={role:"user",parts:R},y.contents=Pn(y.contents),y.contents.push(k),y.contents.push(_),i0(y.config)&&(S.push(k),S.push(_))}return i0(y.config)&&(x.automaticFunctionCallingHistory=S),x},this.generateContentStream=async o=>{var l,r,d,m,g;if(this.maybeMoveToResponseJsonSchem(o),t0(o.config)){const _=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(_)}const y=n0(o);if(y.length>0){const _=y.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const v=(d=(r=(l=o==null?void 0:o.config)===null||l===void 0?void 0:l.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||d===void 0?void 0:d.streamFunctionCallArguments,x=(g=(m=o==null?void 0:o.config)===null||m===void 0?void 0:m.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(v&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(l=>{var r;let d;const m=[];if(l!=null&&l.generatedImages)for(const y of l.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:m.push(y);let g;return d?g={generatedImages:m,positivePromptSafetyAttributes:d,sdkHttpResponse:l.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:l.sdkHttpResponse},g}),this.list=async o=>{var l;const m={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((l=m.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new Do(Ti.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async o=>{const l={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(l.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async o=>{let l={numberOfImages:1,mode:"upscale"};o.config&&(l=Object.assign(Object.assign({},l),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:l};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var l,r,d,m,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((l=o.video)===null||l===void 0)&&l.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((m=(d=o.source)===null||d===void 0?void 0:d.video)===null||m===void 0)&&m.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,l,r;const d=(o=t.config)===null||o===void 0?void 0:o.tools;if(!d)return t;const m=await Promise.all(d.map(async y=>Ca(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:m})};if(g.config.tools=m,t.config&&t.config.tools&&F0(t.config.tools)){const y=(r=(l=t.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&r!==void 0?r:{};let v=Object.assign({},y);Object.keys(v).length===0&&(v=this.apiClient.getDefaultHeaders()),O0(v),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:v})}return g}async initAfcToolsMap(t){var o,l,r;const d=new Map;for(const m of(l=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(Ca(m)){const g=m,y=await g.tool();for(const v of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!v.name)throw new Error("Function declaration name is required.");if(d.has(v.name))throw new Error(`Duplicate tool declaration name: ${v.name}`);d.set(v.name,g)}}return d}async processAfcStream(t){var o,l,r;const d=(r=(l=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&r!==void 0?r:e0;let m=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(v,x,_){return On(this,arguments,function*(){for(var S,C,D,k,R,U;g<d;){m&&(g++,m=!1);const ae=yield Pe(v.processParamsMaybeAddMcpUsage(_)),E=yield Pe(v.generateContentStreamInternal(ae)),Z=[],_e=[];try{for(var X=!0,j=(C=void 0,jn(E)),oe;oe=yield Pe(j.next()),S=oe.done,!S;X=!0){k=oe.value,X=!1;const le=k;if(yield yield Pe(le),le.candidates&&(!((R=le.candidates[0])===null||R===void 0)&&R.content)){_e.push(le.candidates[0].content);for(const xe of(U=le.candidates[0].content.parts)!==null&&U!==void 0?U:[])if(g<d&&xe.functionCall){if(!xe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(xe.functionCall.name)){const Q=yield Pe(x.get(xe.functionCall.name).callTool([xe.functionCall]));Z.push(...Q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${xe.functionCall.name}`)}}}}catch(le){C={error:le}}finally{try{!X&&!S&&(D=j.return)&&(yield Pe(D.call(j)))}finally{if(C)throw C.error}}if(Z.length>0){m=!0;const le=new Al;le.candidates=[{content:{role:"user",parts:Z}}],yield yield Pe(le);const xe=[];xe.push(..._e),xe.push({role:"user",parts:Z});const Q=Pn(_.contents).concat(xe);_.contents=Q}else break}})})(this,y,t)}async generateContentInternal(t){var o,l,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const v=$h(this.apiClient,t);return g=de("{model}:generateContent",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>{const _=Zh(x),S=new Al;return Object.assign(S,_),S})}else{const v=Xh(this.apiClient,t);return g=de("{model}:generateContent",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>{const _=Qh(x),S=new Al;return Object.assign(S,_),S})}}async generateContentStreamInternal(t){var o,l,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const v=$h(this.apiClient,t);return g=de("{model}:streamGenerateContent?alt=sse",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),m.then(function(_){return On(this,arguments,function*(){var S,C,D,k;try{for(var R=!0,U=jn(_),X;X=yield Pe(U.next()),S=X.done,!S;R=!0){k=X.value,R=!1;const j=k,oe=Zh(yield Pe(j.json()));oe.sdkHttpResponse={headers:j.headers};const ae=new Al;Object.assign(ae,oe),yield yield Pe(ae)}}catch(j){C={error:j}}finally{try{!R&&!S&&(D=U.return)&&(yield Pe(D.call(U)))}finally{if(C)throw C.error}}})})}else{const v=Xh(this.apiClient,t);return g=de("{model}:streamGenerateContent?alt=sse",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}),m.then(function(_){return On(this,arguments,function*(){var S,C,D,k;try{for(var R=!0,U=jn(_),X;X=yield Pe(U.next()),S=X.done,!S;R=!0){k=X.value,R=!1;const j=k,oe=Qh(yield Pe(j.json()));oe.sdkHttpResponse={headers:j.headers};const ae=new Al;Object.assign(ae,oe),yield yield Pe(ae)}}catch(j){C={error:j}}finally{try{!R&&!S&&(D=U.return)&&(yield Pe(D.call(U)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var o,l,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const v=Wb(this.apiClient,t);return g=de("{model}:predict",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>{const _=t1(x),S=new kh;return Object.assign(S,_),S})}else{const v=Zb(this.apiClient,t);return g=de("{model}:batchEmbedContents",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>{const _=e1(x),S=new kh;return Object.assign(S,_),S})}}async generateImagesInternal(t){var o,l,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const v=f1(this.apiClient,t);return g=de("{model}:predict",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>{const _=m1(x),S=new Dh;return Object.assign(S,_),S})}else{const v=d1(this.apiClient,t);return g=de("{model}:predict",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>{const _=p1(x),S=new Dh;return Object.assign(S,_),S})}}async editImageInternal(t){var o,l;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=Kb(this.apiClient,t);return d=de("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const v=Xb(y),x=new ix;return Object.assign(x,v),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,l;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=fS(this.apiClient,t);return d=de("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const v=pS(y),x=new ox;return Object.assign(x,v),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,l;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=J1(this.apiClient,t);return d=de("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>{const v=K1(y),x=new ax;return Object.assign(x,v),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,l;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=eS(this.apiClient,t);return d=de("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>{const v=tS(y),x=new lx;return Object.assign(x,v),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,l,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const v=I1(this.apiClient,t);return g=de("{name}",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),m.then(x=>Mc(x))}else{const v=R1(this.apiClient,t);return g=de("{name}",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>wc(x))}}async listInternal(t){var o,l,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const v=q1(this.apiClient,t);return g=de("{models_url}",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>{const _=B1(x),S=new Uh;return Object.assign(S,_),S})}else{const v=H1(this.apiClient,t);return g=de("{models_url}",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>{const _=V1(x),S=new Uh;return Object.assign(S,_),S})}}async update(t){var o,l,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const v=cS(this.apiClient,t);return g=de("{model}",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),m.then(x=>Mc(x))}else{const v=uS(this.apiClient,t);return g=de("{name}",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>wc(x))}}async delete(t){var o,l,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const v=Ob(this.apiClient,t);return g=de("{name}",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>{const _=Yb(x),S=new Lh;return Object.assign(S,_),S})}else{const v=Fb(this.apiClient,t);return g=de("{name}",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>{const _=jb(x),S=new Lh;return Object.assign(S,_),S})}}async countTokens(t){var o,l,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const v=qb(this.apiClient,t);return g=de("{model}:countTokens",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>{const _=Bb(x),S=new zh;return Object.assign(S,_),S})}else{const v=Hb(this.apiClient,t);return g=de("{model}:countTokens",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>{const _=Vb(x),S=new zh;return Object.assign(S,_),S})}}async computeTokens(t){var o,l;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=kb(this.apiClient,t);return d=de("{model}:computeTokens",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const v=Db(y),x=new sx;return Object.assign(x,v),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,l,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const v=_1(this.apiClient,t);return g=de("{model}:predictLongRunning",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),m.then(x=>{const _=y1(x),S=new Zs;return Object.assign(S,_),S})}else{const v=x1(this.apiClient,t);return g=de("{model}:predictLongRunning",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>{const _=v1(x),S=new Zs;return Object.assign(S,_),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lT extends Ei{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,l=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let d;l&&"httpOptions"in l&&(d=l.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,l=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let d;l&&"httpOptions"in l&&(d=l.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,l,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const v=Qy(t);return g=de("{operationName}",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),m}else{const v=$y(t);return g=de("{operationName}",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m}}async fetchPredictVideosOperationInternal(t){var o,l;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=Fy(t);return d=de("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sT(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function rT(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>vT(d))),c(t,["parts"],r)}const l=u(i,["role"]);return l!=null&&c(t,["role"],l),t}function uT(i,t,o){const l={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const d=u(t,["newSessionExpireTime"]);o!==void 0&&d!=null&&c(o,["newSessionExpireTime"],d);const m=u(t,["uses"]);o!==void 0&&m!=null&&c(o,["uses"],m);const g=u(t,["liveConnectConstraints"]);o!==void 0&&g!=null&&c(o,["bidiGenerateContentSetup"],gT(i,g));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),l}function cT(i,t){const o={},l=u(t,["config"]);return l!=null&&c(o,["config"],uT(i,l,o)),o}function dT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const l=u(i,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function fT(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const l=u(i,["args"]);l!=null&&c(t,["args"],l);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function pT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function mT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function hT(i,t){const o={},l=u(i,["generationConfig"]);t!==void 0&&l!=null&&c(t,["setup","generationConfig"],l);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const m=u(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const v=u(i,["mediaResolution"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","mediaResolution"],v);const x=u(i,["seed"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","seed"],x);const _=u(i,["speechConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","speechConfig"],jc(_));const S=u(i,["thinkingConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","thinkingConfig"],S);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const D=u(i,["systemInstruction"]);t!==void 0&&D!=null&&c(t,["setup","systemInstruction"],rT(tn(D)));const k=u(i,["tools"]);if(t!==void 0&&k!=null){let E=Ma(k);Array.isArray(E)&&(E=E.map(Z=>xT(wa(Z)))),c(t,["setup","tools"],E)}const R=u(i,["sessionResumption"]);t!==void 0&&R!=null&&c(t,["setup","sessionResumption"],yT(R));const U=u(i,["inputAudioTranscription"]);t!==void 0&&U!=null&&c(t,["setup","inputAudioTranscription"],U);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&c(t,["setup","outputAudioTranscription"],X);const j=u(i,["realtimeInputConfig"]);t!==void 0&&j!=null&&c(t,["setup","realtimeInputConfig"],j);const oe=u(i,["contextWindowCompression"]);t!==void 0&&oe!=null&&c(t,["setup","contextWindowCompression"],oe);const ae=u(i,["proactivity"]);if(t!==void 0&&ae!=null&&c(t,["setup","proactivity"],ae),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function gT(i,t){const o={},l=u(t,["model"]);l!=null&&c(o,["setup","model"],et(i,l));const r=u(t,["config"]);return r!=null&&c(o,["config"],hT(r,o)),o}function vT(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const l=u(i,["codeExecutionResult"]);l!=null&&c(t,["codeExecutionResult"],l);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],dT(d));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],fT(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],sT(y));const v=u(i,["text"]);v!=null&&c(t,["text"],v);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const _=u(i,["thoughtSignature"]);_!=null&&c(t,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&c(t,["videoMetadata"],S),t}function yT(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function xT(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(_=>_)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["googleSearchRetrieval"]);l!=null&&c(t,["googleSearchRetrieval"],l);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const m=u(i,["codeExecution"]);if(m!=null&&c(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],pT(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],mT(y));const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _T(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const l=i[o];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const r=Object.keys(l).map(d=>`${o}.${d}`);t.push(...r)}else t.push(o)}return t.join(",")}function bT(i,t){let o=null;const l=i.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const d=l.setup;typeof d=="object"&&d!==null?(i.bidiGenerateContentSetup=d,o=d):delete i.bidiGenerateContentSetup}else l!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const d=_T(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)d?i.fieldMask=d:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(v=>m.includes(v)?`generationConfig.${v}`:v));const y=[];d&&y.push(d),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class ST extends Ei{constructor(t){super(),this.apiClient=t}async create(t){var o,l;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=cT(this.apiClient,t);d=de("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=bT(g,t.config);return r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),r.then(v=>v)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TT(i,t){const o={},l=u(i,["force"]);return t!==void 0&&l!=null&&c(t,["_query","force"],l),o}function ET(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const l=u(i,["config"]);return l!=null&&TT(l,t),t}function CT(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function AT(i,t){const o={},l=u(i,["pageSize"]);t!==void 0&&l!=null&&c(t,["_query","pageSize"],l);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function NT(i){const t={},o=u(i,["parent"]);o!=null&&c(t,["_url","parent"],o);const l=u(i,["config"]);return l!=null&&AT(l,t),t}function wT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const l=u(i,["nextPageToken"]);l!=null&&c(t,["nextPageToken"],l);const r=u(i,["documents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["documents"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MT extends Ei{constructor(t){super(),this.apiClient=t,this.list=async o=>new Do(Ti.PAGED_ITEM_DOCUMENTS,l=>this.listInternal({parent:o.parent,config:l.config}),await this.listInternal(o),o)}async get(t){var o,l;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=CT(t);return d=de("{name}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,l;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=ET(t);r=de("{name}",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(t){var o,l;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=NT(t);return d=de("{parent}/documents",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>{const v=wT(y),x=new rx;return Object.assign(x,v),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RT extends Ei{constructor(t,o=new MT(t)){super(),this.apiClient=t,this.documents=o,this.list=async(l={})=>new Do(Ti.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(l),l)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,l;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=_S(t);return d=de("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var o,l;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=TS(t);return d=de("{name}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,l;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=SS(t);r=de("{name}",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(t){var o,l;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=MS(t);return d=de("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>{const v=RS(y),x=new ux;return Object.assign(x,v),x})}}async uploadToFileSearchStoreInternal(t){var o,l;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=IS(t);return d=de("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>{const v=kS(y),x=new cx;return Object.assign(x,v),x})}}async importFile(t){var o,l;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=AS(t);return d=de("{file_search_store_name}:importFile",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>{const v=CS(y),x=new qc;return Object.assign(x,v),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let j0=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return j0=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),o=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,l=>(+l^o()&15>>+l/4).toString(16))};const IT=()=>j0();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ic(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const kc=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gn extends Error{}class rn extends Gn{constructor(t,o,l,r){super(`${rn.makeMessage(t,o,l)}`),this.status=t,this.headers=r,this.error=o}static makeMessage(t,o,l){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):l;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,o,l,r){if(!t||!r)return new ur({message:l,cause:kc(o)});const d=o;return t===400?new J0(t,d,l,r):t===401?new K0(t,d,l,r):t===403?new X0(t,d,l,r):t===404?new $0(t,d,l,r):t===409?new Q0(t,d,l,r):t===422?new Z0(t,d,l,r):t===429?new W0(t,d,l,r):t>=500?new eg(t,d,l,r):new rn(t,d,l,r)}}class Dc extends rn{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class ur extends rn{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class Y0 extends ur{constructor({message:t}={}){super({message:t??"Request timed out."})}}class J0 extends rn{}class K0 extends rn{}class X0 extends rn{}class $0 extends rn{}class Q0 extends rn{}class Z0 extends rn{}class W0 extends rn{}class eg extends rn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kT=/^[a-z][a-z0-9+.-]*:/i,DT=i=>kT.test(i);let Uc=i=>(Uc=Array.isArray,Uc(i));const UT=Uc;let LT=UT;const o0=LT;function zT(i){if(!i)return!0;for(const t in i)return!1;return!0}function PT(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const GT=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Gn(`${i} must be an integer`);if(t<0)throw new Gn(`${i} must be a positive integer`);return t},HT=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qT=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ba="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VT(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const BT=()=>{var i,t,o,l,r;const d=VT();if(d==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ba,"X-Stainless-OS":l0(Deno.build.os),"X-Stainless-Arch":a0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ba,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(d==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ba,"X-Stainless-OS":l0((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":a0((l=globalThis.process.arch)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const m=FT();return m?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ba,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${m.browser}`,"X-Stainless-Runtime-Version":m.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ba,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function FT(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of i){const l=o.exec(navigator.userAgent);if(l){const r=l[1]||0,d=l[2]||0,m=l[3]||0;return{browser:t,version:`${r}.${d}.${m}`}}}return null}const a0=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",l0=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Vs;const OT=()=>Vs??(Vs=BT());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jT(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function tg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function YT(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return tg({start(){},async pull(o){const{done:l,value:r}=await t.next();l?o.close():o.enqueue(r)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function ng(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function JT(i){var t,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(t=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const l=i.getReader(),r=l.cancel();l.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KT=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ig=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function yc(i,t,o){return ig(),new File(i,t??"unknown_file",o)}function XT(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const $T=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const og=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",QT=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&og(i),ZT=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function WT(i,t,o){if(ig(),i=await i,QT(i))return i instanceof File?i:yc([await i.arrayBuffer()],i.name);if(ZT(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),yc(await Lc(r),t,o)}const l=await Lc(i);if(t||(t=XT(i)),!(o!=null&&o.type)){const r=l.find(d=>typeof d=="object"&&"type"in d&&d.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return yc(l,t,o)}async function Lc(i){var t,o,l,r,d;let m=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)m.push(i);else if(og(i))m.push(i instanceof Blob?i:await i.arrayBuffer());else if($T(i))try{for(var g=!0,y=jn(i),v;v=await y.next(),t=v.done,!t;g=!0){r=v.value,g=!1;const x=r;m.push(...await Lc(x))}}catch(x){o={error:x}}finally{try{!g&&!t&&(l=y.return)&&await l.call(y)}finally{if(o)throw o.error}}else{const x=(d=i==null?void 0:i.constructor)===null||d===void 0?void 0:d.name;throw new Error(`Unexpected data type: ${typeof i}${x?`; constructor: ${x}`:""}${eE(i)}`)}return m}function eE(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ag{constructor(t){this._client=t}}ag._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const s0=Object.freeze(Object.create(null)),tE=(i=lg)=>(function(o,...l){if(o.length===1)return o[0];let r=!1;const d=[],m=o.reduce((x,_,S)=>{var C,D,k;/[?#]/.test(_)&&(r=!0);const R=l[S];let U=(r?encodeURIComponent:i)(""+R);return S!==l.length&&(R==null||typeof R=="object"&&R.toString===((k=Object.getPrototypeOf((D=Object.getPrototypeOf((C=R.hasOwnProperty)!==null&&C!==void 0?C:s0))!==null&&D!==void 0?D:s0))===null||k===void 0?void 0:k.toString))&&(U=R+"",d.push({start:x.length+_.length,length:U.length,error:`Value of type ${Object.prototype.toString.call(R).slice(8,-1)} is not a valid path parameter`})),x+_+(S===l.length?"":U)},""),g=m.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let v;for(;(v=y.exec(g))!==null;)d.push({start:v.index,length:v[0].length,error:`Value "${v[0]}" can't be safely passed as a path parameter`});if(d.sort((x,_)=>x.start-_.start),d.length>0){let x=0;const _=d.reduce((S,C)=>{const D=" ".repeat(C.start-x),k="^".repeat(C.length);return x=C.start+C.length,S+D+k},"");throw new Gn(`Path parameters result in path with invalid segments:
${d.map(S=>S.error).join(`
`)}
${m}
${_}`)}return m}),Bs=tE(lg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sg extends ag{create(t,o){var l;const{api_version:r=this._client.apiVersion}=t,d=er(t,["api_version"]);if("model"in d&&"agent_config"in d)throw new Gn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in d&&"generation_config"in d)throw new Gn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Bs`/${r}/interactions`,Object.assign(Object.assign({body:d},o),{stream:(l=t.stream)!==null&&l!==void 0?l:!1}))}delete(t,o={},l){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(Bs`/${r}/interactions/${t}`,l)}cancel(t,o={},l){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(Bs`/${r}/interactions/${t}/cancel`,l)}get(t,o={},l){var r;const d=o??{},{api_version:m=this._client.apiVersion}=d,g=er(d,["api_version"]);return this._client.get(Bs`/${m}/interactions/${t}`,Object.assign(Object.assign({query:g},l),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}sg._key=Object.freeze(["interactions"]);class rg extends sg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nE(i){let t=0;for(const r of i)t+=r.length;const o=new Uint8Array(t);let l=0;for(const r of i)o.set(r,l),l+=r.length;return o}let Fs;function Jc(i){let t;return(Fs??(t=new globalThis.TextEncoder,Fs=t.encode.bind(t)))(i)}let Os;function r0(i){let t;return(Os??(t=new globalThis.TextDecoder,Os=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cr{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Jc(t):t;this.buffer=nE([this.buffer,o]);const l=[];let r;for(;(r=iE(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){l.push(r0(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const d=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,m=r0(this.buffer.subarray(0,d));l.push(m),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return l}flush(){return this.buffer.length?this.decode(`
`):[]}}cr.NEWLINE_CHARS=new Set([`
`,"\r"]);cr.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function iE(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function oE(i){for(let l=0;l<i.length-1;l++){if(i[l]===10&&i[l+1]===10||i[l]===13&&i[l+1]===13)return l+2;if(i[l]===13&&i[l+1]===10&&l+3<i.length&&i[l+2]===13&&i[l+3]===10)return l+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tr={off:0,error:200,warn:300,info:400,debug:500},u0=(i,t,o)=>{if(i){if(PT(tr,i))return i;sn(o).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(tr))}`)}};function wl(){}function js(i,t,o){return!t||tr[i]>tr[o]?wl:t[i].bind(t)}const aE={error:wl,warn:wl,info:wl,debug:wl};let c0=new WeakMap;function sn(i){var t;const o=i.logger,l=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!o)return aE;const r=c0.get(o);if(r&&r[0]===l)return r[1];const d={error:js("error",o,l),warn:js("warn",o,l),info:js("info",o,l),debug:js("debug",o,l)};return c0.set(o,[l,d]),d}const ko=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ta{constructor(t,o,l){this.iterator=t,this.controller=o,this.client=l}static fromSSEResponse(t,o,l){let r=!1;const d=l?sn(l):console;function m(){return On(this,arguments,function*(){var y,v,x,_;if(r)throw new Gn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var C=!0,D=jn(lE(t,o)),k;k=yield Pe(D.next()),y=k.done,!y;C=!0){_=k.value,C=!1;const R=_;if(!S)if(R.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield Pe(JSON.parse(R.data))}catch(U){throw d.error("Could not parse message into JSON:",R.data),d.error("From chunk:",R.raw),U}}}catch(R){v={error:R}}finally{try{!C&&!y&&(x=D.return)&&(yield Pe(x.call(D)))}finally{if(v)throw v.error}}S=!0}catch(R){if(Ic(R))return yield Pe(void 0);throw R}finally{S||o.abort()}})}return new Ta(m,o,l)}static fromReadableStream(t,o,l){let r=!1;function d(){return On(this,arguments,function*(){var y,v,x,_;const S=new cr,C=ng(t);try{for(var D=!0,k=jn(C),R;R=yield Pe(k.next()),y=R.done,!y;D=!0){_=R.value,D=!1;const U=_;for(const X of S.decode(U))yield yield Pe(X)}}catch(U){v={error:U}}finally{try{!D&&!y&&(x=k.return)&&(yield Pe(x.call(k)))}finally{if(v)throw v.error}}for(const U of S.flush())yield yield Pe(U)})}function m(){return On(this,arguments,function*(){var y,v,x,_;if(r)throw new Gn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var C=!0,D=jn(d()),k;k=yield Pe(D.next()),y=k.done,!y;C=!0){_=k.value,C=!1;const R=_;S||R&&(yield yield Pe(JSON.parse(R)))}}catch(R){v={error:R}}finally{try{!C&&!y&&(x=D.return)&&(yield Pe(x.call(D)))}finally{if(v)throw v.error}}S=!0}catch(R){if(Ic(R))return yield Pe(void 0);throw R}finally{S||o.abort()}})}return new Ta(m,o,l)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],l=this.iterator(),r=d=>({next:()=>{if(d.length===0){const m=l.next();t.push(m),o.push(m)}return d.shift()}});return[new Ta(()=>r(t),this.controller,this.client),new Ta(()=>r(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return tg({async start(){o=t[Symbol.asyncIterator]()},async pull(l){try{const{value:r,done:d}=await o.next();if(d)return l.close();const m=Jc(JSON.stringify(r)+`
`);l.enqueue(m)}catch(r){l.error(r)}},async cancel(){var l;await((l=o.return)===null||l===void 0?void 0:l.call(o))}})}}function lE(i,t){return On(this,arguments,function*(){var l,r,d,m;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Gn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Gn("Attempted to iterate over a response with no body");const g=new rE,y=new cr,v=ng(i.body);try{for(var x=!0,_=jn(sE(v)),S;S=yield Pe(_.next()),l=S.done,!l;x=!0){m=S.value,x=!1;const C=m;for(const D of y.decode(C)){const k=g.decode(D);k&&(yield yield Pe(k))}}}catch(C){r={error:C}}finally{try{!x&&!l&&(d=_.return)&&(yield Pe(d.call(_)))}finally{if(r)throw r.error}}for(const C of y.flush()){const D=g.decode(C);D&&(yield yield Pe(D))}})}function sE(i){return On(this,arguments,function*(){var o,l,r,d;let m=new Uint8Array;try{for(var g=!0,y=jn(i),v;v=yield Pe(y.next()),o=v.done,!o;g=!0){d=v.value,g=!1;const x=d;if(x==null)continue;const _=x instanceof ArrayBuffer?new Uint8Array(x):typeof x=="string"?Jc(x):x;let S=new Uint8Array(m.length+_.length);S.set(m),S.set(_,m.length),m=S;let C;for(;(C=oE(m))!==-1;)yield yield Pe(m.slice(0,C)),m=m.slice(C)}}catch(x){l={error:x}}finally{try{!g&&!o&&(r=y.return)&&(yield Pe(r.call(y)))}finally{if(l)throw l.error}}m.length>0&&(yield yield Pe(m))})}class rE{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const d={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],d}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,l,r]=uE(t,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function uE(i,t){const o=i.indexOf(t);return o!==-1?[i.substring(0,o),t,i.substring(o+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function cE(i,t){const{response:o,requestLogID:l,retryOfRequestLogID:r,startTime:d}=t,m=await(async()=>{var g;if(t.options.stream)return sn(i).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,i):Ta.fromSSEResponse(o,t.controller,i);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),v=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(v==null?void 0:v.includes("application/json"))||(v==null?void 0:v.endsWith("+json"))?await o.json():await o.text()})();return sn(i).debug(`[${l}] response parsed`,ko({retryOfRequestLogID:r,url:o.url,status:o.status,body:m,durationMs:Date.now()-d})),m}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kc extends Promise{constructor(t,o,l=cE){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=l,this.client=t}_thenUnwrap(t){return new Kc(this.client,this.responsePromise,async(o,l)=>t(await this.parseResponse(o,l),l))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ug=Symbol("brand.privateNullableHeaders");function*dE(i){if(!i)return;if(ug in i){const{values:l,nulls:r}=i;yield*l.entries();for(const d of r)yield[d,null];return}let t=!1,o;i instanceof Headers?o=i.entries():o0(i)?o=i:(t=!0,o=Object.entries(i??{}));for(let l of o){const r=l[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const d=o0(l[1])?l[1]:[l[1]];let m=!1;for(const g of d)g!==void 0&&(t&&!m&&(m=!0,yield[r,null]),yield[r,g])}}const Nl=i=>{const t=new Headers,o=new Set;for(const l of i){const r=new Set;for(const[d,m]of dE(l)){const g=d.toLowerCase();r.has(g)||(t.delete(d),r.add(g)),m===null?(t.delete(d),o.add(g)):(t.append(d,m),o.delete(g))}}return{[ug]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xc=i=>{var t,o,l,r,d,m;if(typeof globalThis.process<"u")return(l=(o=(t=Py)===null||t===void 0?void 0:t[i])===null||o===void 0?void 0:o.trim())!==null&&l!==void 0?l:void 0;if(typeof globalThis.Deno<"u")return(m=(d=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||d===void 0?void 0:d.call(r,i))===null||m===void 0?void 0:m.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var cg;class dr{constructor(t){var o,l,r,d,m,g,y,{baseURL:v=xc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:x=(o=xc("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:_="v1beta"}=t,S=er(t,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:x,apiVersion:_},S),{baseURL:v||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(l=C.timeout)!==null&&l!==void 0?l:dr.DEFAULT_TIMEOUT,this.logger=(r=C.logger)!==null&&r!==void 0?r:console;const D="warn";this.logLevel=D,this.logLevel=(m=(d=u0(C.logLevel,"ClientOptions.logLevel",this))!==null&&d!==void 0?d:u0(xc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&m!==void 0?m:D,this.fetchOptions=C.fetchOptions,this.maxRetries=(g=C.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=C.fetch)!==null&&y!==void 0?y:jT(),this.encoder=KT,this._options=C,this.apiKey=x,this.apiVersion=_,this.clientAdapter=C.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const o=Nl([t.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return Nl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Nl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([o,l])=>typeof l<"u").map(([o,l])=>{if(typeof l=="string"||typeof l=="number"||typeof l=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(l)}`;if(l===null)return`${encodeURIComponent(o)}=`;throw new Gn(`Cannot stringify type ${typeof l}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ba}`}defaultIdempotencyKey(){return`stainless-node-retry-${IT()}`}makeStatusError(t,o,l,r){return rn.generate(t,o,l,r)}buildURL(t,o,l){const r=!this.baseURLOverridden()&&l||this.baseURL,d=DT(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),m=this.defaultQuery();return zT(m)||(o=Object.assign(Object.assign({},m),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(d.search=this.stringifyQuery(o)),d.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const o=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(t,{url:o,options:l}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,l){return this.request(Promise.resolve(l).then(r=>Object.assign({method:t,path:o},r)))}request(t,o=null){return new Kc(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,l){var r,d,m;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=y),await this.prepareOptions(g);const{req:v,url:x,timeout:_}=await this.buildRequest(g,{retryCount:y-o});await this.prepareRequest(v,{url:x,options:g});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=l===void 0?"":`, retryOf: ${l}`,D=Date.now();if(sn(this).debug(`[${S}] sending request`,ko({retryOfRequestLogID:l,method:g.method,url:x,options:g,headers:v.headers})),!((d=g.signal)===null||d===void 0)&&d.aborted)throw new Dc;const k=new AbortController,R=await this.fetchWithTimeout(x,v,_,k).catch(kc),U=Date.now();if(R instanceof globalThis.Error){const j=`retrying, ${o} attempts remaining`;if(!((m=g.signal)===null||m===void 0)&&m.aborted)throw new Dc;const oe=Ic(R)||/timed? ?out/i.test(String(R)+("cause"in R?String(R.cause):""));if(o)return sn(this).info(`[${S}] connection ${oe?"timed out":"failed"} - ${j}`),sn(this).debug(`[${S}] connection ${oe?"timed out":"failed"} (${j})`,ko({retryOfRequestLogID:l,url:x,durationMs:U-D,message:R.message})),this.retryRequest(g,o,l??S);throw sn(this).info(`[${S}] connection ${oe?"timed out":"failed"} - error; no more retries left`),sn(this).debug(`[${S}] connection ${oe?"timed out":"failed"} (error; no more retries left)`,ko({retryOfRequestLogID:l,url:x,durationMs:U-D,message:R.message})),oe?new Y0:new ur({cause:R})}const X=`[${S}${C}] ${v.method} ${x} ${R.ok?"succeeded":"failed"} with status ${R.status} in ${U-D}ms`;if(!R.ok){const j=await this.shouldRetry(R);if(o&&j){const le=`retrying, ${o} attempts remaining`;return await JT(R.body),sn(this).info(`${X} - ${le}`),sn(this).debug(`[${S}] response error (${le})`,ko({retryOfRequestLogID:l,url:R.url,status:R.status,headers:R.headers,durationMs:U-D})),this.retryRequest(g,o,l??S,R.headers)}const oe=j?"error; no more retries left":"error; not retryable";sn(this).info(`${X} - ${oe}`);const ae=await R.text().catch(le=>kc(le).message),E=HT(ae),Z=E?void 0:ae;throw sn(this).debug(`[${S}] response error (${oe})`,ko({retryOfRequestLogID:l,url:R.url,status:R.status,headers:R.headers,message:Z,durationMs:Date.now()-D})),this.makeStatusError(R.status,E,Z,R.headers)}return sn(this).info(X),sn(this).debug(`[${S}] response start`,ko({retryOfRequestLogID:l,url:R.url,status:R.status,headers:R.headers,durationMs:U-D})),{response:R,options:g,controller:k,requestLogID:S,retryOfRequestLogID:l,startTime:D}}async fetchWithTimeout(t,o,l,r){const d=o||{},{signal:m,method:g}=d,y=er(d,["signal","method"]);m&&m.addEventListener("abort",()=>r.abort());const v=setTimeout(()=>r.abort(),l),x=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,_=Object.assign(Object.assign(Object.assign({signal:r.signal},x?{duplex:"half"}:{}),{method:"GET"}),y);g&&(_.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,_)}finally{clearTimeout(v)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,l,r){var d;let m;const g=r==null?void 0:r.get("retry-after-ms");if(g){const v=parseFloat(g);Number.isNaN(v)||(m=v)}const y=r==null?void 0:r.get("retry-after");if(y&&!m){const v=parseFloat(y);Number.isNaN(v)?m=Date.parse(y)-Date.now():m=v*1e3}if(!(m&&0<=m&&m<60*1e3)){const v=(d=t.maxRetries)!==null&&d!==void 0?d:this.maxRetries;m=this.calculateDefaultRetryTimeoutMillis(o,v)}return await qT(m),this.makeRequest(t,o-1,l)}calculateDefaultRetryTimeoutMillis(t,o){const d=o-t,m=Math.min(.5*Math.pow(2,d),8),g=1-Math.random()*.25;return m*g*1e3}async buildRequest(t,{retryCount:o=0}={}){var l,r,d;const m=Object.assign({},t),{method:g,path:y,query:v,defaultBaseURL:x}=m,_=this.buildURL(y,v,x);"timeout"in m&&GT("timeout",m.timeout),m.timeout=(l=m.timeout)!==null&&l!==void 0?l:this.timeout;const{bodyHeaders:S,body:C}=this.buildBody({options:m}),D=await this.buildHeaders({options:t,method:g,bodyHeaders:S,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:D},m.signal&&{signal:m.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(d=m.fetchOptions)!==null&&d!==void 0?d:{}),url:_,timeout:m.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:l,retryCount:r}){let d={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),d[this.idempotencyHeader]=t.idempotencyKey);const m=await this.authHeaders(t);let g=Nl([d,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),OT()),this._options.defaultHeaders,l,t.headers,m]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const l=Nl([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&l.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:YT(t)}:this.encoder({body:t,headers:l})}}dr.DEFAULT_TIMEOUT=6e4;class Ot extends dr{constructor(){super(...arguments),this.interactions=new rg(this)}}cg=Ot;Ot.GeminiNextGenAPIClient=cg;Ot.GeminiNextGenAPIClientError=Gn;Ot.APIError=rn;Ot.APIConnectionError=ur;Ot.APIConnectionTimeoutError=Y0;Ot.APIUserAbortError=Dc;Ot.NotFoundError=$0;Ot.ConflictError=Q0;Ot.RateLimitError=W0;Ot.BadRequestError=J0;Ot.AuthenticationError=K0;Ot.InternalServerError=eg;Ot.PermissionDeniedError=X0;Ot.UnprocessableEntityError=Z0;Ot.toFile=WT;Ot.Interactions=rg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fE(i,t){const o={},l=u(i,["name"]);return l!=null&&c(o,["_url","name"],l),o}function pE(i,t){const o={},l=u(i,["name"]);return l!=null&&c(o,["_url","name"],l),o}function mE(i,t){const o={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(o,["sdkHttpResponse"],l),o}function hE(i,t){const o={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(o,["sdkHttpResponse"],l),o}function gE(i,t,o){const l={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=u(i,["epochCount"]);t!==void 0&&d!=null&&c(t,["tuningTask","hyperparameters","epochCount"],d);const m=u(i,["learningRateMultiplier"]);if(m!=null&&c(l,["tuningTask","hyperparameters","learningRateMultiplier"],m),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return l}function vE(i,t,o){const l={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec"],d0(C))}else if(r==="PREFERENCE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec"],d0(C))}const d=u(i,["tunedModelDisplayName"]);t!==void 0&&d!=null&&c(t,["tunedModelDisplayName"],d);const m=u(i,["description"]);t!==void 0&&m!=null&&c(t,["description"],m);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(g==="PREFERENCE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(y==="PREFERENCE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(v==="PREFERENCE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let x=u(o,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(x==="PREFERENCE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=u(i,["labels"]);t!==void 0&&_!=null&&c(t,["labels"],_);const S=u(i,["beta"]);return t!==void 0&&S!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],S),l}function yE(i,t){const o={},l=u(i,["baseModel"]);l!=null&&c(o,["baseModel"],l);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&ME(d);const m=u(i,["config"]);return m!=null&&gE(m,o),o}function xE(i,t){const o={},l=u(i,["baseModel"]);l!=null&&c(o,["baseModel"],l);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&RE(d,o,t);const m=u(i,["config"]);return m!=null&&vE(m,o,t),o}function _E(i,t){const o={},l=u(i,["name"]);return l!=null&&c(o,["_url","name"],l),o}function bE(i,t){const o={},l=u(i,["name"]);return l!=null&&c(o,["_url","name"],l),o}function SE(i,t,o){const l={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const m=u(i,["filter"]);return t!==void 0&&m!=null&&c(t,["_query","filter"],m),l}function TE(i,t,o){const l={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const m=u(i,["filter"]);return t!==void 0&&m!=null&&c(t,["_query","filter"],m),l}function EE(i,t){const o={},l=u(i,["config"]);return l!=null&&SE(l,o),o}function CE(i,t){const o={},l=u(i,["config"]);return l!=null&&TE(l,o),o}function AE(i,t){const o={},l=u(i,["sdkHttpResponse"]);l!=null&&c(o,["sdkHttpResponse"],l);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const d=u(i,["tunedModels"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>dg(g))),c(o,["tuningJobs"],m)}return o}function NE(i,t){const o={},l=u(i,["sdkHttpResponse"]);l!=null&&c(o,["sdkHttpResponse"],l);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const d=u(i,["tuningJobs"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>zc(g))),c(o,["tuningJobs"],m)}return o}function wE(i,t){const o={},l=u(i,["name"]);l!=null&&c(o,["model"],l);const r=u(i,["name"]);return r!=null&&c(o,["endpoint"],r),o}function ME(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=u(i,["examples"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>d)),c(o,["examples","examples"],r)}return o}function RE(i,t,o){const l={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const m=u(i,["gcsUri"]);t!==void 0&&m!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(r==="PREFERENCE_TUNING"){const m=u(i,["gcsUri"]);t!==void 0&&m!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}let d=u(o,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const m=u(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(d==="PREFERENCE_TUNING"){const m=u(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function dg(i,t){const o={},l=u(i,["sdkHttpResponse"]);l!=null&&c(o,["sdkHttpResponse"],l);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const d=u(i,["state"]);d!=null&&c(o,["state"],N0(d));const m=u(i,["createTime"]);m!=null&&c(o,["createTime"],m);const g=u(i,["tuningTask","startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const v=u(i,["updateTime"]);v!=null&&c(o,["updateTime"],v);const x=u(i,["description"]);x!=null&&c(o,["description"],x);const _=u(i,["baseModel"]);_!=null&&c(o,["baseModel"],_);const S=u(i,["_self"]);return S!=null&&c(o,["tunedModel"],wE(S)),o}function zc(i,t){const o={},l=u(i,["sdkHttpResponse"]);l!=null&&c(o,["sdkHttpResponse"],l);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const d=u(i,["state"]);d!=null&&c(o,["state"],N0(d));const m=u(i,["createTime"]);m!=null&&c(o,["createTime"],m);const g=u(i,["startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(o,["endTime"],y);const v=u(i,["updateTime"]);v!=null&&c(o,["updateTime"],v);const x=u(i,["error"]);x!=null&&c(o,["error"],x);const _=u(i,["description"]);_!=null&&c(o,["description"],_);const S=u(i,["baseModel"]);S!=null&&c(o,["baseModel"],S);const C=u(i,["tunedModel"]);C!=null&&c(o,["tunedModel"],C);const D=u(i,["preTunedModel"]);D!=null&&c(o,["preTunedModel"],D);const k=u(i,["supervisedTuningSpec"]);k!=null&&c(o,["supervisedTuningSpec"],k);const R=u(i,["preferenceOptimizationSpec"]);R!=null&&c(o,["preferenceOptimizationSpec"],R);const U=u(i,["tuningDataStats"]);U!=null&&c(o,["tuningDataStats"],U);const X=u(i,["encryptionSpec"]);X!=null&&c(o,["encryptionSpec"],X);const j=u(i,["partnerModelTuningSpec"]);j!=null&&c(o,["partnerModelTuningSpec"],j);const oe=u(i,["customBaseModel"]);oe!=null&&c(o,["customBaseModel"],oe);const ae=u(i,["experiment"]);ae!=null&&c(o,["experiment"],ae);const E=u(i,["labels"]);E!=null&&c(o,["labels"],E);const Z=u(i,["outputUri"]);Z!=null&&c(o,["outputUri"],Z);const _e=u(i,["pipelineJob"]);_e!=null&&c(o,["pipelineJob"],_e);const le=u(i,["serviceAccount"]);le!=null&&c(o,["serviceAccount"],le);const xe=u(i,["tunedModelDisplayName"]);xe!=null&&c(o,["tunedModelDisplayName"],xe);const Q=u(i,["veoTuningSpec"]);return Q!=null&&c(o,["veoTuningSpec"],Q),o}function IE(i,t){const o={},l=u(i,["sdkHttpResponse"]);l!=null&&c(o,["sdkHttpResponse"],l);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const d=u(i,["metadata"]);d!=null&&c(o,["metadata"],d);const m=u(i,["done"]);m!=null&&c(o,["done"],m);const g=u(i,["error"]);return g!=null&&c(o,["error"],g),o}function d0(i,t){const o={},l=u(i,["gcsUri"]);l!=null&&c(o,["validationDatasetUri"],l);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kE extends Ei{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Do(Ti.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var l;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((l=o.config)===null||l===void 0)&&l.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},o),{preTunedModel:r});return d.baseModel=void 0,await this.tuneInternal(d)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),d=await this.tuneMldevInternal(r);let m="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?m=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(m=d.name.split("/operations/")[0]),{name:m,state:Ec.JOB_STATE_QUEUED}}}}async getInternal(t){var o,l,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const v=bE(t);return g=de("{name}",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>zc(x))}else{const v=_E(t);return g=de("{name}",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>dg(x))}}async listInternal(t){var o,l,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const v=CE(t);return g=de("tuningJobs",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>{const _=NE(x),S=new Ph;return Object.assign(S,_),S})}else{const v=EE(t);return g=de("tunedModels",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>{const _=AE(x),S=new Ph;return Object.assign(S,_),S})}}async cancel(t){var o,l,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const v=pE(t);return g=de("{name}:cancel",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>{const _=hE(x),S=new Gh;return Object.assign(S,_),S})}else{const v=fE(t);return g=de("{name}:cancel",v._url),y=v._query,delete v._url,delete v._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:x.headers},S})),m.then(x=>{const _=mE(x),S=new Gh;return Object.assign(S,_),S})}}async tuneInternal(t){var o,l;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=xE(t,t);return d=de("tuningJobs",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>zc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,l;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=yE(t);return d=de("tunedModels",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>IE(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DE{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const UE=1024*1024*8,LE=3,zE=1e3,PE=2,nr="x-goog-upload-status";async function GE(i,t,o){var l;const r=await fg(i,t,o),d=await(r==null?void 0:r.json());if(((l=r==null?void 0:r.headers)===null||l===void 0?void 0:l[nr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function HE(i,t,o){var l;const r=await fg(i,t,o),d=await(r==null?void 0:r.json());if(((l=r==null?void 0:r.headers)===null||l===void 0?void 0:l[nr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const m=b0(d),g=new Vc;return Object.assign(g,m),g}async function fg(i,t,o){var l,r;let d=0,m=0,g=new Cc(new Response),y="upload";for(d=i.size;m<d;){const v=Math.min(UE,d-m),x=i.slice(m,m+v);m+v>=d&&(y+=", finalize");let _=0,S=zE;for(;_<LE&&(g=await o.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(m),"Content-Length":String(v)}}}),!(!((l=g==null?void 0:g.headers)===null||l===void 0)&&l[nr]));)_++,await VE(S),S=S*PE;if(m+=v,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[nr])!=="active")break;if(d<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function qE(i){return{size:i.size,type:i.type}}function VE(i){return new Promise(t=>setTimeout(t,i))}class BE{async upload(t,o,l){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await GE(t,o,l)}async uploadToFileSearchStore(t,o,l){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await HE(t,o,l)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await qE(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FE{create(t,o,l){return new OE(t,o,l)}}class OE{constructor(t,o,l){this.url=t,this.headers=o,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const f0="x-goog-api-key";class jE{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(f0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(f0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YE="gl-node/";class JE{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new Ot({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=o.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const l=Vy(t.httpOptions,t.vertexai,void 0,void 0);l&&(t.httpOptions?t.httpOptions.baseUrl=l:t.httpOptions={baseUrl:l}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new jE(this.apiKey);this.apiClient=new qS({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:YE+"web",uploader:new BE,downloader:new DE}),this.models=new aT(this.apiClient),this.live=new WS(this.apiClient,r,new FE),this.batches=new g_(this.apiClient),this.chats=new Q_(this.models,this.apiClient),this.caches=new K_(this.apiClient),this.files=new sb(this.apiClient),this.operations=new lT(this.apiClient),this.authTokens=new ST(this.apiClient),this.tunings=new kE(this.apiClient),this.fileSearchStores=new RT(this.apiClient)}}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XE=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,o,l)=>l?l.toUpperCase():o.toLowerCase()),p0=i=>{const t=XE(i);return t.charAt(0).toUpperCase()+t.slice(1)},pg=(...i)=>i.filter((t,o,l)=>!!t&&t.trim()!==""&&l.indexOf(t)===o).join(" ").trim(),$E=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=F.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:r="",children:d,iconNode:m,...g},y)=>F.createElement("svg",{ref:y,...QE,width:t,height:t,stroke:i,strokeWidth:l?Number(o)*24/Number(t):o,className:pg("lucide",r),...!d&&!$E(g)&&{"aria-hidden":"true"},...g},[...m.map(([v,x])=>F.createElement(v,x)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(i,t)=>{const o=F.forwardRef(({className:l,...r},d)=>F.createElement(ZE,{ref:d,iconNode:t,className:pg(`lucide-${KE(p0(i))}`,`lucide-${i}`,l),...r}));return o.displayName=p0(i),o};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ti=Ie("activity",WE);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]],Pc=Ie("audio-lines",e2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["rect",{x:"14",y:"14",width:"4",height:"6",rx:"2",key:"p02svl"}],["rect",{x:"6",y:"4",width:"4",height:"6",rx:"2",key:"xm4xkj"}],["path",{d:"M6 20h4",key:"1i6q5t"}],["path",{d:"M14 10h4",key:"ru81e7"}],["path",{d:"M6 14h2v6",key:"16z9wg"}],["path",{d:"M14 4h2v6",key:"1idq9u"}]],n2=Ie("binary",t2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["circle",{cx:"9",cy:"9",r:"7",key:"p2h5vp"}],["circle",{cx:"15",cy:"15",r:"7",key:"19ennj"}]],mg=Ie("blend",i2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_c=Ie("chevron-right",o2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],hg=Ie("circle-alert",a2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],s2=Ie("circle-question-mark",l2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],m0=Ie("code",r2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],_a=Ie("copy",u2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],d2=Ie("cpu",c2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],At=Ie("diamond",f2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ml=Ie("download",p2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],gg=Ie("folder-open",m2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],vg=Ie("gauge",h2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],v2=Ie("grip-horizontal",g2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],x2=Ie("image",y2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],b2=Ie("keyboard",_2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Aa=Ie("layers",S2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"m12 15 4 4",key:"lnac28"}],["path",{d:"M2.352 10.648a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l6.029-6.029a1 1 0 1 1 3 3l-6.029 6.029a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l6.365-6.367A1 1 0 0 0 8.716 4.282z",key:"nlhkjb"}],["path",{d:"m5 8 4 4",key:"j6kj7e"}]],E2=Ie("magnet",T2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],A2=Ie("mail",C2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],yg=Ie("maximize-2",N2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],M2=Ie("mic",w2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],I2=Ie("minimize-2",R2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],xg=Ie("monitor",k2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],U2=Ie("moon",D2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],h0=Ie("music",L2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],g0=Ie("palette",z2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],v0=Ie("plus",P2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Xs=Ie("radio",G2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ir=Ie("refresh-cw",H2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],bc=Ie("rotate-ccw",q2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],y0=Ie("save",V2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],F2=Ie("search",B2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Sc=Ie("send",O2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Y2=Ie("settings",j2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],K2=Ie("shield-check",J2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],$2=Ie("sliders-vertical",X2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],_g=Ie("sparkles",Q2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],W2=Ie("square",Z2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],tC=Ie("target",eC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],iC=Ie("terminal",nC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],aC=Ie("timer",oC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Na=Ie("trash-2",lC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ys=Ie("triangle-alert",sC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],or=Ie("upload",rC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Si=Ie("video",uC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],dC=Ie("waves",cC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ni=Ie("x",fC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],mC=Ie("zap",pC),hC=[{id:"s-galaxy",name:"Neural Galaxy",color:"#ffdc5e",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float t = u_time * u_speed * 0.5; vec3 col = vec3(0.0); for(float i=0.0; i<3.0; i++) { uv = abs(uv) * 1.4 - 1.0; float a = t + u_audio_val * 0.5; uv *= mat2(cos(a), -sin(a), sin(a), cos(a)); col += 0.005 / abs(length(uv) - 0.5) * (u_color + vec3(0.1, 0.4, 0.8)); } gl_FragColor = vec4(col * u_intensity, 1.0); }"},{id:"s-grid",name:"Cyber Grid",color:"#3b82f6",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float t = u_time * u_speed; float grid = abs(sin(uv.x * 10.0 + u_audio_val)) * abs(cos(uv.y * 10.0 + t)); vec3 col = u_color * smoothstep(0.4, 0.5, grid); gl_FragColor = vec4(col * u_intensity, 1.0); }"},{id:"s-liquid",name:"Liquid Neon",color:"#ec4899",code:"void main() { vec2 uv = gl_FragCoord.xy / u_resolution.xy; float t = u_time * u_speed; float n = sin(uv.x * 5.0 + t) + sin(uv.y * 5.0 + t + u_audio_val); vec3 col = mix(u_color, vec3(0.0, 1.0, 1.0), n); gl_FragColor = vec4(col * u_intensity, 1.0); }"},{id:"s-tunnel",name:"Infinite Tunnel",color:"#f59e0b",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float r = length(uv); float a = atan(uv.y, uv.x); float t = u_time * u_speed; float s = sin(10.0/r + t + u_audio_val * 5.0); vec3 col = u_color * smoothstep(0.1, 0.2, s); gl_FragColor = vec4(col * u_intensity / r, 1.0); }"},{id:"s-lava",name:"Molten Core",color:"#ef4444",code:"void main() { vec2 uv = gl_FragCoord.xy / u_resolution.xy; float t = u_time * u_speed; vec3 col = vec3(0.0); float d = sin(uv.x * 10.0 + t) * cos(uv.y * 10.0 - t) + u_audio_val; col = mix(vec3(0.2, 0.0, 0.0), vec3(1.0, 0.3, 0.0), d); gl_FragColor = vec4(col * u_intensity, 1.0); }"},{id:"s-nebula",name:"Deep Nebula",color:"#8b5cf6",code:"void main() { vec2 uv = gl_FragCoord.xy / u_resolution.xy; float t = u_time * u_speed * 0.1; float n = sin(uv.x * 4.0 + t) * sin(uv.y * 4.0 - t) + u_audio_val * 0.5; vec3 col = mix(vec3(0.1, 0.0, 0.2), u_color, n); gl_FragColor = vec4(col * u_intensity, 1.0); }"},{id:"s-matrix",name:"Logic Rain",color:"#22c55e",code:"void main() { vec2 uv = gl_FragCoord.xy / u_resolution.xy; float drop = step(0.95, fract(uv.x * 50.0 + sin(floor(uv.x*50.0)))) * fract(uv.y + u_time * u_speed + u_audio_val); gl_FragColor = vec4(u_color * drop * u_intensity, 1.0); }"},{id:"s-void",name:"The Void",color:"#ffffff",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float d = length(uv); float s = sin(10.0 * d - u_time * u_speed) + u_audio_val; gl_FragColor = vec4(u_color * smoothstep(0.4, 0.5, s) * u_intensity, 1.0); }"},{id:"s-web",name:"Neural Web",color:"#06b6d4",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float a = atan(uv.y, uv.x); float r = length(uv); float line = abs(sin(a * 10.0 + u_time)) * abs(sin(r * 20.0 - u_time)) + u_audio_val; gl_FragColor = vec4(u_color * step(0.8, line) * u_intensity, 1.0); }"},{id:"s-plasma",name:"Bio Plasma",color:"#ef4444",code:"void main() { vec2 uv = gl_FragCoord.xy / u_resolution.xy; float t = u_time * u_speed; float d = distance(uv, vec2(0.5)) + u_audio_val * 0.2; float n = sin(uv.x * 10.0 + t) * cos(uv.y * 10.0 - t); vec3 col = u_color * (1.0 - d) + n; gl_FragColor = vec4(col * u_intensity, 1.0); }"},{id:"s-prism",name:"Prism Rings",color:"#10b981",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float r = length(uv); float t = u_time * u_speed; float ring = abs(sin(r * 20.0 - t * 5.0 + u_audio_val * 10.0)); vec3 col = u_color / (ring * 50.0); gl_FragColor = vec4(col * u_intensity, 1.0); }"},{id:"s-flare",name:"Solar Flare",color:"#f97316",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float r = length(uv); float beam = abs(sin(atan(uv.y, uv.x) * 10.0 + u_time * u_speed)); vec3 col = u_color * beam * (1.0-r) * (1.0 + u_audio_val * 2.0); gl_FragColor = vec4(col * u_intensity, 1.0); }"},{id:"s-hyperspace",name:"Hyperspace",color:"#3b82f6",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float a = atan(uv.y, uv.x); float r = length(uv); float star = pow(abs(sin(a * 50.0 + u_time * 10.0)), 20.0) / r + u_audio_val; gl_FragColor = vec4(u_color * star * u_intensity, 1.0); }"},{id:"s-waves",name:"Acid Waves",color:"#ec4899",code:"void main() { vec2 uv = gl_FragCoord.xy / u_resolution.xy; float w = sin(uv.x * 20.0 + u_time * u_speed) * cos(uv.y * 20.0 + u_time) + u_audio_val; gl_FragColor = vec4(u_color * w * u_intensity, 1.0); }"},{id:"s-kaleido",name:"Kaleido Pulse",color:"#ffdc5e",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float a = mod(atan(uv.y, uv.x), 3.1415/3.0); float r = length(uv); vec2 p = vec2(cos(a), sin(a)) * r; float d = sin(p.x * 10.0 + u_time) + u_audio_val; gl_FragColor = vec4(u_color * d * u_intensity, 1.0); }"},{id:"s-neonweb",name:"Neon Web",color:"#10b981",code:"void main() { vec2 uv = gl_FragCoord.xy / u_resolution.xy; float line = abs(sin(uv.x * 30.0 + u_time)) * abs(cos(uv.y * 30.0 - u_time)) + u_audio_val; gl_FragColor = vec4(u_color * step(0.7, line) * u_intensity, 1.0); }"},{id:"s-pixel",name:"Pixel Glitch",color:"#f43f5e",code:"void main() { vec2 uv = floor(gl_FragCoord.xy / 20.0) * 20.0 / u_resolution.xy; float n = fract(sin(dot(uv, vec2(12.9898, 78.233))) * 43758.5453) + u_audio_val; gl_FragColor = vec4(u_color * n * u_intensity, 1.0); }"},{id:"s-bloom",name:"Fractal Bloom",color:"#fb7185",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float r = length(uv); float a = atan(uv.y, uv.x); float f = abs(cos(a*3.0 + u_time*u_speed)) * 0.5 + 0.5; vec3 col = u_color * smoothstep(f, f+0.02, r + u_audio_val*0.2); gl_FragColor = vec4(col * u_intensity, 1.0); }"},{id:"s-starfield",name:"Star Field",color:"#ffffff",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float star = pow(abs(sin(uv.x*100.0)*cos(uv.y*100.0)), 20.0); vec3 col = u_color * star * (1.0 + u_audio_val * 20.0); gl_FragColor = vec4(col * u_intensity, 1.0); }"},{id:"s-geo",name:"Geo Storm",color:"#06b6d4",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float d = max(abs(uv.x), abs(uv.y)); float shape = step(0.3 + u_audio_val * 0.2, d) * step(d, 0.4 + u_audio_val * 0.2); vec3 col = u_color * shape; gl_FragColor = vec4(col * u_intensity, 1.0); }"},{id:"s-flow",name:"Chromatic Flow",color:"#8b5cf6",code:"void main() { vec2 uv = gl_FragCoord.xy / u_resolution.xy; float t = u_time * u_speed; vec3 col = 0.5 + 0.5 * cos(t + uv.xyx + vec3(0,2,4)); col *= sin(uv.x * 10.0 + t) * u_audio_val; gl_FragColor = vec4(col * u_intensity, 1.0); }"},{id:"s-rings",name:"Sonic Rings",color:"#3b82f6",code:"void main() { vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y; float r = length(uv); float ring = abs(sin(r * 50.0 - u_time * 10.0)) + u_audio_val; gl_FragColor = vec4(u_color * smoothstep(0.4, 0.5, ring) * u_intensity, 1.0); }"},{id:"s-sparks",name:"Electric Sparks",color:"#ffdc5e",code:"void main() { vec2 uv = gl_FragCoord.xy / u_resolution.xy; float spark = step(0.99, fract(uv.x * 10.0 + u_time)) * step(0.99, fract(uv.y * 10.0 - u_time)) + u_audio_val; gl_FragColor = vec4(u_color * spark * u_intensity, 1.0); }"},{id:"s-bio",name:"Bio Pulse",color:"#22c55e",code:"void main() { vec2 uv = gl_FragCoord.xy / u_resolution.xy; float d = distance(uv, vec2(0.5)); float s = sin(d * 40.0 - u_time * 5.0) * 0.5 + 0.5 + u_audio_val; gl_FragColor = vec4(u_color * s * (1.0-d) * u_intensity, 1.0); }"}],gC=i=>({intensity:{min:0,max:2},speed:{min:0,max:4},zoom:{min:0,max:3},opacity:{min:0,max:1},contrast:{min:0,max:2},saturation:{min:0,max:2},brightness:{min:-1,max:1},hueRotate:{min:0,max:1},distort:{min:0,max:2},tieEffect:{min:0,max:1},feedbackDelay:{min:0,max:1},kaleidoscope:{min:0,max:12},particles:{min:0,max:1}})[i]||{min:0,max:1};class vC extends My.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,o){console.error("Error caught by boundary:",t,o)}render(){var t;return this.state.hasError?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0d0d0d] text-white p-8",children:f.jsxs("div",{className:"max-w-2xl text-center space-y-6",children:[f.jsx(hg,{size:64,className:"mx-auto text-red-500"}),f.jsx("h1",{className:"text-3xl font-black uppercase",children:"RUNTIME_ERROR"}),f.jsx("p",{className:"text-slate-400 font-mono text-sm",children:((t=this.state.error)==null?void 0:t.message)||"Unknown error occurred"}),f.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null}),window.location.reload()},className:"px-8 py-3 bg-[#ffdc5e] text-black rounded-xl font-black uppercase hover:bg-white transition-all",children:"Restart Application"})]})}):this.props.children}}const Qe=({label:i,val:t,max:o=1,onChange:l,onKeyframe:r})=>f.jsxs("div",{className:"space-y-2.5 group",children:[f.jsxs("div",{className:"flex justify-between text-[10px] font-black uppercase text-slate-600 tracking-[0.2em] transition-colors group-hover:text-slate-300",children:[f.jsx("span",{children:i}),f.jsxs("div",{className:"flex items-center gap-4",children:[r&&f.jsx("button",{onClick:r,className:"p-1 text-slate-800 hover:text-[#ffdc5e] transition-all hover:scale-150",children:f.jsx(At,{size:10})}),f.jsx("span",{className:"text-[#ffdc5e] font-mono font-bold tracking-tight",children:t.toFixed(2)})]})]}),f.jsxs("div",{className:"h-6 w-full bg-[#0a0a0a] rounded-xl border border-white/5 relative overflow-hidden shadow-inner ring-1 ring-white/[0.02]",children:[f.jsx("div",{className:"h-full bg-gradient-to-r from-[#ffdc5e]/30 via-[#ffdc5e]/60 to-[#ffdc5e]/90 transition-all shadow-[0_0_20px_rgba(255,220,94,0.4)]",style:{width:`${t/o*100}%`}}),f.jsx("input",{type:"range",min:"0",max:o,step:"0.01",value:t,onChange:d=>l(parseFloat(d.target.value)),className:"absolute inset-0 w-full opacity-0 cursor-pointer"})]})]}),yC=({analysis:i,isZen:t,mode:o})=>{const[l,r]=F.useState([]),d=["sub","bass","lowMid","mid","highMid","treble","presence"];F.useEffect(()=>{if(o==="none")return;const g=setInterval(()=>{if(Object.values(i).some(v=>v>.8)||["glitch","hacker","topology"].includes(o)){const v=new Date().toISOString().split("T")[1].slice(0,8),x=Math.random().toString(16).slice(2,10).toUpperCase(),_={glitch:`ERR_CORE_OFFSET: 0x${x}`,radar:`OBJ_TRK_LOCKED: SIG_${x.slice(0,4)}`,hacker:`SUDO_INJECT: STACK_0x${x}`,topology:`ISO_CURVE_CALC: NODE_${x.slice(0,2)}`,circuit:`GATE_PULSE: TRANS_${x.slice(0,4)}`,stars:`NAV_FIX: AZIMUTH_${Math.floor(Math.random()*360)}`,default:`SIGNAL_PEAK_DETECTED: 0x${x}`},S=_[o]||_.default;r(C=>[`[${v}] ${S}`,...C].slice(0,15))}},o==="hacker"?80:150);return()=>clearInterval(g)},[i,o]);const m={terminal:"#ffdc5e",matrix:"#22c55e",blueprint:"#06b6d4",radar:"#10b981",glitch:"#f43f5e",hacker:"#f97316",topology:"#a855f7",circuit:"#94a3b8",stars:"#ffffff"}[o]||"#ffdc5e";return f.jsxs("div",{className:"absolute inset-0 pointer-events-none flex flex-col font-mono text-[10px] z-30 mix-blend-screen p-6 overflow-hidden transition-all duration-500",style:{color:`${m}aa`,filter:o==="hacker"?"contrast(1.2) brightness(1.1)":"none"},children:[o==="blueprint"&&f.jsx("div",{className:"absolute inset-0 opacity-10",style:{background:`linear-gradient(${m} 1px, transparent 1px) 0 0 / 40px 40px, linear-gradient(90deg, ${m} 1px, transparent 1px) 0 0 / 40px 40px`}}),o==="matrix"&&f.jsx("div",{className:"absolute inset-0 bg-black/10",children:f.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none",style:{backgroundImage:"linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 255, 255, 0.06))",backgroundSize:"100% 2px, 3px 100%"}})}),o==="radar"&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-20",children:f.jsxs("div",{className:"w-[80vw] h-[80vw] border-2 rounded-full flex items-center justify-center",style:{borderColor:m},children:[f.jsx("div",{className:"w-[60vw] h-[60vw] border rounded-full flex items-center justify-center",style:{borderColor:m},children:f.jsx("div",{className:"w-[40vw] h-[40vw] border rounded-full",style:{borderColor:m}})}),f.jsx("div",{className:"absolute w-full h-1",style:{background:`linear-gradient(90deg, transparent, ${m})`,transformOrigin:"center",animation:"spin 4s linear infinite"}})]})}),o==="hacker"&&f.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-30",style:{background:"repeating-linear-gradient(0deg, transparent 0px, rgba(0,0,0,0.5) 1px, transparent 2px)"}}),o==="topology"&&f.jsx("div",{className:"absolute inset-0 opacity-10",style:{background:`repeating-radial-gradient(circle at 50% 50%, transparent 0, transparent 40px, ${m} 41px, transparent 42px)`}}),o==="circuit"&&f.jsx("div",{className:"absolute inset-0 opacity-10",style:{background:`linear-gradient(90deg, ${m} 1px, transparent 1px) 0 0 / 100px 100px, linear-gradient(${m} 1px, transparent 1px) 0 0 / 100px 100px, radial-gradient(${m} 2px, transparent 2px) 50px 50px / 100px 100px`}}),o==="stars"&&f.jsx("div",{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(1px 1px at 20px 30px, white, rgba(0,0,0,0)), radial-gradient(1.5px 1.5px at 40px 70px, white, rgba(0,0,0,0)), radial-gradient(1px 1px at 50px 160px, white, rgba(0,0,0,0)), radial-gradient(1px 1px at 90px 40px, white, rgba(0,0,0,0)), radial-gradient(2px 2px at 130px 80px, white, rgba(0,0,0,0)), radial-gradient(1px 1px at 160px 120px, white, rgba(0,0,0,0))",backgroundSize:"200px 200px"}}),f.jsxs("div",{className:`flex justify-between w-full opacity-60 ${o==="glitch"?"animate-pulse":""}`,children:[f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsxs("span",{className:"font-black",children:["MODE_SELECTION: ",o.toUpperCase()]}),f.jsx("span",{children:"SIGNAL_ORIGIN: TITAN_CORE_V32"}),f.jsxs("span",{children:["SYNC_CLOCK: ",performance.now().toFixed(0),"MS"]}),f.jsxs("span",{children:["MODULATION_ID: ",Math.random().toString(36).slice(2,8).toUpperCase()]})]}),f.jsxs("div",{className:"text-right flex flex-col items-end",children:[f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-1.5 h-1.5 rounded-full animate-pulse",style:{backgroundColor:m}})," LIVE_STREAM_ACTIVE"]}),f.jsx("span",{children:"LATENCY: 1.2MS"}),f.jsx("span",{children:"BITRATE: 4096KBPS"})]})]}),f.jsx("div",{className:`flex-grow flex justify-center items-center opacity-30 overflow-hidden ${o==="glitch"?"translate-x-[-2px] skew-x-1":""}`,children:f.jsx("div",{className:"grid grid-cols-12 gap-10 whitespace-pre leading-none text-[8px]",children:Array.from({length:t?40:20}).map((g,y)=>f.jsx("div",{className:"flex flex-col animate-pulse",style:{animationDelay:`${y*100}ms`},children:Array.from({length:15}).map((v,x)=>{let _="1";return o==="matrix"?_=String.fromCharCode(12448+Math.random()*96):o==="hacker"?_=Math.random()>.5?"0":"X":o==="glitch"?_=String.fromCharCode(33+Math.random()*94):o==="circuit"?_=Math.random()>.8?"":Math.random()>.5?"":"":_=Math.random()>.5?"1":"0",f.jsx("span",{children:_},x)})},y))})}),f.jsxs("div",{className:"flex gap-10 h-32 items-end relative z-40",children:[f.jsx("div",{className:"flex-grow space-y-1 overflow-hidden",children:l.map((g,y)=>f.jsx("div",{className:`truncate opacity-80 transition-transform ${o==="glitch"&&Math.random()>.8?"translate-x-4":""}`,style:{opacity:1-y*.07,transform:`translateX(${y*2}px)`},children:g},y))}),f.jsx("div",{className:"w-64 space-y-2 opacity-80 shrink-0",children:d.map(g=>f.jsxs("div",{className:"flex gap-3 items-center",children:[f.jsx("span",{className:"w-16 uppercase text-[8px] tracking-tighter opacity-60",children:g}),f.jsx("div",{className:"flex-grow flex gap-0.5",children:Array.from({length:20}).map((y,v)=>f.jsx("span",{className:"transition-all duration-75",style:{color:v<i[g]*20?m:"rgba(255,255,255,0.05)"},children:o==="blueprint"?"":o==="radar"?"":o==="stars"?"*":"|"},v))})]},g))})]}),f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_0%,rgba(0,0,0,0.1)_100%)]"}),f.jsx("style",{children:`
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
      `})]})},xC=({shader:i})=>{const t=F.useRef(null),[o,l]=F.useState(null);return F.useEffect(()=>{var R;if(o)return;const r=(R=t.current)==null?void 0:R.getContext("webgl",{preserveDrawingBuffer:!0});if(!r)return;const d=r.createShader(r.VERTEX_SHADER);r.shaderSource(d,"attribute vec4 a_position; void main() { gl_Position = a_position; }"),r.compileShader(d);const m=r.createShader(r.FRAGMENT_SHADER),g=/uniform\s+(float|vec2|vec3)\s+[\w, ]+;/g,v=`
      precision mediump float; 
      uniform float u_time, u_speed, u_intensity, u_opacity, u_audio_val, u_zoom, u_kaleidoscope;
      uniform float u_distort, u_hue_rotate, u_contrast, u_saturation, u_brightness;
      uniform float u_tie_effect, u_feedback_delay, u_particles;
      uniform vec2 u_resolution; uniform vec3 u_color; 
      float dynamic_time;
      vec3 hsv2rgb(vec3 c) { vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0); vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www); return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y); }
      vec3 rgb2hsv(vec3 c) { vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0); vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g)); vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r)); float d = q.x - min(q.w, q.y); return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + 1e-10)), d / (q.x + 1e-10), q.x); }
      ${i.code.replace(/precision\s+\w+\s+float\s*;/g,"").replace(g,"").replace(/\bu_time\b/g,"dynamic_time").replace(/void\s+main\s*\([^)]*\)/gi,"void user_main()")} 
      void main() { 
        dynamic_time = u_time;
        vec2 p = gl_FragCoord.xy/u_resolution.xy; 
        user_main(); 
      }`;r.shaderSource(m,v),r.compileShader(m);const x=r.createProgram();if(r.attachShader(x,d),r.attachShader(x,m),r.linkProgram(x),!r.getProgramParameter(x,r.LINK_STATUS)){l("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");return}r.useProgram(x);const _=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,_),r.bufferData(r.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),r.STATIC_DRAW);const S=r.getAttribLocation(x,"a_position");S>=0&&(r.enableVertexAttribArray(S),r.vertexAttribPointer(S,2,r.FLOAT,!1,0,0)),r.viewport(0,0,80,80);const C=(U,X)=>{const j=r.getUniformLocation(x,U);j&&r.uniform1f(j,X)};r.uniform1f(r.getUniformLocation(x,"u_time"),1.5),r.uniform2f(r.getUniformLocation(x,"u_resolution"),80,80),C("u_speed",1),C("u_intensity",1),C("u_opacity",1),r.uniform3f(r.getUniformLocation(x,"u_color"),1,.86,.37),C("u_audio_val",.2),C("u_zoom",0),C("u_kaleidoscope",0),C("u_distort",0),C("u_hue_rotate",0),C("u_contrast",1),C("u_saturation",1),C("u_brightness",0),C("u_tie_effect",0),C("u_feedback_delay",0),C("u_particles",0),r.drawArrays(r.TRIANGLES,0,6);const D=t.current.toDataURL("image/png");l(D),r.bindBuffer(r.ARRAY_BUFFER,null),r.deleteBuffer(_),r.deleteProgram(x),r.deleteShader(d),r.deleteShader(m);const k=r.getExtension("WEBGL_lose_context");k&&k.loseContext()},[i,o]),f.jsx("div",{className:"w-14 h-14 rounded-md bg-[#0a0a0a] border border-white/5 group-hover:border-[#ffdc5e]/50 transition-all shadow-lg overflow-hidden flex items-center justify-center",children:o&&o.length>0?f.jsx("img",{src:o,alt:i.name,className:"w-full h-full object-cover"}):f.jsx("canvas",{ref:t,width:80,height:80,className:"w-full h-full opacity-0"})})},_C=({fx:i,onChange:t})=>{const o=F.useRef(null),l=r=>{if(!o.current)return;const d=o.current.getBoundingClientRect(),m="touches"in r?r.touches[0].clientX:r.clientX,g="touches"in r?r.touches[0].clientY:r.clientY,y=Math.max(0,Math.min(1,(m-d.left)/d.width)),v=Math.max(0,Math.min(1,1-(g-d.top)/d.height));t({x:y,y:v})};return f.jsxs("div",{ref:o,onMouseMove:r=>r.buttons===1&&l(r),onMouseDown:l,className:"w-full aspect-square bg-[#080808] rounded-3xl border border-white/10 relative overflow-hidden cursor-crosshair shadow-2xl group transition-all ring-1 ring-white/5 mb-4",children:[f.jsxs("div",{className:"absolute inset-0 opacity-10 pointer-events-none",children:[f.jsx("div",{className:"absolute inset-y-0 left-1/2 w-[1px] bg-white"}),f.jsx("div",{className:"absolute inset-x-0 top-1/2 h-[1px] bg-white"})]}),f.jsx("div",{className:"absolute w-7 h-7 -ml-3.5 -mt-3.5 bg-[#ffdc5e] rounded-sm border-2 border-black pointer-events-none shadow-[0_0_35px_#ffdc5e] transition-all group-active:scale-125",style:{left:`${i.feedback/20*100}%`,top:`${(1-i.bloom/1.5)*100}%`,transform:"rotate(45deg)"}})]})},bC=()=>{const i=F.useRef(null);return F.useEffect(()=>{var _;const t=(_=i.current)==null?void 0:_.getContext("webgl");if(!t)return;const o=t.createShader(t.VERTEX_SHADER);t.shaderSource(o,"attribute vec4 a_position; void main() { gl_Position = a_position; }"),t.compileShader(o);const l=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(l,`precision mediump float;
      uniform float u_time; uniform vec2 u_resolution; uniform vec2 u_mouse;
      void main() {
        vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / min(u_resolution.y, u_resolution.x);
        float d = length(uv - u_mouse * 0.1);
        vec3 col = vec3(0.18, 0.18, 0.2);
        col += (0.01 / d) * vec3(1.0, 0.86, 0.37) * (sin(u_time * 0.5) * 0.2 + 0.8);
        gl_FragColor = vec4(col * 0.4, 1.0);
      }`),t.compileShader(l);const r=t.createProgram();t.attachShader(r,o),t.attachShader(r,l),t.linkProgram(r),t.useProgram(r);const d=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,d),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),t.STATIC_DRAW);const m=t.getAttribLocation(r,"a_position");t.enableVertexAttribArray(m),t.vertexAttribPointer(m,2,t.FLOAT,!1,0,0);const g={x:0,y:0},y=S=>{g.x=S.clientX/window.innerWidth*2-1,g.y=S.clientY/window.innerHeight*-2+1};window.addEventListener("mousemove",y);const v=S=>{const C=window.innerWidth,D=window.innerHeight;i.current&&(i.current.width!==C||i.current.height!==D)&&(i.current.width=C,i.current.height=D),t.viewport(0,0,C,D),t.uniform1f(t.getUniformLocation(r,"u_time"),S*.001),t.uniform2f(t.getUniformLocation(r,"u_resolution"),C,D),t.uniform2f(t.getUniformLocation(r,"u_mouse"),g.x,g.y),t.drawArrays(t.TRIANGLES,0,6),requestAnimationFrame(v)},x=requestAnimationFrame(v);return()=>{cancelAnimationFrame(x),window.removeEventListener("mousemove",y)}},[]),f.jsx("canvas",{ref:i,className:"fixed inset-0 w-full h-full -z-10"})},SC=i=>i*i,TC=i=>i*(2-i),EC=i=>i<.5?2*i*i:-1+(4-2*i)*i,CC=i=>i<.5?2*i*i:1-Math.pow(-2*i+2,2)/2,AC=i=>i*i*(3-2*i),NC=(i,t="linear")=>{switch(t){case"linear":return i;case"ease":return CC(i);case"easeIn":return SC(i);case"easeOut":return TC(i);case"easeInOut":return EC(i);case"bezier":return AC(i);default:return i}},wC=(i,t,o)=>{if(!i||i.length===0)return t;const l=[...i].sort((r,d)=>r.t-d.t);if(o<=l[0].t)return l[0].v;if(o>=l[l.length-1].t)return l[l.length-1].v;for(let r=0;r<l.length-1;r++){const d=l[r],m=l[r+1];if(o>=d.t&&o<=m.t){const g=(o-d.t)/(m.t-d.t),y=d.curve||"linear",v=NC(g,y);return d.v+(m.v-d.v)*v}}return t},MC=(i,t,o=120)=>{const l=i.sync?o/60*i.freq:i.freq,r=t*l+i.phase;let d=0;switch(i.type){case"sine":d=Math.sin(r*Math.PI*2)*i.amp;break;case"tri":d=(Math.abs(r%1*2-1)*2-1)*i.amp;break;case"sqr":d=(r%1<.5?1:-1)*i.amp;break;case"noise":d=Math.sin(r*123.45)*Math.cos(r*678.9)*i.amp;break}return d+i.offset},bg=F.forwardRef(({playhead:i,clips:t,shaders:o,audioAnalysis:l,masterFX:r,mutes:d,solos:m,onShaderError:g},y)=>{const v=F.useRef(null),x=F.useRef(new Map),_=F.useRef(new Map),S=F.useRef(new Map),C=F.useRef(new Map),D=F.useRef({playhead:i,clips:t,shaders:o,audioAnalysis:l,masterFX:r,mutes:d,solos:m}),k=F.useRef(0),R=F.useRef(performance.now()),U=F.useRef(null);F.useImperativeHandle(y,()=>v.current),D.current={playhead:i,clips:t,shaders:o,audioAnalysis:l,masterFX:r,mutes:d,solos:m},F.useEffect(()=>{var V;let E=(V=v.current)==null?void 0:V.getContext("webgl",{alpha:!0,antialias:!0,preserveDrawingBuffer:!0});if(!E)return;const Z=W=>{W.preventDefault(),console.warn("WebGL context lost, will attempt recovery")},_e=()=>{var W;E=(W=v.current)==null?void 0:W.getContext("webgl",{alpha:!0,antialias:!0,preserveDrawingBuffer:!0}),E&&(x.current.clear(),_.current.clear(),U.current=null,console.log("WebGL context restored"))},le=v.current;le&&(le.addEventListener("webglcontextlost",Z),le.addEventListener("webglcontextrestored",_e));const xe=E.createShader(E.VERTEX_SHADER);E.shaderSource(xe,"attribute vec4 a_position; void main() { gl_Position = a_position; }"),E.compileShader(xe);const Q=E.createBuffer();E.bindBuffer(E.ARRAY_BUFFER,Q),E.bufferData(E.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),E.STATIC_DRAW);let se=0;const fe=1e3/30;let qe=0;const $e=()=>{if(!E||E.isContextLost()){requestAnimationFrame($e);return}const W=performance.now(),{playhead:te,clips:pe,shaders:ge,audioAnalysis:I,masterFX:P,mutes:ee,solos:re}=D.current;if(!(pe.length>0)&&!P.strobe&&!P.freeze){if(qe++,qe%2!==0&&W-se<fe){requestAnimationFrame($e);return}}else qe=0;const ce=(W-R.current)/1e3;R.current=W,se=W,k.current+=isFinite(ce)?ce:0;const tt=v.current;if(!tt)return;const ue=tt.clientWidth,we=tt.clientHeight;if((tt.width!==ue||tt.height!==we)&&(tt.width=ue,tt.height=we),E.viewport(0,0,ue,we),P.backgroundType&&P.backgroundType!=="none"){const mt=document.createElement("canvas");mt.width=ue,mt.height=we;const B=mt.getContext("2d");if(B){switch(P.backgroundType){case"gradient":{const ve=B.createLinearGradient(0,0,ue,we),be=k.current*50%360;ve.addColorStop(0,`hsl(${be}, 70%, 40%)`),ve.addColorStop(1,`hsl(${(be+60)%360}, 70%, 30%)`),B.fillStyle=ve,B.fillRect(0,0,ue,we);break}case"noise":{const ve=B.createImageData(ue,we),be=ve.data;for(let Fe=0;Fe<be.length;Fe+=4){const Re=Math.random()*.2;be[Fe]=Re*255,be[Fe+1]=Re*255,be[Fe+2]=Re*255,be[Fe+3]=255}B.putImageData(ve,0,0);break}case"grid":{B.fillStyle="rgba(0, 0, 0, 0.5)",B.fillRect(0,0,ue,we),B.strokeStyle="rgba(255, 255, 255, 0.2)",B.lineWidth=1;const ve=50,be=k.current*10%ve,Fe=k.current*10%ve;for(let Re=-be;Re<ue;Re+=ve)B.beginPath(),B.moveTo(Re,0),B.lineTo(Re,we),B.stroke();for(let Re=-Fe;Re<we;Re+=ve)B.beginPath(),B.moveTo(0,Re),B.lineTo(ue,Re),B.stroke();break}case"particles":{B.fillStyle="rgba(0, 0, 0, 0.5)",B.fillRect(0,0,ue,we),B.fillStyle="rgba(255, 220, 94, 0.7)";const ve=50;for(let be=0;be<ve;be++){const Fe=(ue*.5+Math.sin(k.current+be)*ue*.3+(k.current*20+be*10)%ue)%ue,Re=(we*.5+Math.cos(k.current*.7+be)*we*.3+(k.current*15+be*7)%we)%we;B.beginPath(),B.arc(Fe,Re,3+Math.sin(k.current+be)*2,0,Math.PI*2),B.fill()}break}case"waves":{B.fillStyle="rgba(0, 0, 0, 0.5)",B.fillRect(0,0,ue,we),B.strokeStyle="rgba(255, 220, 94, 0.5)",B.lineWidth=2;for(let ve=0;ve<5;ve++){B.beginPath();const be=30+ve*10,Fe=.01+ve*.005;for(let Re=0;Re<ue;Re+=2){const gt=we/2+Math.sin(Re*Fe+k.current*2+ve)*be;Re===0?B.moveTo(Re,gt):B.lineTo(Re,gt)}B.stroke()}break}case"ken-burns-1":{const ve=1+k.current%10*.02,be=k.current%10*ue*.05,Fe=k.current%10*we*.03;B.save(),B.translate(ue/2,we/2),B.scale(ve,ve),B.translate(-ue/2+be,-we/2+Fe);const Re=B.createRadialGradient(ue/2,we/2,0,ue/2,we/2,ue);Re.addColorStop(0,`hsl(${k.current*20%360}, 70%, 30%)`),Re.addColorStop(1,`hsl(${(k.current*20+60)%360}, 70%, 15%)`),B.fillStyle=Re,B.fillRect(-ue,-we,ue*3,we*3),B.fillStyle=`rgba(255, 220, 94, ${.2+Math.sin(k.current)*.1})`,B.beginPath(),B.arc(ue*.3,we*.3,100+Math.sin(k.current)*20,0,Math.PI*2),B.fill(),B.restore();break}case"ken-burns-2":{const ve=1.2+Math.sin(k.current*.5)*.1,be=Math.sin(k.current*.3)*ue*.2,Fe=Math.cos(k.current*.3)*we*.2;B.save(),B.translate(ue/2,we/2),B.scale(ve,ve),B.rotate(k.current*.1),B.translate(-ue/2+be,-we/2+Fe);const Re=B.createLinearGradient(0,0,ue,we);Re.addColorStop(0,`hsl(${k.current*30%360}, 60%, 25%)`),Re.addColorStop(.5,`hsl(${(k.current*30+120)%360}, 60%, 15%)`),Re.addColorStop(1,`hsl(${(k.current*30+240)%360}, 60%, 25%)`),B.fillStyle=Re,B.fillRect(-ue,-we,ue*3,we*3),B.strokeStyle=`rgba(255, 220, 94, ${.3+Math.sin(k.current*2)*.1})`,B.lineWidth=3;for(let gt=0;gt<6;gt++){B.beginPath();const ke=Math.PI*2/6*gt+k.current,St=ue/2+Math.cos(ke)*150,Vt=we/2+Math.sin(ke)*150;B.moveTo(ue/2,we/2),B.lineTo(St,Vt),B.stroke()}B.restore();break}case"ken-burns-3":{const ve=1+k.current%8*.03,be=Math.cos(k.current*.4)*ue*.15,Fe=Math.sin(k.current*.4)*we*.15;B.save(),B.translate(ue/2,we/2),B.scale(ve,ve),B.translate(-ue/2+be,-we/2+Fe);const Re=k.current*15%360,gt=B.createRadialGradient(ue*.7,we*.3,0,ue*.7,we*.3,ue*1.5);gt.addColorStop(0,`hsla(${Re}, 80%, 35%, 0.9)`),gt.addColorStop(1,`hsla(${(Re+180)%360}, 80%, 15%, 0.9)`),B.fillStyle=gt,B.fillRect(-ue,-we,ue*3,we*3),B.fillStyle="rgba(255, 220, 94, 0.6)";for(let ke=0;ke<30;ke++){const St=Math.PI*2/30*ke+k.current,Vt=80+Math.sin(k.current*2+ke)*30,Hn=ue*.7+Math.cos(St)*Vt,Nt=we*.3+Math.sin(St)*Vt;B.beginPath(),B.arc(Hn,Nt,3+Math.sin(k.current+ke)*2,0,Math.PI*2),B.fill()}B.restore();break}}if(!U.current){const ve=E.createShader(E.VERTEX_SHADER);E.shaderSource(ve,"attribute vec4 a_position; varying vec2 v_texCoord; void main() { gl_Position = a_position; v_texCoord = (a_position.xy * 0.5 + 0.5); }"),E.compileShader(ve);const be=E.createShader(E.FRAGMENT_SHADER);if(E.shaderSource(be,"precision mediump float; uniform sampler2D u_texture; varying vec2 v_texCoord; void main() { gl_FragColor = texture2D(u_texture, v_texCoord); }"),E.compileShader(be),!E.getShaderParameter(ve,E.COMPILE_STATUS))console.error("Background vertex shader error:",E.getShaderInfoLog(ve)),E.deleteShader(ve),E.deleteShader(be);else if(!E.getShaderParameter(be,E.COMPILE_STATUS))console.error("Background fragment shader error:",E.getShaderInfoLog(be)),E.deleteShader(ve),E.deleteShader(be);else{const Fe=E.createProgram();E.attachShader(Fe,ve),E.attachShader(Fe,be),E.linkProgram(Fe),E.getProgramParameter(Fe,E.LINK_STATUS)?U.current=Fe:(console.error("Background program link error:",E.getProgramInfoLog(Fe)),E.deleteProgram(Fe)),E.deleteShader(ve),E.deleteShader(be)}}if(U.current){const ve=E.createTexture();if(!ve)console.error("Failed to create background texture"),E.clearColor(.1,.1,.1,1),E.clear(E.COLOR_BUFFER_BIT);else{E.bindTexture(E.TEXTURE_2D,ve),E.texImage2D(E.TEXTURE_2D,0,E.RGBA,E.RGBA,E.UNSIGNED_BYTE,mt),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.LINEAR),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.LINEAR),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT),E.useProgram(U.current),E.bindBuffer(E.ARRAY_BUFFER,Q);const be=E.getAttribLocation(U.current,"a_position");be>=0?(E.enableVertexAttribArray(be),E.vertexAttribPointer(be,2,E.FLOAT,!1,0,0)):console.warn("Background position attribute not found"),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,ve);const Fe=E.getUniformLocation(U.current,"u_texture");Fe?E.uniform1i(Fe,0):console.warn("Background texture uniform not found"),E.disable(E.BLEND),E.drawArrays(E.TRIANGLES,0,6);const Re=E.getError();Re!==E.NO_ERROR&&console.warn("WebGL error during background render:",Re),E.deleteTexture(ve)}}else console.warn("Background shader program not available, type:",P.backgroundType),E.clearColor(.1,.1,.1,1),E.clear(E.COLOR_BUFFER_BIT);E.enable(E.BLEND),E.blendFunc(E.SRC_ALPHA,E.ONE_MINUS_SRC_ALPHA)}else E.clearColor(0,0,0,0),E.clear(E.COLOR_BUFFER_BIT),E.enable(E.BLEND),E.blendFunc(E.SRC_ALPHA,E.ONE_MINUS_SRC_ALPHA)}else E.clearColor(.12,.12,.12,1),E.clear(E.COLOR_BUFFER_BIT),E.enable(E.BLEND),E.blendFunc(E.SRC_ALPHA,E.ONE_MINUS_SRC_ALPHA);if(P.blackout)return requestAnimationFrame($e);const Ut=re.some(mt=>mt);[0,1,2,3,4,5,6,7].forEach(mt=>{ee[mt]||Ut&&!re[mt]||pe.filter(B=>B.track===mt&&te>=B.startTime&&te<B.startTime+B.duration).forEach(B=>{if(B.isVideo&&B.videoElement&&B.videoUrl){const Ce=B.videoElement;if(!Ce||!isFinite(Ce.duration)||Ce.duration<=0)return;const jt=(te-B.startTime)/B.duration,Yt=Math.max(0,Math.min(jt*Ce.duration,Ce.duration));if(Ce.readyState>=2){if(Math.abs(Ce.currentTime-Yt)>.1)try{Ce.currentTime=Yt}catch{}Ce.paused&&Ce.play().catch(()=>{})}if(Ce.readyState>=2&&Ce.videoWidth>0&&Ce.videoHeight>0){let ot=C.current.get(B.id);ot||(ot=E.createTexture(),E.bindTexture(E.TEXTURE_2D,ot),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.LINEAR),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.LINEAR),C.current.set(B.id,ot)),E.bindTexture(E.TEXTURE_2D,ot),E.texImage2D(E.TEXTURE_2D,0,E.RGBA,E.RGBA,E.UNSIGNED_BYTE,Ce);let un=1;jt<B.fadeIn/B.duration?un=jt/(B.fadeIn/B.duration):jt>1-B.fadeOut/B.duration&&(un=(1-jt)/(B.fadeOut/B.duration));const Jt=`precision mediump float;
                  uniform sampler2D u_video;
                  uniform float u_opacity;
                  uniform vec2 u_resolution;
                  void main() {
                    vec2 uv = gl_FragCoord.xy / u_resolution;
                    vec4 color = texture2D(u_video, uv);
                    gl_FragColor = vec4(color.rgb, color.a * u_opacity);
                  }`;let _t=x.current.get(`video-${B.id}`);if(!_t){const so=E.createShader(E.VERTEX_SHADER);E.shaderSource(so,"attribute vec4 a_position; void main() { gl_Position = a_position; }"),E.compileShader(so);const ii=E.createShader(E.FRAGMENT_SHADER);if(E.shaderSource(ii,Jt),E.compileShader(ii),!E.getShaderParameter(ii,E.COMPILE_STATUS)){console.error("Video shader error:",E.getShaderInfoLog(ii));return}if(_t=E.createProgram(),E.attachShader(_t,so),E.attachShader(_t,ii),E.linkProgram(_t),!E.getProgramParameter(_t,E.LINK_STATUS)){console.error("Video program error:",E.getProgramInfoLog(_t));return}x.current.set(`video-${B.id}`,_t)}E.useProgram(_t),E.bindBuffer(E.ARRAY_BUFFER,Q);const Tt=E.getAttribLocation(_t,"a_position");if(E.enableVertexAttribArray(Tt),E.vertexAttribPointer(Tt,2,E.FLOAT,!1,0,0),E.uniform1i(E.getUniformLocation(_t,"u_video"),0),E.uniform1f(E.getUniformLocation(_t,"u_opacity"),B.opacity*un),E.uniform2f(E.getUniformLocation(_t,"u_resolution"),ue,we),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,ot),E.drawArrays(E.TRIANGLES,0,6),!B.shaderId)return}}let ve=ge.find(Ce=>Ce.id===B.shaderId);if(!ve){B.shaderId&&pe.length>0&&console.warn("Shader not found for clip:",B.shaderId,"Available shaders:",ge.map(Ce=>Ce.id));return}const be=B.isVideo&&B.videoElement&&B.videoUrl,Fe=be?`${ve.id}-video-${B.id}`:ve.id;if(_.current.get(Fe)!==ve.code){const Ce=E.createShader(E.FRAGMENT_SHADER),Yt=`precision mediump float;
                uniform float u_time, u_speed, u_intensity, u_opacity, u_audio_val, u_zoom, u_kaleidoscope;
                uniform float u_invert, u_chroma_burst, u_glitch_hit, u_mirror_flip, u_distort, u_hue_rotate;
                uniform float u_contrast, u_saturation, u_brightness, u_particles;
                uniform float u_tie_effect, u_feedback_delay;
                uniform float u_freeze, u_frozen_time, u_pixelate, u_noise, u_rgb_shift, u_posterize;
                uniform float u_scanlines, u_edge_detection, u_fisheye, u_twirl, u_master_kaleidoscope;
                uniform vec2 u_resolution; uniform vec3 u_color;
                ${be?"uniform sampler2D u_video;":""}
                float dynamic_time;
                vec3 hsv2rgb(vec3 c) { vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0); vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www); return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y); }
                vec3 rgb2hsv(vec3 c) { vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0); vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g)); vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r)); float d = q.x - min(q.w, q.y); return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + 1e-10)), d / (q.x + 1e-10), q.x); }
                
                float hash(vec2 p) { return fract(sin(dot(p, vec2(12.9898, 78.233))) * 43758.5453); }

                ${ve.code.replace(/\bu_time\b/g,"dynamic_time").replace(/void\s+main\s*\([^)]*\)/gi,"void user_main()")}
                void main() {
                  dynamic_time = u_freeze > 0.5 ? u_frozen_time : u_time;
                  vec2 p = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / u_resolution.y;
                  
                  // Initialize gl_FragColor with transparent black to allow background to show through
                  gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
                  
                  // Master Kaleidoscope (applied early)
                  if(u_master_kaleidoscope > 0.0) {
                    float a = atan(p.y, p.x); float r = length(p);
                    float segments = floor(u_master_kaleidoscope) + 2.0;
                    a = mod(a, 3.14159 * 2.0 / segments);
                    a = abs(a - 3.14159 / segments);
                    p = vec2(cos(a), sin(a)) * r;
                  }
                  
                  // Fisheye
                  if(u_fisheye > 0.0) {
                    float r = length(p);
                    float f = 1.0 + u_fisheye * r * r;
                    p *= f;
                  }
                  
                  // Twirl
                  if(u_twirl > 0.0) {
                    float a = atan(p.y, p.x) + u_twirl * (1.0 - length(p));
                    float r = length(p);
                    p = vec2(cos(a), sin(a)) * r;
                  }
                  
                  // Pixelate (simplified - quantize coordinates)
                  if(u_pixelate > 0.0) {
                    float pixelSize = 1.0 + u_pixelate * 0.01;
                    p = floor(p * pixelSize * 10.0) / (pixelSize * 10.0);
                  }
                  
                  // Tie Effect (Radial Distortion)
                  if(u_tie_effect > 0.0) {
                     float r = length(p); float a = atan(p.y, p.x);
                     a += sin(r * 10.0 - dynamic_time) * u_tie_effect;
                     p = vec2(cos(a), sin(a)) * r;
                  }

                  if(u_distort > 0.0) { p += sin(p.yx * 8.0 + dynamic_time * 2.0) * u_distort * 0.05; }
                  if(u_zoom > 0.0) p /= (1.0 + u_zoom);
                  if(u_mirror_flip > 0.5) p = abs(p);
                  
                  // Kaleidoscope
                  if(u_kaleidoscope > 0.0) {
                     float a = atan(p.y, p.x); float r = length(p);
                     a = mod(a, 3.14159 * 2.0 / u_kaleidoscope);
                     a = abs(a - 3.14159 / u_kaleidoscope);
                     p = vec2(cos(a), sin(a)) * r;
                  }

                  if(u_glitch_hit > 0.5) p.x += sin(p.y * 30.0 + dynamic_time * 10.0) * 0.05;
                  
                  // Final Render with Temporal Feedback Loop
                  if(u_feedback_delay > 0.0) {
                     vec4 baseColor = vec4(0.0);
                     float originalTime = dynamic_time;
                     for(float i=0.0; i<3.0; i++) {
                        dynamic_time = originalTime - i * u_feedback_delay * 0.2;
                        user_main();
                        baseColor += gl_FragColor * (1.0 - i*0.3);
                     }
                     gl_FragColor = baseColor / 2.0;
                     dynamic_time = originalTime;
                  } else {
                     user_main();
                  }

                  // Particle Engine (Integrated)
                  if(u_particles > 0.0) {
                    float part = 0.0;
                    vec2 gridUV = p * 15.0;
                    vec2 id = floor(gridUV);
                    for(float x=-1.0; x<=1.0; x++) {
                      for(float y=-1.0; y<=1.0; y++) {
                        vec2 nid = id + vec2(x, y);
                        vec2 offset = vec2(hash(nid), hash(nid + 123.45)) - 0.5;
                        vec2 pPos = nid + 0.5 + offset * sin(dynamic_time + hash(nid)*10.0);
                        float d = length(gridUV - pPos);
                        part += smoothstep(0.1 + u_audio_val * 0.2, 0.0, d) * (0.5 + 0.5 * sin(dynamic_time * hash(nid)));
                      }
                    }
                    gl_FragColor.rgb += u_color * part * u_particles * 2.5;
                  }

                  vec3 col = gl_FragColor.rgb;
                  col = (col - 0.5) * u_contrast + 0.5 + u_brightness;
                  float gray = dot(col, vec3(0.299, 0.587, 0.114));
                  col = mix(vec3(gray), col, u_saturation);
                  if(u_hue_rotate > 0.0) { vec3 hsv = rgb2hsv(col); hsv.x = fract(hsv.x + u_hue_rotate); col = hsv2rgb(hsv); }
                  if(u_invert > 0.5) col = 1.0 - col;
                  if(u_chroma_burst > 0.5) col.rb += vec2(0.2);
                  
                  // Master FX Post-Processing
                  vec2 uv = gl_FragCoord.xy / u_resolution.xy;
                  
                  // Noise
                  if(u_noise > 0.0) {
                    col += (hash(gl_FragCoord.xy + dynamic_time) - 0.5) * u_noise;
                  }
                  
                  // Posterize
                  if(u_posterize > 0.0) {
                    float levels = floor(u_posterize) + 1.0;
                    col = floor(col * levels) / levels;
                  }
                  
                  // Scanlines
                  if(u_scanlines > 0.5) {
                    float scanline = step(0.5, mod(gl_FragCoord.y, 2.0));
                    col *= 0.7 + scanline * 0.3;
                  }
                  
                  // Edge Detection (simplified - based on color difference)
                  if(u_edge_detection > 0.5) {
                    float edge = abs(col.r - col.g) + abs(col.g - col.b) + abs(col.b - col.r);
                    col = vec3(edge * 3.0);
                  }
                  
                  gl_FragColor = vec4(col, gl_FragColor.a * u_opacity);
                }`;if(E.shaderSource(Ce,Yt),E.compileShader(Ce),E.getShaderParameter(Ce,E.COMPILE_STATUS)){const ot=E.createProgram();E.attachShader(ot,xe),E.attachShader(ot,Ce),E.linkProgram(ot),x.current.set(Fe,ot),g&&g(ve.id,null),S.current.set(ve.id,null)}else{const ot=E.getShaderInfoLog(Ce);g&&g(ve.id,ot),S.current.set(ve.id,ot)}_.current.set(Fe,ve.code)}let Re=null;if(be){const Ce=B.videoElement;if(!Ce||!isFinite(Ce.duration)||Ce.duration<=0)return;const jt=(te-B.startTime)/B.duration,Yt=Math.max(0,Math.min(jt*Ce.duration,Ce.duration));if(Ce.readyState>=2){if(Math.abs(Ce.currentTime-Yt)>.1)try{Ce.currentTime=Yt}catch{}Ce.paused&&Ce.play().catch(()=>{})}if(Ce.readyState>=2&&Ce.videoWidth>0&&Ce.videoHeight>0){let ot=C.current.get(B.id);ot||(ot=E.createTexture(),E.bindTexture(E.TEXTURE_2D,ot),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.LINEAR),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.LINEAR),C.current.set(B.id,ot)),E.bindTexture(E.TEXTURE_2D,ot),E.texImage2D(E.TEXTURE_2D,0,E.RGBA,E.RGBA,E.UNSIGNED_BYTE,Ce),Re=ot}}let gt=x.current.get(Fe);if(!gt){E.enable(E.BLEND),E.blendFunc(E.SRC_ALPHA,E.ONE_MINUS_SRC_ALPHA);const Ce=Math.sin(E.canvas.height*te*.1)*.1+.1;E.clearColor(.2,.05,.05,Ce);return}if(E.useProgram(gt),P.backgroundType&&P.backgroundType!=="none")E.enable(E.BLEND),E.blendFunc(E.SRC_ALPHA,E.ONE_MINUS_SRC_ALPHA);else switch(E.enable(E.BLEND),B.blendMode){case"add":E.blendFunc(E.SRC_ALPHA,E.ONE);break;case"multiply":E.blendFunc(E.DST_COLOR,E.ZERO);break;case"screen":E.blendFunc(E.ONE,E.ONE_MINUS_SRC_COLOR);break;default:E.blendFunc(E.SRC_ALPHA,E.ONE_MINUS_SRC_ALPHA);break}E.bindBuffer(E.ARRAY_BUFFER,Q);const ke=E.getAttribLocation(gt,"a_position");if(E.enableVertexAttribArray(ke),E.vertexAttribPointer(ke,2,E.FLOAT,!1,0,0),be&&Re){E.activeTexture(E.TEXTURE1),E.bindTexture(E.TEXTURE_2D,Re);const Ce=E.getUniformLocation(gt,"u_video");Ce&&E.uniform1i(Ce,1)}const St=te-B.startTime,Vt=St/B.duration*(B.timeStretch||1);let Hn=1;St<B.fadeIn?Hn=St/Math.max(.01,B.fadeIn):St>B.duration-B.fadeOut&&(Hn=(B.duration-St)/Math.max(.01,B.fadeOut)),Hn=Math.max(0,Math.min(1,Hn));const Nt=(Ce,jt)=>{var ot;let Yt=wC((ot=B.automation)==null?void 0:ot[Ce],jt,Vt);return B.lfos.forEach(un=>{un.target===Ce&&(Yt+=MC(un,k.current,P.bpm))}),Yt},Ue=(Ce,jt)=>{const Yt=E.getUniformLocation(gt,Ce);Yt&&E.uniform1f(Yt,jt)};Ue("u_time",te+k.current*.1),E.uniform2f(E.getUniformLocation(gt,"u_resolution"),tt.width,tt.height),Ue("u_speed",Nt("speed",B.params.speed)),Ue("u_intensity",Nt("intensity",B.params.intensity)),Ue("u_opacity",Nt("opacity",B.opacity)*Hn),Ue("u_zoom",P.zoomPunch?.9:Nt("zoom",B.params.zoom)),Ue("u_kaleidoscope",Nt("kaleidoscope",B.params.kaleidoscope)),Ue("u_distort",Nt("distort",B.params.distort)),Ue("u_hue_rotate",Nt("hueRotate",B.params.hueRotate)),Ue("u_contrast",Nt("contrast",B.params.contrast)),Ue("u_saturation",Nt("saturation",B.params.saturation)),Ue("u_brightness",Nt("brightness",B.params.brightness)),Ue("u_tie_effect",Nt("tieEffect",B.params.tieEffect)),Ue("u_feedback_delay",Nt("feedbackDelay",B.params.feedbackDelay)),Ue("u_particles",Nt("particles",B.params.particles)),Ue("u_invert",P.invert?1:0),Ue("u_chroma_burst",P.chromaBurst?1:0),Ue("u_glitch_hit",P.glitchHit?1:0),Ue("u_mirror_flip",P.mirrorFlip?1:0),Ue("u_freeze",P.freeze?1:0),Ue("u_frozen_time",k.current),Ue("u_pixelate",P.pixelate),Ue("u_noise",P.noise),Ue("u_rgb_shift",P.rgbShift),Ue("u_posterize",P.posterize),Ue("u_scanlines",P.scanlines?1:0),Ue("u_edge_detection",P.edgeDetection?1:0),Ue("u_fisheye",P.fisheye),Ue("u_twirl",P.twirl),Ue("u_master_kaleidoscope",P.kaleidoscope);const Uo=Nt("color",B.params.color),Ia=Math.max(0,Math.min(1,Math.abs(Uo*6-3)-1)),Ai=Math.max(0,Math.min(1,2-Math.abs(Uo*6-2))),Jn=Math.max(0,Math.min(1,2-Math.abs(Uo*6-4)));E.uniform3f(E.getUniformLocation(gt,"u_color"),Ia,Ai,Jn),Ue("u_audio_val",I[B.audioTie||"vol"]*B.audioReactive),E.drawArrays(E.TRIANGLES,0,6)})}),P.strobe&&Math.floor(k.current*25)%2===0&&(P.backgroundType&&P.backgroundType!=="none"?E.clearColor(1,1,1,.5):E.clearColor(1,1,1,1),E.clear(E.COLOR_BUFFER_BIT)),requestAnimationFrame($e)};return requestAnimationFrame($e),()=>{le&&(le.removeEventListener("webglcontextlost",Z),le.removeEventListener("webglcontextrestored",_e)),C.current.forEach(W=>{E&&W&&E.deleteTexture(W)}),C.current.clear(),U.current&&E&&(E.deleteProgram(U.current),U.current=null)}},[]);const X=r.feedback+(r.feedbackDrive?15:0),j=[];X>0&&j.push(`blur(${X}px)`),r.bloom>0&&j.push(`brightness(${1+r.bloom})`),r.blur>0&&j.push(`blur(${r.blur}px)`),r.invert&&j.push("invert(1)"),r.colorShift>0&&j.push(`hue-rotate(${r.colorShift}deg)`),r.sharpen>0&&j.push(`contrast(${1+r.sharpen*.1})`),r.rgbShift>0;const ae={filter:j.length>0?j.join(" "):"none",backgroundColor:r.backgroundType&&r.backgroundType!=="none"?"transparent":"#1e1e1e",zIndex:1,position:"relative",mixBlendMode:(r.backgroundType&&r.backgroundType!=="none","normal")};return f.jsx("canvas",{ref:v,className:"w-full h-full block relative",style:ae})});bg.displayName="ShaderCanvas";const RC=({playhead:i,isPlaying:t,isExporting:o,overlayMode:l,canUndo:r,canRedo:d,onExit:m,onPlayPause:g,onReset:y,onExport:v,onSaveProject:x,onLoadProject:_,onUndo:S,onRedo:C,onCycleOverlay:D,onZenMode:k,onPresets:R,onHelp:U,audioRef:X,analyzerRef:j,initAudio:oe,setPlayhead:ae,setIsPlaying:E,logoHold:Z=!1,onLogoHold:_e})=>{const le=()=>{ae(0),X.current&&(X.current.currentTime=0),E(!1),y()},xe=()=>{g()};return f.jsxs("header",{className:"flex justify-between items-center bg-[#1a1a1a] p-2.5 px-6 rounded-xl border border-white/5 shrink-0 z-50 relative overflow-hidden shadow-2xl",children:[f.jsxs("div",{className:"flex items-center gap-4 cursor-pointer group",onClick:m,children:[f.jsx("div",{className:"p-2 bg-[#ffdc5e]/10 rounded-lg group-hover:bg-[#ffdc5e]/20 transition-all duration-300 group-hover:scale-110 group-hover:shadow-[0_0_20px_rgba(255,220,94,0.4)]",children:f.jsx(ti,{className:"text-[#ffdc5e] group-hover:animate-pulse",size:22})}),f.jsx("h2",{className:"font-black tracking-tighter text-sm text-slate-100 uppercase group-hover:text-[#ffdc5e] transition-colors duration-300",children:"EP_STUDIO_V32_11"})]}),f.jsxs("div",{className:"flex items-center gap-5 bg-[#0a0a0a] px-6 py-2 rounded-full border border-white/5 shadow-inner",children:[f.jsx("button",{onClick:le,className:"p-1.5 text-slate-500 hover:text-white transition-all duration-300 hover:rotate-[-90deg] hover:scale-110 active:scale-95",title:"Reset Playhead",children:f.jsx(bc,{size:14})}),f.jsx("button",{onClick:xe,className:`px-8 py-2 rounded-full text-[11px] font-black uppercase transition-all duration-300 transform ${t?"bg-[#ffdc5e] text-black shadow-[0_0_25px_#ffdc5e99] scale-105":"bg-[#2a2a2a] text-white hover:bg-[#333] hover:scale-105"} active:scale-95`,children:t?"Stop":"Play"}),f.jsxs("div",{className:"font-mono font-bold text-2xl text-[#ffdc5e] min-w-[120px] text-center drop-shadow-[0_0_10px_#ffdc5e44]",children:[i.toFixed(2),"s"]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:D,className:`p-3 rounded-xl transition-all duration-300 transform ${l!=="none"?"bg-[#ffdc5e] text-black shadow-[0_0_15px_#ffdc5e99] scale-105":"bg-[#2a2a2a] text-slate-400 hover:text-white hover:bg-[#333]"} hover:scale-110 active:scale-95`,title:"Cycle Neural Overlay Mode",children:f.jsx(n2,{size:18})}),R&&f.jsx("button",{onClick:R,className:"p-3 bg-[#2a2a2a] rounded-xl text-slate-400 hover:text-white transition-all duration-300 hover:scale-110 hover:bg-[#333] active:scale-95 hover:shadow-[0_0_10px_rgba(255,255,255,0.1)]",title:"Presets Manager",children:f.jsx(gg,{size:18})}),f.jsxs("button",{onClick:v,disabled:o,className:"flex items-center gap-2 px-6 py-2.5 rounded-xl font-black uppercase text-[10px] transition-all duration-300 border bg-[#2a2a2a] border-white/10 text-slate-200 hover:bg-[#333] hover:border-white/20 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",title:"Export Video/Frame (Cmd+E)",children:[o?f.jsx(ir,{size:16,className:"animate-spin"}):f.jsx(Si,{size:16,className:"transition-transform group-hover:scale-110"}),o?"Exporting...":"Render"]}),f.jsx("button",{onClick:x,className:"p-3 bg-[#2a2a2a] rounded-xl text-slate-400 hover:text-white transition-all duration-300 hover:scale-110 hover:bg-[#333] active:scale-95 hover:shadow-[0_0_10px_rgba(255,255,255,0.1)]",title:"Save Project (Cmd+S)",children:f.jsx(Ml,{size:18})}),f.jsx("button",{onClick:_,className:"p-3 bg-[#2a2a2a] rounded-xl text-slate-400 hover:text-white transition-all duration-300 hover:scale-110 hover:bg-[#333] active:scale-95 hover:shadow-[0_0_10px_rgba(255,255,255,0.1)]",title:"Load Project (Cmd+O)",children:f.jsx(or,{size:18})}),f.jsx("button",{onClick:S,disabled:!r,className:"p-3 bg-[#2a2a2a] rounded-xl text-slate-400 hover:text-white transition-all duration-300 hover:scale-110 hover:bg-[#333] active:scale-95 disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:bg-[#2a2a2a]",title:"Undo (Cmd+Z)",children:f.jsx(bc,{size:18})}),f.jsx("button",{onClick:C,disabled:!d,className:"p-3 bg-[#2a2a2a] rounded-xl text-slate-400 hover:text-white transition-all duration-300 hover:scale-110 hover:bg-[#333] active:scale-95 disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:bg-[#2a2a2a]",title:"Redo (Cmd+Shift+Z)",children:f.jsx(bc,{size:18,className:"rotate-180"})}),f.jsx("button",{onClick:k,className:"p-3 bg-[#2a2a2a] rounded-xl text-slate-400 hover:text-white transition-all duration-300 hover:scale-110 hover:bg-[#333] active:scale-95 hover:shadow-[0_0_10px_rgba(255,255,255,0.1)]",title:"Zen Mode",children:f.jsx(yg,{size:18})}),U&&f.jsx("button",{onClick:U,className:"p-3 bg-[#2a2a2a] rounded-xl text-slate-400 hover:text-white transition-all duration-300 hover:scale-110 hover:bg-[#333] active:scale-95 hover:shadow-[0_0_10px_rgba(255,255,255,0.1)]",title:"Keyboard Shortcuts (?)",children:f.jsx(s2,{size:18})}),_e&&f.jsx("button",{onClick:_e,className:`p-3 rounded-xl transition-all duration-300 hover:scale-110 active:scale-95 ${Z?"bg-[#ffdc5e] text-black shadow-[0_0_15px_#ffdc5e99]":"bg-[#2a2a2a] text-slate-400 hover:text-white hover:bg-[#333]"}`,title:Z?"Logo freigeben":"Logo halten",children:Z?f.jsx(ni,{size:18}):f.jsx(Aa,{size:18})})]})]})};let $s=null,x0=!1,_0=!1;const IC=async()=>{if(!(x0||_0))try{typeof window<"u"&&($s=(await Ey(()=>import("./index-Bvj6dsbA.js"),__vite__mapDeps([0,1,2]))).default,x0=!0)}catch(i){console.warn("Monaco Editor failed to load:",i),_0=!0}},kC=({shader:i,error:t,onChange:o})=>{const[l,r]=F.useState(!1);return F.useEffect(()=>{IC().then(()=>{$s&&r(!0)})},[]),i?f.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300 h-full flex flex-col",children:[f.jsxs("div",{className:"bg-[#0a0a0a] p-4 rounded-2xl border border-white/5 shadow-inner flex-grow flex flex-col overflow-hidden",children:[f.jsxs("h3",{className:"text-[10px] font-black uppercase text-[#ffdc5e] mb-3 flex items-center gap-2 tracking-widest shrink-0",children:[f.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})}),"Shader Source"]}),f.jsx("div",{className:"flex-grow overflow-hidden rounded-lg border border-white/5",children:l&&$s?f.jsx($s,{height:"100%",defaultLanguage:"glsl",value:i.code,onChange:d=>o(d||""),theme:"vs-dark",loading:f.jsx("div",{className:"text-slate-400 text-xs p-4",children:"Loading editor..."}),options:{minimap:{enabled:!1},fontSize:11,fontFamily:"'Fira Code', 'Monaco', 'Courier New', monospace",lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,wordWrap:"on",formatOnPaste:!1,formatOnType:!1,suggestOnTriggerCharacters:!1,quickSuggestions:!1,acceptSuggestionOnEnter:"off",bracketPairColorization:{enabled:!0},colorDecorators:!0,contextmenu:!0,cursorBlinking:"smooth",cursorSmoothCaretAnimation:"on",smoothScrolling:!0,padding:{top:8,bottom:8}}}):f.jsx("textarea",{value:i.code,onChange:d=>o(d.target.value),className:"w-full h-full bg-transparent text-[10px] font-mono text-slate-300 outline-none resize-none custom-scrollbar leading-relaxed p-4",spellCheck:!1,placeholder:"Loading Monaco Editor..."})})]}),t&&f.jsxs("div",{className:"bg-red-950/30 border-2 border-red-500/40 p-4 rounded-xl space-y-2 animate-in slide-in-from-bottom-2",children:[f.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-red-400 uppercase tracking-tighter",children:[f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),f.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),"Validation Failure"]}),f.jsx("div",{className:"text-[9px] font-mono text-red-200/80 max-h-[120px] overflow-y-auto custom-scrollbar-red bg-black/40 p-2 rounded",children:t})]})]}):null},DC=({isOpen:i,onClose:t,onExport:o,isExporting:l,progress:r,currentFrame:d,totalFrames:m})=>{const[g,y]=F.useState({format:"mp4",preset:"high",fps:30,quality:.9,resolution:{width:1920,height:1080},bitrate:8e6}),v={high:{fps:60,quality:.95,bitrate:12e6,resolution:{width:1920,height:1080}},medium:{fps:30,quality:.85,bitrate:6e6,resolution:{width:1280,height:720}},low:{fps:24,quality:.7,bitrate:3e6,resolution:{width:854,height:480}}},x=_=>{if(_==="custom")return;const S=v[_];y(C=>({...C,preset:_,...S}))};return i?f.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[9999] flex items-center justify-center p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-[#1a1a1a] border border-white/10 rounded-2xl p-6 max-w-2xl w-full shadow-2xl animate-in zoom-in-95 duration-200",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("h3",{className:"text-lg font-black uppercase text-[#ffdc5e] flex items-center gap-3",children:[f.jsx(Si,{size:20}),"Export Settings"]}),f.jsx("button",{onClick:t,disabled:l,className:"p-2 text-slate-500 hover:text-white transition-all disabled:opacity-30",children:f.jsx(ni,{size:20})})]}),l?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-[#0a0a0a] p-6 rounded-xl border border-white/5",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("span",{className:"text-sm font-black uppercase text-slate-400",children:"Export Progress"}),f.jsx("span",{className:"text-sm font-mono text-[#ffdc5e]",children:d!==void 0&&m!==void 0?`${d}/${m} frames`:`${Math.round(r)}%`})]}),f.jsx("div",{className:"w-full h-3 bg-[#0a0a0a] rounded-full overflow-hidden border border-white/5",children:f.jsx("div",{className:"h-full bg-gradient-to-r from-[#ffdc5e] to-[#f59e0b] transition-all duration-300 shadow-[0_0_20px_#ffdc5e44]",style:{width:`${r}%`}})})]}),f.jsx("div",{className:"text-center text-sm text-slate-400 font-mono",children:g.format==="frame"?"Capturing frame...":`Rendering ${g.format.toUpperCase()}...`})]}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-black uppercase text-slate-500 mb-3 block",children:"Export Format"}),f.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[f.jsxs("button",{onClick:()=>y(_=>({..._,format:"video"})),className:`p-4 rounded-xl border transition-all flex items-center gap-3 ${g.format==="video"?"bg-[#ffdc5e]/10 border-[#ffdc5e] text-[#ffdc5e]":"bg-[#0a0a0a] border-white/5 text-slate-400 hover:border-white/20"}`,children:[f.jsx(Si,{size:20}),f.jsx("span",{className:"text-sm font-black uppercase",children:"WebM"})]}),f.jsxs("button",{onClick:()=>y(_=>({..._,format:"mp4"})),className:`p-4 rounded-xl border transition-all flex items-center gap-3 ${g.format==="mp4"?"bg-[#ffdc5e]/10 border-[#ffdc5e] text-[#ffdc5e]":"bg-[#0a0a0a] border-white/5 text-slate-400 hover:border-white/20"}`,children:[f.jsx(Si,{size:20}),f.jsx("span",{className:"text-sm font-black uppercase",children:"MP4"})]}),f.jsxs("button",{onClick:()=>y(_=>({..._,format:"frame"})),className:`p-4 rounded-xl border transition-all flex items-center gap-3 ${g.format==="frame"?"bg-[#ffdc5e]/10 border-[#ffdc5e] text-[#ffdc5e]":"bg-[#0a0a0a] border-white/5 text-slate-400 hover:border-white/20"}`,children:[f.jsx(x2,{size:20}),f.jsx("span",{className:"text-sm font-black uppercase",children:"Frame"})]})]})]}),(g.format==="video"||g.format==="mp4")&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-black uppercase text-slate-500 mb-3 block",children:"Quality Preset"}),f.jsx("div",{className:"grid grid-cols-4 gap-2",children:["high","medium","low","custom"].map(_=>f.jsx("button",{onClick:()=>x(_),className:`px-4 py-2 rounded-lg text-xs font-black uppercase transition-all border ${g.preset===_?"bg-[#ffdc5e] border-[#ffdc5e] text-black":"bg-[#0a0a0a] border-white/5 text-slate-400 hover:border-white/20"}`,children:_},_))})]}),g.preset==="custom"&&f.jsxs("div",{className:"space-y-4 bg-[#0a0a0a] p-4 rounded-xl border border-white/5",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"text-xs font-black uppercase text-slate-500 mb-2 block",children:["FPS: ",g.fps]}),f.jsx("input",{type:"range",min:"24",max:"60",step:"1",value:g.fps,onChange:_=>y(S=>({...S,fps:parseInt(_.target.value)})),className:"w-full accent-[#ffdc5e]"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"text-xs font-black uppercase text-slate-500 mb-2 block",children:["Bitrate: ",g.bitrate/1e6,"Mbps"]}),f.jsx("input",{type:"range",min:"2000000",max:"20000000",step:"1000000",value:g.bitrate,onChange:_=>y(S=>({...S,bitrate:parseInt(_.target.value)})),className:"w-full accent-[#ffdc5e]"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-black uppercase text-slate-500 mb-2 block",children:"Width"}),f.jsx("input",{type:"number",value:g.resolution.width,onChange:_=>y(S=>({...S,resolution:{...S.resolution,width:parseInt(_.target.value)}})),className:"w-full bg-[#1a1a1a] border border-white/5 p-2 rounded-lg text-sm text-white"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-black uppercase text-slate-500 mb-2 block",children:"Height"}),f.jsx("input",{type:"number",value:g.resolution.height,onChange:_=>y(S=>({...S,resolution:{...S.resolution,height:parseInt(_.target.value)}})),className:"w-full bg-[#1a1a1a] border border-white/5 p-2 rounded-lg text-sm text-white"})]})]})]})]}),f.jsxs("div",{className:"flex gap-3 pt-4 border-t border-white/5",children:[f.jsx("button",{onClick:t,disabled:l,className:"flex-1 px-6 py-3 bg-[#0a0a0a] border border-white/5 rounded-xl text-sm font-black uppercase text-slate-400 hover:text-white transition-all disabled:opacity-30",children:"Cancel"}),f.jsxs("button",{onClick:()=>o(g),disabled:l,className:"flex-1 px-6 py-3 bg-[#ffdc5e] text-black rounded-xl text-sm font-black uppercase hover:bg-[#f59e0b] transition-all flex items-center justify-center gap-2 disabled:opacity-30",children:[f.jsx(Ml,{size:16}),"Export ",g.format==="video"?"Video":"Frame"]})]})]})]})}):null},UC=({isOpen:i,onClose:t,activeClip:o,masterFX:l,onSaveClipPreset:r,onLoadClipPreset:d,onSaveMasterPreset:m,onLoadMasterPreset:g})=>{const[y,v]=F.useState("clip"),[x,_]=F.useState(()=>{const E=localStorage.getItem("ep_clip_presets");return E?JSON.parse(E):[]}),[S,C]=F.useState(()=>{const E=localStorage.getItem("ep_master_presets");return E?JSON.parse(E):[]}),[D,k]=F.useState(""),R=()=>{if(!o||!D.trim())return;const E={id:`cp-${Date.now()}`,name:D.trim(),clip:{params:o.params,automation:o.automation,lfos:o.lfos,blendMode:o.blendMode,audioReactive:o.audioReactive,audioTie:o.audioTie,opacity:o.opacity,fadeIn:o.fadeIn,fadeOut:o.fadeOut}},Z=[...x,E];_(Z),localStorage.setItem("ep_clip_presets",JSON.stringify(Z)),r(E),k("")},U=()=>{if(!D.trim())return;const E={id:`mp-${Date.now()}`,name:D.trim(),fx:{...l}},Z=[...S,E];C(Z),localStorage.setItem("ep_master_presets",JSON.stringify(Z)),m(E),k("")},X=E=>{const Z=x.filter(_e=>_e.id!==E);_(Z),localStorage.setItem("ep_clip_presets",JSON.stringify(Z))},j=E=>{const Z=S.filter(_e=>_e.id!==E);C(Z),localStorage.setItem("ep_master_presets",JSON.stringify(Z))},oe=()=>{const E={clipPresets:x,masterPresets:S,version:"1.0"},Z=new Blob([JSON.stringify(E,null,2)],{type:"application/json"}),_e=URL.createObjectURL(Z),le=document.createElement("a");le.href=_e,le.download=`elastic-pulse-presets-${Date.now()}.json`,le.click(),URL.revokeObjectURL(_e)},ae=()=>{const E=document.createElement("input");E.type="file",E.accept=".json",E.onchange=Z=>{var xe;const _e=(xe=Z.target.files)==null?void 0:xe[0];if(!_e)return;const le=new FileReader;le.onload=Q=>{var se;try{const fe=JSON.parse((se=Q.target)==null?void 0:se.result);fe.clipPresets&&(_(fe.clipPresets),localStorage.setItem("ep_clip_presets",JSON.stringify(fe.clipPresets))),fe.masterPresets&&(C(fe.masterPresets),localStorage.setItem("ep_master_presets",JSON.stringify(fe.masterPresets)))}catch{alert("Failed to import presets. Invalid file format.")}},le.readAsText(_e)},E.click()};return i?f.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[9999] flex items-center justify-center p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-[#1a1a1a] border border-white/10 rounded-2xl p-6 max-w-3xl w-full shadow-2xl animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6 shrink-0",children:[f.jsxs("h3",{className:"text-lg font-black uppercase text-[#ffdc5e] flex items-center gap-3",children:[f.jsx(gg,{size:20}),"Presets Manager"]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:oe,className:"p-2 text-slate-500 hover:text-white transition-all",title:"Export Presets",children:f.jsx(Ml,{size:18})}),f.jsx("button",{onClick:ae,className:"p-2 text-slate-500 hover:text-white transition-all",title:"Import Presets",children:f.jsx(or,{size:18})}),f.jsx("button",{onClick:t,className:"p-2 text-slate-500 hover:text-white transition-all",children:f.jsx(ni,{size:20})})]})]}),f.jsxs("div",{className:"flex gap-2 mb-4 shrink-0",children:[f.jsx("button",{onClick:()=>v("clip"),className:`px-4 py-2 rounded-lg text-xs font-black uppercase transition-all ${y==="clip"?"bg-[#ffdc5e] text-black":"bg-[#0a0a0a] text-slate-400 hover:text-white"}`,children:"Clip Presets"}),f.jsx("button",{onClick:()=>v("master"),className:`px-4 py-2 rounded-lg text-xs font-black uppercase transition-all ${y==="master"?"bg-[#ffdc5e] text-black":"bg-[#0a0a0a] text-slate-400 hover:text-white"}`,children:"Master FX Presets"})]}),f.jsx("div",{className:"flex-grow overflow-hidden flex flex-col",children:y==="clip"?f.jsxs("div",{className:"flex flex-col gap-4 h-full overflow-hidden",children:[f.jsxs("div",{className:"bg-[#0a0a0a] p-4 rounded-xl border border-white/5 flex gap-2 shrink-0",children:[f.jsx("input",{type:"text",value:D,onChange:E=>k(E.target.value),placeholder:"Preset name...",className:"flex-grow bg-[#1a1a1a] border border-white/5 p-2 rounded-lg text-sm text-white outline-none focus:border-[#ffdc5e]",onKeyDown:E=>E.key==="Enter"&&R()}),f.jsxs("button",{onClick:R,disabled:!o||!D.trim(),className:"px-4 py-2 bg-[#ffdc5e] text-black rounded-lg text-xs font-black uppercase hover:bg-[#f59e0b] transition-all disabled:opacity-30 disabled:cursor-not-allowed flex items-center gap-2",children:[f.jsx(y0,{size:16}),"Save"]})]}),f.jsx("div",{className:"flex-grow overflow-y-auto space-y-2 custom-scrollbar",children:x.length===0?f.jsx("div",{className:"text-center text-slate-500 text-sm py-8",children:"No clip presets saved. Create one from the active clip."}):x.map(E=>{var Z;return f.jsxs("div",{className:"bg-[#0a0a0a] p-4 rounded-xl border border-white/5 flex items-center justify-between group",children:[f.jsxs("div",{className:"flex-grow",children:[f.jsx("div",{className:"text-sm font-black uppercase text-white mb-1",children:E.name}),f.jsxs("div",{className:"text-xs text-slate-500 font-mono",children:[Object.keys(E.clip.params||{}).length," params, ",((Z=E.clip.lfos)==null?void 0:Z.length)||0," LFOs"]})]}),f.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>d(E),className:"px-3 py-1.5 bg-[#ffdc5e] text-black rounded-lg text-xs font-black uppercase hover:bg-[#f59e0b] transition-all",children:"Load"}),f.jsx("button",{onClick:()=>X(E.id),className:"p-1.5 text-red-500 hover:text-red-400 transition-all",children:f.jsx(Na,{size:16})})]})]},E.id)})})]}):f.jsxs("div",{className:"flex flex-col gap-4 h-full overflow-hidden",children:[f.jsxs("div",{className:"bg-[#0a0a0a] p-4 rounded-xl border border-white/5 flex gap-2 shrink-0",children:[f.jsx("input",{type:"text",value:D,onChange:E=>k(E.target.value),placeholder:"Preset name...",className:"flex-grow bg-[#1a1a1a] border border-white/5 p-2 rounded-lg text-sm text-white outline-none focus:border-[#ffdc5e]",onKeyDown:E=>E.key==="Enter"&&U()}),f.jsxs("button",{onClick:U,disabled:!D.trim(),className:"px-4 py-2 bg-[#ffdc5e] text-black rounded-lg text-xs font-black uppercase hover:bg-[#f59e0b] transition-all disabled:opacity-30 disabled:cursor-not-allowed flex items-center gap-2",children:[f.jsx(y0,{size:16}),"Save"]})]}),f.jsx("div",{className:"flex-grow overflow-y-auto space-y-2 custom-scrollbar",children:S.length===0?f.jsx("div",{className:"text-center text-slate-500 text-sm py-8",children:"No master FX presets saved. Create one from current master settings."}):S.map(E=>f.jsxs("div",{className:"bg-[#0a0a0a] p-4 rounded-xl border border-white/5 flex items-center justify-between group",children:[f.jsxs("div",{className:"flex-grow",children:[f.jsx("div",{className:"text-sm font-black uppercase text-white mb-1",children:E.name}),f.jsxs("div",{className:"text-xs text-slate-500 font-mono",children:["BPM: ",E.fx.bpm,", Bloom: ",E.fx.bloom.toFixed(2)]})]}),f.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>g(E),className:"px-3 py-1.5 bg-[#ffdc5e] text-black rounded-lg text-xs font-black uppercase hover:bg-[#f59e0b] transition-all",children:"Load"}),f.jsx("button",{onClick:()=>j(E.id),className:"p-1.5 text-red-500 hover:text-red-400 transition-all",children:f.jsx(Na,{size:16})})]})]},E.id))})]})})]})}):null},LC=[{category:"Playback",items:[{key:"Space",desc:"Play/Pause"},{key:"R",desc:"Reset to start"}]},{category:"Timeline",items:[{key:"Cmd/Ctrl + C",desc:"Copy clip"},{key:"Cmd/Ctrl + V",desc:"Paste clip"},{key:"Cmd/Ctrl + X",desc:"Cut clip"},{key:"Cmd/Ctrl + M",desc:"Add marker"},{key:"Cmd/Ctrl + L",desc:"Toggle loop region"}]},{category:"Project",items:[{key:"Cmd/Ctrl + S",desc:"Save project"},{key:"Cmd/Ctrl + O",desc:"Load project"},{key:"Cmd/Ctrl + E",desc:"Export video/frame"}]},{category:"Edit",items:[{key:"Cmd/Ctrl + Z",desc:"Undo"},{key:"Cmd/Ctrl + Shift + Z",desc:"Redo"},{key:"Delete",desc:"Delete selected clip"}]},{category:"Navigation",items:[{key:"Escape",desc:"Close context menu"},{key:"Tab",desc:"Switch inspector tabs"}]},{category:"Master Effects",items:[{key:"1",desc:"Toggle Strobe"},{key:"2",desc:"Toggle Blackout"},{key:"3",desc:"Toggle Invert"},{key:"4",desc:"Toggle Freeze"},{key:"5",desc:"Toggle Edge Detection"},{key:"6",desc:"Toggle Scanlines"},{key:"7",desc:"Toggle Mirror Flip"},{key:"8",desc:"Toggle Chroma Burst"},{key:"9",desc:"Toggle Zoom Punch"}]}],zC=({isOpen:i,onClose:t})=>i?f.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[9999] flex items-center justify-center p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-[#1a1a1a] border border-white/10 rounded-2xl p-6 max-w-2xl w-full shadow-2xl animate-in zoom-in-95 duration-200 max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("h3",{className:"text-lg font-black uppercase text-[#ffdc5e] flex items-center gap-3",children:[f.jsx(b2,{size:20}),"Keyboard Shortcuts"]}),f.jsx("button",{onClick:t,className:"p-2 text-slate-500 hover:text-white transition-all",children:f.jsx(ni,{size:20})})]}),f.jsx("div",{className:"space-y-6",children:LC.map((o,l)=>f.jsxs("div",{className:"space-y-3",children:[f.jsx("h4",{className:"text-xs font-black uppercase text-slate-400 tracking-wider",children:o.category}),f.jsx("div",{className:"space-y-2",children:o.items.map((r,d)=>f.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#0a0a0a] rounded-xl border border-white/5",children:[f.jsx("span",{className:"text-sm text-slate-300",children:r.desc}),f.jsx("kbd",{className:"px-3 py-1.5 bg-[#1a1a1a] border border-white/10 rounded-lg text-xs font-mono text-[#ffdc5e] font-black",children:r.key})]},d))})]},l))}),f.jsx("div",{className:"mt-6 pt-6 border-t border-white/5 text-center",children:f.jsxs("p",{className:"text-xs text-slate-500",children:["Press ",f.jsx("kbd",{className:"px-2 py-1 bg-[#0a0a0a] border border-white/10 rounded text-[#ffdc5e]",children:"?"})," to toggle this help"]})})]})}):null,PC=({isVisible:i,onToggle:t})=>{const[o,l]=F.useState(0),[r,d]=F.useState(0),[m,g]=F.useState(null),y=F.useRef(0),v=F.useRef(performance.now()),x=F.useRef([]);if(F.useEffect(()=>{if(!i)return;let C;const D=()=>{const k=performance.now(),R=k-v.current;v.current=k,x.current.push(R),x.current.length>60&&x.current.shift();const U=x.current.reduce((X,j)=>X+j,0)/x.current.length;if(d(U),l(Math.round(1e3/U)),"memory"in performance){const X=performance.memory;g({used:Math.round(X.usedJSHeapSize/1048576),total:Math.round(X.totalJSHeapSize/1048576)})}y.current++,C=requestAnimationFrame(D)};return C=requestAnimationFrame(D),()=>cancelAnimationFrame(C)},[i]),!i)return f.jsx("button",{onClick:t,className:"fixed bottom-4 right-4 p-3 bg-[#1a1a1a] border border-white/10 rounded-xl text-slate-400 hover:text-white transition-all hover:scale-105 z-50 shadow-lg",title:"Show Performance Monitor",children:f.jsx(ti,{size:18})});const _=o>=55?"text-green-400":o>=30?"text-yellow-400":"text-red-400",S=r<20?"text-green-400":r<33?"text-yellow-400":"text-red-400";return f.jsxs("div",{className:"fixed bottom-4 right-4 bg-[#1a1a1a] border border-white/10 rounded-xl p-4 shadow-2xl z-50 min-w-[200px] animate-in slide-in-from-bottom-2 duration-200",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("h4",{className:"text-xs font-black uppercase text-[#ffdc5e] flex items-center gap-2",children:[f.jsx(ti,{size:14}),"Performance"]}),f.jsx("button",{onClick:t,className:"p-1 text-slate-500 hover:text-white transition-all",children:f.jsx(ni,{size:14})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-xs text-slate-400",children:"FPS"}),f.jsx("span",{className:`text-sm font-mono font-black ${_}`,children:o})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-xs text-slate-400",children:"Frame Time"}),f.jsxs("span",{className:`text-sm font-mono font-black ${S}`,children:[r.toFixed(1),"ms"]})]}),m&&f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-xs text-slate-400",children:"Memory"}),f.jsxs("span",{className:"text-sm font-mono font-black text-slate-300",children:[m.used,"MB / ",m.total,"MB"]})]}),f.jsx("div",{className:"pt-2 border-t border-white/5",children:f.jsx("div",{className:"h-1 bg-[#0a0a0a] rounded-full overflow-hidden",children:f.jsx("div",{className:`h-full transition-all ${o>=55?"bg-green-500":o>=30?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(100,o/60*100)}%`}})})})]})]})},GC=({devices:i,isConnected:t,activeDevice:o,learnedMappings:l,learnMode:r,bpm:d,onConnect:m,onDisconnect:g,onStartLearn:y,onCancelLearn:v,onRemoveMapping:x,onUpdateMapping:_})=>{const S=[{id:"masterBPM",label:"Master BPM",type:"cc"},{id:"masterBloom",label:"Master Bloom",type:"cc"},{id:"masterFeedback",label:"Master Feedback",type:"cc"},{id:"playPause",label:"Play/Pause",type:"note"},{id:"reset",label:"Reset",type:"note"}];return f.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[f.jsxs("div",{className:"bg-[#232323] p-5 rounded-2xl border border-white/5 space-y-4 shadow-xl",children:[f.jsxs("h3",{className:"text-[10px] font-black uppercase text-slate-500 flex items-center gap-2",children:[f.jsx(Xs,{size:14}),"MIDI Connection"]}),t?f.jsx("div",{className:"space-y-3",children:f.jsxs("div",{className:"p-4 bg-[#0a0a0a] border border-[#ffdc5e]/30 rounded-xl",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("div",{className:"text-sm font-black uppercase text-[#ffdc5e]",children:o==null?void 0:o.name}),f.jsx("button",{onClick:g,className:"p-1.5 text-slate-500 hover:text-red-500 transition-colors",children:f.jsx(ni,{size:16})})]}),d&&f.jsxs("div",{className:"text-xs text-slate-400 font-mono",children:["MIDI Clock: ",d," BPM"]})]})}):f.jsx("div",{className:"space-y-3",children:i.length===0?f.jsxs("div",{className:"text-center py-8 text-slate-500 text-sm",children:[f.jsx(Xs,{size:32,className:"mx-auto mb-3 opacity-30"}),f.jsx("p",{children:"No MIDI devices found"}),f.jsx("p",{className:"text-xs mt-2",children:"Connect a MIDI device and refresh"})]}):f.jsx("div",{className:"space-y-2",children:i.map(C=>f.jsx("button",{onClick:()=>m(C.id),className:"w-full p-4 bg-[#0a0a0a] border border-white/5 rounded-xl hover:border-[#ffdc5e]/40 transition-all text-left group",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-black uppercase text-white",children:C.name}),C.manufacturer&&f.jsx("div",{className:"text-xs text-slate-500 mt-1",children:C.manufacturer})]}),f.jsx(Xs,{size:18,className:"text-slate-500 group-hover:text-[#ffdc5e] transition-colors"})]})},C.id))})})]}),t&&f.jsxs("div",{className:"bg-[#232323] p-5 rounded-2xl border border-white/5 space-y-4 shadow-xl",children:[f.jsxs("h3",{className:"text-[10px] font-black uppercase text-slate-500 flex items-center gap-2",children:[f.jsx(Y2,{size:14}),"MIDI Learn"]}),r&&f.jsx("div",{className:"p-4 bg-[#ffdc5e]/10 border-2 border-[#ffdc5e] rounded-xl animate-pulse",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-black uppercase text-[#ffdc5e]",children:"Learning..."}),f.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:[r.type==="cc"?"Move a control":"Press a key"," on your MIDI device"]})]}),f.jsx("button",{onClick:v,className:"p-2 text-slate-500 hover:text-white transition-colors",children:f.jsx(ni,{size:16})})]})}),f.jsx("div",{className:"space-y-2",children:S.map(C=>{const D=l.find(R=>R.parameter===C.id),k=(r==null?void 0:r.parameter)===C.id;return f.jsxs("div",{className:"p-3 bg-[#0a0a0a] border border-white/5 rounded-xl",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-xs font-black uppercase text-slate-300",children:C.label}),D?f.jsx("button",{onClick:()=>x(C.id),className:"p-1 text-slate-500 hover:text-red-500 transition-colors",title:"Remove mapping",children:f.jsx(Na,{size:12})}):f.jsx("button",{onClick:()=>y(C.id,C.type),disabled:!!r,className:"px-3 py-1 bg-[#ffdc5e]/10 border border-[#ffdc5e]/30 text-[#ffdc5e] rounded text-[9px] font-black uppercase hover:bg-[#ffdc5e]/20 transition-all disabled:opacity-30 disabled:cursor-not-allowed",children:k?"Learning...":"Learn"})]}),D&&f.jsx("div",{className:"text-[9px] font-mono text-slate-500",children:D.type==="cc"?`CC ${D.controller} (Ch ${(D.channel||0)+1})`:`Note ${D.note} (Ch ${(D.channel||0)+1})`})]},C.id)})}),l.length>0&&f.jsxs("div",{className:"pt-4 border-t border-white/5",children:[f.jsxs("div",{className:"text-[9px] font-black uppercase text-slate-500 mb-2",children:["Active Mappings (",l.length,")"]}),f.jsx("div",{className:"space-y-1",children:l.map(C=>f.jsxs("div",{className:"text-[8px] font-mono text-slate-600 bg-[#0a0a0a] px-2 py-1 rounded",children:[C.parameter,": ",C.type==="cc"?`CC${C.controller}`:`Note${C.note}`]},C.parameter))})]})]})]})},HC=({type:i,time:t,width:o,height:l})=>{const r=F.useRef(null),d=F.useRef(null);return F.useEffect(()=>{const m=r.current;if(!m||i==="none"){d.current&&(cancelAnimationFrame(d.current),d.current=null);return}const g=m.getContext("2d",{alpha:!0});if(!g)return;const y=()=>{if(!m||!g)return;const x=m.parentElement;let _=o||1920,S=l||1080;if(x){const C=x.getBoundingClientRect();C.width>0&&C.height>0&&(_=C.width,S=C.height)}if((m.width!==_||m.height!==S)&&(m.width=_,m.height=S),!(_===0||S===0))switch(g.clearRect(0,0,_,S),i){case"gradient":{const C=g.createLinearGradient(0,0,_,S),D=t*50%360;C.addColorStop(0,`hsl(${D}, 70%, 40%)`),C.addColorStop(1,`hsl(${(D+60)%360}, 70%, 30%)`),g.fillStyle=C,g.fillRect(0,0,_,S);break}case"noise":{const C=g.createImageData(_,S),D=C.data;for(let k=0;k<D.length;k+=4){const R=Math.random()*.2;D[k]=R*255,D[k+1]=R*255,D[k+2]=R*255,D[k+3]=255}g.putImageData(C,0,0);break}case"grid":{g.fillStyle="rgba(0, 0, 0, 0.5)",g.fillRect(0,0,_,S),g.strokeStyle="rgba(255, 255, 255, 0.2)",g.lineWidth=1;const C=50,D=t*10%C,k=t*10%C;for(let R=-D;R<_;R+=C)g.beginPath(),g.moveTo(R,0),g.lineTo(R,S),g.stroke();for(let R=-k;R<S;R+=C)g.beginPath(),g.moveTo(0,R),g.lineTo(_,R),g.stroke();break}case"particles":{g.fillStyle="rgba(0, 0, 0, 0.5)",g.fillRect(0,0,_,S),g.fillStyle="rgba(255, 220, 94, 0.7)";const C=50;for(let D=0;D<C;D++){const k=(_*.5+Math.sin(t+D)*_*.3+(t*20+D*10)%_)%_,R=(S*.5+Math.cos(t*.7+D)*S*.3+(t*15+D*7)%S)%S;g.beginPath(),g.arc(k,R,3+Math.sin(t+D)*2,0,Math.PI*2),g.fill()}break}case"waves":{g.fillStyle="rgba(0, 0, 0, 0.5)",g.fillRect(0,0,_,S),g.strokeStyle="rgba(255, 220, 94, 0.5)",g.lineWidth=2;for(let C=0;C<5;C++){g.beginPath();const D=30+C*10,k=.01+C*.005;for(let R=0;R<_;R+=2){const U=S/2+Math.sin(R*k+t*2+C)*D;R===0?g.moveTo(R,U):g.lineTo(R,U)}g.stroke()}break}case"ken-burns-1":{const C=1+t%10*.02,D=t%10*_*.05,k=t%10*S*.03;g.save(),g.translate(_/2,S/2),g.scale(C,C),g.translate(-_/2+D,-S/2+k);const R=g.createRadialGradient(_/2,S/2,0,_/2,S/2,_);R.addColorStop(0,`hsl(${t*20%360}, 70%, 30%)`),R.addColorStop(1,`hsl(${(t*20+60)%360}, 70%, 15%)`),g.fillStyle=R,g.fillRect(-_,-S,_*3,S*3),g.fillStyle=`rgba(255, 220, 94, ${.2+Math.sin(t)*.1})`,g.beginPath(),g.arc(_*.3,S*.3,100+Math.sin(t)*20,0,Math.PI*2),g.fill(),g.restore();break}case"ken-burns-2":{const C=1.2+Math.sin(t*.5)*.1,D=Math.sin(t*.3)*_*.2,k=Math.cos(t*.3)*S*.2;g.save(),g.translate(_/2,S/2),g.scale(C,C),g.rotate(t*.1),g.translate(-_/2+D,-S/2+k);const R=g.createLinearGradient(0,0,_,S);R.addColorStop(0,`hsl(${t*30%360}, 60%, 25%)`),R.addColorStop(.5,`hsl(${(t*30+120)%360}, 60%, 15%)`),R.addColorStop(1,`hsl(${(t*30+240)%360}, 60%, 25%)`),g.fillStyle=R,g.fillRect(-_,-S,_*3,S*3),g.strokeStyle=`rgba(255, 220, 94, ${.3+Math.sin(t*2)*.1})`,g.lineWidth=3;for(let U=0;U<6;U++){g.beginPath();const X=Math.PI*2/6*U+t,j=_/2+Math.cos(X)*150,oe=S/2+Math.sin(X)*150;g.moveTo(_/2,S/2),g.lineTo(j,oe),g.stroke()}g.restore();break}case"ken-burns-3":{const C=1+t%8*.03,D=Math.cos(t*.4)*_*.15,k=Math.sin(t*.4)*S*.15;g.save(),g.translate(_/2,S/2),g.scale(C,C),g.translate(-_/2+D,-S/2+k);const R=t*15%360,U=g.createRadialGradient(_*.7,S*.3,0,_*.7,S*.3,_*1.5);U.addColorStop(0,`hsla(${R}, 80%, 35%, 0.9)`),U.addColorStop(1,`hsla(${(R+180)%360}, 80%, 15%, 0.9)`),g.fillStyle=U,g.fillRect(-_,-S,_*3,S*3),g.fillStyle="rgba(255, 220, 94, 0.6)";for(let X=0;X<30;X++){const j=Math.PI*2/30*X+t,oe=80+Math.sin(t*2+X)*30,ae=_*.7+Math.cos(j)*oe,E=S*.3+Math.sin(j)*oe;g.beginPath(),g.arc(ae,E,3+Math.sin(t+X)*2,0,Math.PI*2),g.fill()}g.restore();break}}};y();const v=()=>{y(),d.current=requestAnimationFrame(v)};return d.current=requestAnimationFrame(v),()=>{d.current&&(cancelAnimationFrame(d.current),d.current=null)}},[i,t,o,l]),i==="none"?null:f.jsx("div",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{zIndex:0,top:0,left:0,right:0,bottom:0},children:f.jsx("canvas",{ref:r,className:"absolute inset-0 w-full h-full",style:{display:"block",position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"}})})},qC=(i,t,o,l,r,d,m,g)=>{const[y,v]=F.useState({sub:0,bass:0,lowMid:0,mid:0,highMid:0,treble:0,presence:0,vol:0,kick:0,snare:0}),[x,_]=F.useState([]),[S,C]=F.useState("No Track Loaded"),[D,k]=F.useState(null),R=F.useRef(null),U=F.useRef(null),X=F.useRef(null),j=F.useRef(!1),oe=F.useRef(!1),ae=F.useRef(null);F.useRef(null),F.useRef(null),F.useRef(null),F.useRef(null),F.useRef(null),F.useRef(null),F.useRef(null),F.useRef(null);const E=F.useRef([]),Z=F.useRef(0),_e=async()=>{if(!(!U.current||!o))try{U.current.currentTime=0,await U.current.play(),await new Promise(Q=>setTimeout(Q,100)),U.current.pause(),U.current.currentTime=0}catch{}};F.useEffect(()=>{U.current&&o&&(U.current.volume=l,i?(U.current.currentTime!==r&&(U.current.currentTime=r),_e().then(()=>{U.current&&i&&(U.current.currentTime=r,U.current.play().catch(()=>{}))})):U.current&&(U.current.pause(),U.current.currentTime=r))},[i,o,l]);const le=async()=>{R.current||(R.current=new(window.AudioContext||window.webkitAudioContext));const Q=R.current;Q.state==="suspended"&&await Q.resume(),X.current||(X.current=Q.createAnalyser(),X.current.fftSize=1024,X.current.smoothingTimeConstant=.5);const se=new Uint8Array(X.current.frequencyBinCount);if(U.current&&o&&!j.current)try{Q.createMediaElementSource(U.current).connect(X.current),X.current.connect(Q.destination),j.current=!0}catch{}else if(!j.current)try{const te=await navigator.mediaDevices.getUserMedia({audio:!0});Q.createMediaStreamSource(te).connect(X.current),j.current=!0}catch{}const fe=(te,pe)=>{let ge=0;for(let I=te;I<pe;I++)ge+=se[I];return ge/((pe-te)*255)};let qe=0,$e=0;const V=()=>{if(!X.current||!oe.current){ae.current=null;return}X.current.getByteFrequencyData(se);const te={sub:fe(0,3),bass:fe(3,12),lowMid:fe(12,30),mid:fe(30,80),highMid:fe(80,150),treble:fe(150,250),presence:fe(250,512),vol:0,kick:0,snare:0};te.vol=(te.bass+te.mid+te.treble)/3,te.kick=Math.max(0,te.bass-qe)*5,te.snare=Math.max(0,te.mid-$e)*5;const pe=performance.now();if(te.kick>.3&&pe-Z.current>200&&(E.current.push(pe),Z.current=pe,E.current.length>10&&E.current.shift(),E.current.length>=4)){const ge=[];for(let ee=1;ee<E.current.length;ee++)ge.push(E.current[ee]-E.current[ee-1]);ge.sort((ee,re)=>ee-re);const I=ge[Math.floor(ge.length/2)],P=Math.round(6e4/I);P>=60&&P<=200&&(k(P),g&&g(P))}qe=te.bass,$e=te.mid,v(ge=>{const I={...ge};return Object.keys(te).forEach(P=>{const ee=te[P],re=ge[P],me=ee>re?.35:.12;I[P]=re+(ee-re)*me}),I}),ae.current=requestAnimationFrame(V)},W=i||t.some(te=>te.audioReactive>0);W&&!oe.current?(oe.current=!0,ae.current=requestAnimationFrame(V)):!W&&oe.current&&(oe.current=!1,ae.current!==null&&(cancelAnimationFrame(ae.current),ae.current=null))};return F.useEffect(()=>(!(i||t.some(se=>se.audioReactive>0))&&oe.current&&(oe.current=!1,ae.current!==null&&(cancelAnimationFrame(ae.current),ae.current=null)),()=>{ae.current!==null&&cancelAnimationFrame(ae.current)}),[i,t]),{analysis:y,waveformPeaks:x,audioFileName:S,detectedBPM:D,audioRef:U,analyzerRef:X,initAudio:le,handleAudioUpload:Q=>{var $e;const se=($e=Q.target.files)==null?void 0:$e[0];if(!se)return null;C(se.name);const fe=URL.createObjectURL(se);U.current&&(U.current.src=fe),j.current=!1;const qe=new FileReader;return qe.onload=async V=>{var P;R.current||(R.current=new(window.AudioContext||window.webkitAudioContext));const W=await R.current.decodeAudioData((P=V.target)==null?void 0:P.result);m&&m(W.duration);const te=W.getChannelData(0),pe=1e3,ge=Math.floor(te.length/pe),I=[];for(let ee=0;ee<pe;ee++){let re=0;for(let me=0;me<ge;me++)re+=Math.abs(te[ee*ge+me]);I.push(re/ge)}_(I.map(ee=>ee/Math.max(...I)))},qe.readAsArrayBuffer(se),fe},setAudioFileName:C}},VC=(i,t)=>{const o=F.useRef([]),l=F.useRef(-1),r=F.useRef(!1),d=50,m=v=>{l.current<o.current.length-1&&(o.current=o.current.slice(0,l.current+1)),o.current.push(JSON.parse(JSON.stringify(v))),o.current.length>d?o.current.shift():l.current++},g=()=>{l.current>0&&(r.current=!0,l.current--,t(JSON.parse(JSON.stringify(o.current[l.current]))))},y=()=>{l.current<o.current.length-1&&(r.current=!0,l.current++,t(JSON.parse(JSON.stringify(o.current[l.current]))))};return F.useEffect(()=>{o.current.length===0&&i.length===0&&m([])},[]),F.useEffect(()=>{if(r.current){r.current=!1;return}const v=setTimeout(()=>{const x=JSON.stringify(i),_=o.current.length>0&&l.current>=0?JSON.stringify(o.current[l.current]):null;x!==_&&m(i)},500);return()=>clearTimeout(v)},[i]),{undo:g,redo:y,canUndo:l.current>0,canRedo:l.current<o.current.length-1}},BC=()=>{const[i,t]=F.useState([]),[o,l]=F.useState(!1),[r,d]=F.useState(null),[m,g]=F.useState([]),[y,v]=F.useState(null),[x,_]=F.useState([]),[S,C]=F.useState(null),D=F.useRef(null),k=F.useRef(null),R=F.useRef([]),U=F.useRef(0),X=F.useRef(new Map);F.useEffect(()=>{(async()=>{if(!navigator.requestMIDIAccess){console.warn("Web MIDI API not supported");return}try{const Q=await navigator.requestMIDIAccess({sysex:!1});D.current=Q;const se=[];Q.inputs.forEach(fe=>{se.push({id:fe.id,name:fe.name,manufacturer:fe.manufacturer||void 0})}),t(se),Q.onstatechange=()=>{const fe=[];Q.inputs.forEach(qe=>{fe.push({id:qe.id,name:qe.name,manufacturer:qe.manufacturer||void 0})}),t(fe)}}catch(Q){console.error("Failed to access MIDI:",Q)}})()},[]);const j=xe=>{if(!D.current)return;const Q=D.current.inputs.get(xe);Q&&(k.current&&(k.current.onmidimessage=null),k.current=Q,d({id:Q.id,name:Q.name,manufacturer:Q.manufacturer||void 0}),l(!0),Q.onmidimessage=se=>{const[fe,qe,$e]=se.data,V=fe&240,W=fe&15,te=se.timeStamp;let pe=null;if(V===144&&$e>0)pe={type:"noteon",channel:W,note:qe,velocity:$e,timestamp:te};else if(V===128||V===144&&$e===0)pe={type:"noteoff",channel:W,note:qe,velocity:$e||0,timestamp:te};else if(V===176)pe={type:"cc",channel:W,controller:qe,value:$e,timestamp:te};else if(fe===248){pe={type:"clock",channel:0,timestamp:te};const ge=performance.now();if(U.current>0){const I=ge-U.current;if(R.current.push(I),R.current.length>24&&R.current.shift(),R.current.length>=12){const P=R.current.reduce((re,me)=>re+me,0)/R.current.length,ee=Math.round(6e4/(P*24));ee>=60&&ee<=200&&C(ee)}}U.current=ge}else fe===250?(pe={type:"start",channel:0,timestamp:te},R.current=[],U.current=performance.now()):fe===252&&(pe={type:"stop",channel:0,timestamp:te});if(pe)if(g(ge=>[...ge.slice(-99),pe]),y){if(pe.type===y.type){const ge={parameter:y.parameter,type:y.type,controller:pe.controller,note:pe.note,channel:pe.channel,min:0,max:127,inverted:!1};_(I=>[...I.filter(P=>P.parameter!==y.parameter),ge]),v(null)}}else x.forEach(ge=>{let I=!1,P=0;if(ge.type==="cc"&&pe.type==="cc"&&pe.controller===ge.controller?(I=!0,P=pe.value/127):ge.type==="note"&&pe.type==="noteon"&&pe.note===ge.note&&(I=!0,P=pe.velocity/127),I){ge.inverted&&(P=1-P);const ee=ge.min+(ge.max-ge.min)*P,re=X.current.get(ge.parameter);re&&re(ee)}})})},oe=()=>{k.current&&(k.current.onmidimessage=null,k.current=null),d(null),l(!1),C(null)},ae=(xe,Q)=>{v({parameter:xe,type:Q})},E=()=>{v(null)},Z=xe=>{_(Q=>Q.filter(se=>se.parameter!==xe))},_e=(xe,Q)=>{_(se=>se.map(fe=>fe.parameter===xe?{...fe,...Q}:fe))},le=(xe,Q)=>(X.current.set(xe,Q),()=>{X.current.delete(xe)});return{devices:i,isConnected:o,activeDevice:r,messages:m.slice(-10),learnMode:y,learnedMappings:x,bpm:S,connectDevice:j,disconnectDevice:oe,startLearn:ae,cancelLearn:E,removeMapping:Z,updateMapping:_e,registerCallback:le}},FC=({onExit:i})=>{var ai;const[t,o]=F.useState(()=>JSON.parse(localStorage.getItem("ep_shaders_v32_11")||JSON.stringify(hC))),[l,r]=F.useState({}),[d,m]=F.useState("all"),[g,y]=F.useState([]),[v,x]=F.useState(0),[_,S]=F.useState(120),[C,D]=F.useState(25),[k,R]=F.useState(!1),[U,X]=F.useState(null),[j,oe]=F.useState("params"),[ae,E]=F.useState(320),[Z,_e]=F.useState("none"),[le,xe]=F.useState(!1),[Q,se]=F.useState({bloom:.2,feedback:0,smoothing:.15,bpm:128,energyBuild:0,strobe:!1,blackout:!1,glitchHit:!1,invert:!1,zoomPunch:!1,chromaBurst:!1,feedbackDrive:!1,mirrorFlip:!1,vignette:0,chromaticAberration:0,masterVolume:1,audioSmoothing:.2,freeze:!1,pixelate:0,edgeDetection:!1,colorShift:0,noise:0,blur:0,sharpen:0,posterize:0,scanlines:!1,rgbShift:0,kaleidoscope:0,fisheye:0,twirl:0,reverb:0,delay:0,delayFeedback:.3,delayTime:.25,distortion:0,lowpass:2e4,highpass:0,compressor:0,backgroundType:"none"}),[fe,qe]=F.useState(""),[$e,V]=F.useState(!1),[W,te]=F.useState(!1),[pe,ge]=F.useState(!0),[I,P]=F.useState(Array(8).fill(!1)),[ee,re]=F.useState(Array(8).fill(!1)),[me,Be]=F.useState(null),[ce,tt]=F.useState(null),[ue,we]=F.useState("intensity"),[Ut,mt]=F.useState(null),[B,ve]=F.useState([]),[be,Fe]=F.useState(null),[Re,gt]=F.useState([]),[ke,St]=F.useState(null),[Vt,Hn]=F.useState(4),[Nt,Ue]=F.useState(!0),[Uo,Ia]=F.useState({}),{undo:Ai,redo:Jn,canUndo:Ce,canRedo:jt}=VC(g,y),{devices:Yt,isConnected:ot,activeDevice:un,learnedMappings:Jt,learnMode:_t,bpm:Tt,connectDevice:so,disconnectDevice:ii,startLearn:fr,cancelLearn:Lo,removeMapping:zo,updateMapping:Po,registerCallback:cn}=BC(),{analysis:oi,waveformPeaks:Ni,audioFileName:pr,detectedBPM:ro,audioRef:ne,analyzerRef:xn,initAudio:wi,handleAudioUpload:Rl}=qC(k,g,me,Q.masterVolume,v,{reverb:Q.reverb,delay:Q.delay,delayFeedback:Q.delayFeedback,delayTime:Q.delayTime,distortion:Q.distortion,lowpass:Q.lowpass,highpass:Q.highpass,compressor:Q.compressor},S,T=>{Tt||se(N=>({...N,bpm:T}))});F.useEffect(()=>{Tt&&se(T=>({...T,bpm:Tt}))},[Tt]),F.useEffect(()=>{const T=cn("masterBPM",Se=>{se(Me=>({...Me,bpm:Math.round(Se)}))}),N=cn("masterBloom",Se=>{se(Me=>({...Me,bloom:Se}))}),M=cn("masterFeedback",Se=>{se(Me=>({...Me,feedback:Se}))}),J=cn("playPause",()=>{R(Se=>!Se)}),ie=cn("reset",()=>{x(0),ne.current&&(ne.current.currentTime=0),R(!1)});return()=>{T(),N(),M(),J(),ie()}},[cn,R,x,ne]);const ze=F.useMemo(()=>g.find(T=>T.id===U),[g,U]),ka=F.useRef(null),uo=F.useRef(null),Zt=F.useRef(null);F.useEffect(()=>{localStorage.setItem("ep_shaders_v32_11",JSON.stringify(t))},[t]);const Il=T=>{const N=Rl(T);N&&Be(N)},kl=async T=>{var N;try{const M=(N=T.target.files)==null?void 0:N[0];if(!M)return;if(!M.type.startsWith("video/")){alert("Bitte whlen Sie eine Video-Datei aus.");return}const J=URL.createObjectURL(M),ie=document.createElement("video");ie.src=J,ie.crossOrigin="anonymous",ie.preload="metadata",ie.muted=!0,await new Promise((Se,Me)=>{const Ee=setTimeout(()=>{Me(new Error("Video metadata loading timeout"))},1e4);ie.onloadedmetadata=()=>{(async()=>{try{if(clearTimeout(Ee),!ie.duration||!isFinite(ie.duration)||ie.duration<=0){Me(new Error("Invalid video duration"));return}const ft=ie.duration;ie.currentTime=Math.min(.1,ft*.1),await new Promise(rt=>setTimeout(rt,300));const st=document.createElement("canvas"),nt=ie.videoWidth||1920,Lt=ie.videoHeight||1080;if(nt<=0||Lt<=0){Me(new Error("Invalid video dimensions"));return}st.width=nt,st.height=Lt;const Bt=st.getContext("2d");let on="";if(Bt&&nt>0&&Lt>0)try{Bt.drawImage(ie,0,0,st.width,st.height),on=st.toDataURL("image/jpeg",.7)}catch(rt){console.warn("Failed to generate thumbnail:",rt)}const Le=g.length>0?Math.max(...g.map(rt=>rt.startTime+rt.duration)):0,Wt={id:`v-${Date.now()}`,shaderId:t.length>0?t[0].id:"",track:0,startTime:Le,duration:ft,timeStretch:1,opacity:1,fadeIn:.5,fadeOut:.5,blendMode:"normal",audioReactive:0,audioTie:"vol",params:{speed:1,intensity:1,color:.5,kaleidoscope:0,mirror:0,glitch:0,contrast:1,saturation:1,brightness:0,hueRotate:0,zoom:0,distort:0,tieEffect:0,feedbackDelay:0,particles:0},automation:{},lfos:[],videoUrl:J,videoElement:ie,isVideo:!0,videoThumbnail:on};y(rt=>[...rt,Wt]),X(Wt.id),Se()}catch(ft){Me(ft)}})()},ie.onerror=ft=>{clearTimeout(Ee),Me(new Error("Video loading failed"))}}),T.target.value=""}catch(M){console.error("Video upload error:",M),alert("Fehler beim Laden des Videos. Bitte versuchen Sie es erneut."),T.target.value=""}},Kn=()=>1/((Q.bpm||120)/60)/(Vt/4),ht=T=>{if(!pe)return T;if(Vt>0){const M=Kn();return Math.round(T/M)*M}const N=.25;return Math.round(T/N)*N},vt=(T,N,M)=>{if(T.button!==0&&M!=="timeline-resize")return;if(T.stopPropagation(),M!=null&&M.startsWith("loop-")&&ke){M==="loop-start"?tt({id:null,type:M,startX:T.clientX,startY:T.clientY,initialStart:ke.start,initialDuration:0,initialTrack:0,initialHeight:ae,initialFadeIn:0,initialFadeOut:0}):M==="loop-end"?tt({id:null,type:M,startX:T.clientX,startY:T.clientY,initialStart:ke.end,initialDuration:0,initialTrack:0,initialHeight:ae,initialFadeIn:0,initialFadeOut:0}):M==="loop-move"&&tt({id:null,type:M,startX:T.clientX,startY:T.clientY,initialStart:ke.start,initialDuration:ke.end-ke.start,initialTrack:0,initialHeight:ae,initialFadeIn:0,initialFadeOut:0});return}N&&X(N);const J=g.find(ie=>ie.id===N);tt({id:N,type:M,startX:T.clientX,startY:T.clientY,initialStart:N?J.startTime:v,initialDuration:N?J.duration:_,initialTrack:N?J.track:0,initialHeight:ae,initialFadeIn:N?J.fadeIn:0,initialFadeOut:N?J.fadeOut:0})},Mi=(T,N)=>{T.preventDefault(),mt({x:T.clientX,y:T.clientY,clipId:N})},Da=T=>{const N=g.find(J=>J.id===T);if(!N)return;const M={...JSON.parse(JSON.stringify(N)),id:`c-${Date.now()}`,startTime:N.startTime+N.duration};y(J=>[...J,M]),X(M.id),mt(null)},co=T=>{const N=g.filter(M=>T.includes(M.id));N.length>0&&(ve(JSON.parse(JSON.stringify(N))),navigator.clipboard.writeText(JSON.stringify(N)).catch(()=>{}))},Ua=T=>{var ie;if(B.length===0)return;const M=(T!==void 0?T:v)-(((ie=B[0])==null?void 0:ie.startTime)||0),J=B.map((Se,Me)=>({...JSON.parse(JSON.stringify(Se)),id:`c-${Date.now()}-${Me}`,startTime:ht(Se.startTime+M)}));y(Se=>[...Se,...J]),J.length>0&&X(J[0].id)},La=T=>{const N=v,M={id:`m-${Date.now()}`,time:ht(N),label:`Marker ${Re.length+1}`};gt(J=>[...J,M].sort((ie,Se)=>ie.time-Se.time))},fo=T=>{gt(N=>N.filter(M=>M.id!==T))},za=T=>{x(T),ne.current&&(ne.current.currentTime=T)},Ri=T=>{const N=T.currentTarget.getBoundingClientRect(),J=(T.clientX-N.left)/N.width*_;x(J),ne.current&&(ne.current.currentTime=J)};F.useEffect(()=>{const T=M=>{if(!ce)return;if(ce.type==="timeline-resize"){E(Math.max(160,Math.min(window.innerHeight*.8,ce.initialHeight+(ce.startY-M.clientY))));return}if(!ka.current)return;const J=(M.clientX-ce.startX)/C;if(ce.type==="loop-start"&&ke){const ie=ht(Math.max(0,Math.min(ke.end-.1,ce.initialStart+J)));St({...ke,start:ie});return}if(ce.type==="loop-end"&&ke){const ie=ht(Math.max(ke.start+.1,Math.min(_,ce.initialStart+J)));St({...ke,end:ie});return}if(ce.type==="loop-move"&&ke){const ie=ke.end-ke.start,Se=ht(Math.max(0,Math.min(_-ie,ce.initialStart+J)));St({start:Se,end:Se+ie});return}if(ce.type==="scrub"){const ie=Math.max(0,Math.min(_,ce.initialStart+J));x(ie),ne.current&&k&&(ne.current.currentTime=ie);return}y(ie=>ie.map(Se=>{if(Se.id!==ce.id)return Se;if(ce.type==="move")return{...Se,startTime:ht(Math.max(0,Math.min(_-Se.duration,ce.initialStart+J))),track:Math.max(0,Math.min(7,ce.initialTrack+Math.round((M.clientY-ce.startY)/(ae/9))))};if(ce.type==="resize-end")return{...Se,duration:ht(Math.max(.1,ce.initialDuration+J))};if(ce.type==="resize-start"){const Me=ht(Math.max(0,ce.initialStart+J));return{...Se,startTime:Me,duration:Math.max(.1,ce.initialDuration-(Me-ce.initialStart))}}if(ce.type==="fade-in")return{...Se,fadeIn:Math.max(0,Math.min(Se.duration-Se.fadeOut,ce.initialFadeIn+J))};if(ce.type==="fade-out")return{...Se,fadeOut:Math.max(0,Math.min(Se.duration-Se.fadeIn,ce.initialFadeOut-J))};if(ce.type==="automation-point"&&ce.automationParam&&ce.automationTime!==void 0&&ce.automationValue!==void 0){const Me=g.find(nt=>nt.id===ce.id);if(!Me)return Se;const Ee=ce.automationParam,ft=[...Me.automation[Ee]||[]],st=ft.findIndex(nt=>nt.t===ce.automationTime);if(st>=0){const nt=Math.max(0,Math.min(1,ce.automationTime+J/Me.duration)),Lt=gC(Ee),Bt=(ce.startY-M.clientY)/(ae*.08),on=Math.max(Lt.min,Math.min(Lt.max,ce.automationValue+Bt*(Lt.max-Lt.min))),Le=[...ft];return Le[st]={...Le[st],t:nt,v:on},{...Se,automation:{...Se.automation,[Ee]:Le}}}}return Se}))},N=()=>tt(null);return window.addEventListener("mousemove",T),window.addEventListener("mouseup",N),()=>{window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",N)}},[ce,pe,_,C,ae,k,ke]),F.useEffect(()=>{if(!k){ne.current&&!ne.current.paused&&ne.current.pause();return}let T,N=performance.now();const M=J=>{if(!k){ne.current&&ne.current.pause();return}const ie=(J-N)/1e3;N=J,x(Se=>{let Me;if(ne.current&&me&&!ne.current.paused&&ne.current.readyState>=2?Me=ne.current.currentTime:Me=Se+ie,ke&&Me>=ke.end){const Ee=ke.start;return ne.current&&me&&(ne.current.currentTime=Ee),Ee}if(Me>=_)if(ke){const Ee=ke.start;return ne.current&&me&&(ne.current.currentTime=Ee),Ee}else return R(!1),ne.current&&ne.current.pause(),0;return Me}),T=requestAnimationFrame(M)};return T=requestAnimationFrame(M),()=>{cancelAnimationFrame(T),ne.current&&!k&&ne.current.pause()}},[k,_,ke,me]);const[Xn,po]=F.useState("linear"),[Ii,wt]=F.useState(!1),[Pa,mo]=F.useState(!1),[$n,ki]=F.useState(!1),nn=T=>{if(!ze)return;const N=(v-ze.startTime)/ze.duration;if(N<0||N>1)return;const M=ze.params[T]??ze[T]??1;y(J=>J.map(ie=>{if(ie.id!==U)return ie;const Se=[...ie.automation[T]||[]],Me=Se.findIndex(Ee=>Math.abs(Ee.t-N)<.005);return Me!==-1?Se[Me]={t:N,v:typeof M=="number"?M:1,curve:Xn}:Se.push({t:N,v:typeof M=="number"?M:1,curve:Xn}),{...ie,automation:{...ie.automation,[T]:Se.sort((Ee,ft)=>Ee.t-ft.t)}}}))},Dl=(T,N)=>y(M=>M.map(J=>J.id===U?{...J,automation:{...J.automation,[T]:(J.automation[T]||[]).filter(ie=>ie.t!==N)}}:J)),Go=T=>{if(!ze)return;const N=ze.automation[T]||[];N.length>0&&Fe({param:T,points:JSON.parse(JSON.stringify(N))})},Ul=T=>{if(!be||!ze)return;const N=T||be.param;y(M=>M.map(J=>J.id===U?{...J,automation:{...J.automation,[N]:JSON.parse(JSON.stringify(be.points))}}:J))},Ho=()=>ze&&y(T=>T.map(N=>N.id===U?{...N,lfos:[...N.lfos,{id:`lfo-${Date.now()}`,target:"intensity",type:"sine",freq:1,amp:.5,phase:0,offset:0,sync:!0}]}:N)),ho=F.useMemo(()=>{const T=[],N=C>100?.5:C>40?1:5;for(let M=0;M<=_;M+=N)T.push(M);return T},[_,C]),qn=(T,N)=>{l[T]!==N&&r(M=>({...M,[T]:N}))},dn=()=>{const T=["none","terminal","matrix","blueprint","radar","glitch","hacker","topology","circuit","stars"],N=T.indexOf(Z);_e(T[(N+1)%T.length])},qo=()=>{const T={clips:g,shaders:t,masterFX:Q,totalDuration:_,markers:Re,version:"1.1"},N=new Blob([JSON.stringify(T,null,2)],{type:"application/json"}),M=URL.createObjectURL(N),J=document.createElement("a");J.href=M,J.download=`elastic-pulse-project-${Date.now()}.json`,J.click(),URL.revokeObjectURL(M)},Ga=()=>{const T=document.createElement("input");T.type="file",T.accept="application/json",T.onchange=N=>{var ie;const M=(ie=N.target.files)==null?void 0:ie[0];if(!M)return;const J=new FileReader;J.onload=Se=>{var Me;try{const Ee=JSON.parse((Me=Se.target)==null?void 0:Me.result);Ee.clips&&y(Ee.clips),Ee.shaders&&o(Ee.shaders),Ee.masterFX&&se(Ee.masterFX),Ee.totalDuration&&S(Ee.totalDuration),Ee.markers&&gt(Ee.markers)}catch(Ee){console.error("Failed to load project:",Ee)}},J.readAsText(M)},T.click()},[Di,fn]=F.useState(!1),[Vo,Nn]=F.useState(0),[pn,Ui]=F.useState(void 0),[Ll,Bo]=F.useState(void 0),[Li,Fo]=F.useState(!1),go=async T=>{if(!uo.current||Di)return;const N=uo.current;if(!T){Fo(!0);return}let M=1920,J=1080;T.resolution&&(typeof T.resolution.width=="number"&&T.resolution.width>0&&(M=T.resolution.width),typeof T.resolution.height=="number"&&T.resolution.height>0&&(J=T.resolution.height));const ie={format:T.format||"mp4",preset:T.preset||"high",fps:typeof T.fps=="number"&&T.fps>0?T.fps:30,quality:typeof T.quality=="number"&&T.quality>0?T.quality:.9,resolution:{width:M,height:J},bitrate:typeof T.bitrate=="number"&&T.bitrate>0?T.bitrate:8e6};if(console.log("Export settings received:",T),console.log("Export settings processed:",ie),Fo(!1),ie.format==="frame"){fn(!0),Nn(50);try{await new Promise(nt=>setTimeout(nt,100)),N.toBlob(nt=>{if(nt){const Lt=URL.createObjectURL(nt),Bt=document.createElement("a");Bt.href=Lt,Bt.download=`elastic-pulse-frame-${Date.now()}.png`,document.body.appendChild(Bt),Bt.click(),document.body.removeChild(Bt),URL.revokeObjectURL(Lt),Nn(100),setTimeout(()=>{fn(!1),Nn(0)},500)}else throw new Error("Failed to create blob")},"image/png",1)}catch(nt){console.error("Frame export failed:",nt),alert("Frame export failed. Please try again."),fn(!1),Nn(0)}return}fn(!0);const Me=k,Ee=v,ft=N.width||N.clientWidth||1920,st=N.height||N.clientHeight||1080;try{R(!1),ne.current&&ne.current.pause(),await new Promise(Le=>requestAnimationFrame(Le)),await new Promise(Le=>requestAnimationFrame(Le)),await new Promise(Le=>setTimeout(Le,100));const nt=ie.resolution.width,Lt=ie.resolution.height;N.width=nt,N.height=Lt,await new Promise(Le=>requestAnimationFrame(Le)),await new Promise(Le=>requestAnimationFrame(Le)),await new Promise(Le=>requestAnimationFrame(Le)),await new Promise(Le=>setTimeout(Le,200)),x(0),ne.current&&(ne.current.currentTime=0),await new Promise(Le=>requestAnimationFrame(Le)),await new Promise(Le=>requestAnimationFrame(Le)),await new Promise(Le=>requestAnimationFrame(Le)),await new Promise(Le=>setTimeout(Le,200)),xn.current||await wi(),await new Promise(Le=>requestAnimationFrame(Le)),await new Promise(Le=>requestAnimationFrame(Le)),await new Promise(Le=>requestAnimationFrame(Le)),await new Promise(Le=>setTimeout(Le,150));const Bt=Math.max(ie.fps,60),on=_;try{if(ne.current&&me){ne.current.readyState<2&&await new Promise(Ae=>{const Ye=()=>{ne.current&&ne.current.readyState>=2?Ae():setTimeout(Ye,50)};Ye()}),ne.current.currentTime=0,ne.current.volume=.01;try{await ne.current.play(),await new Promise(Ae=>setTimeout(Ae,200)),ne.current.pause(),ne.current.currentTime=0}catch(Ae){console.warn("Audio warmup failed:",Ae)}if(ne.current.volume=Q.masterVolume,ne.current.currentTime=0,xn.current){const Ae=xn.current.context;Ae&&Ae.state==="suspended"&&await Ae.resume()}}R(!0),await new Promise(Ae=>requestAnimationFrame(Ae)),await new Promise(Ae=>requestAnimationFrame(Ae)),await new Promise(Ae=>requestAnimationFrame(Ae)),await new Promise(Ae=>setTimeout(Ae,200));const Le=3;for(let Ae=0;Ae<Le;Ae++)await new Promise(Ye=>requestAnimationFrame(Ye));await new Promise(Ae=>setTimeout(Ae,50));const Wt=N.captureStream(Bt);if(ne.current&&me)try{ne.current.currentTime=0,await ne.current.play();let Ae=0;for(;ne.current.paused&&Ae<20;)await new Promise(Ye=>setTimeout(Ye,10)),Ae++;await new Promise(Ye=>setTimeout(Ye,50))}catch(Ae){console.warn("Audio play failed:",Ae)}let rt=Wt;if(ne.current&&me&&!ne.current.paused)try{if(ne.current.readyState>=2){const Ae=ne.current.captureStream?ne.current.captureStream():null;Ae&&Ae.getAudioTracks().length>0?(Ae.getAudioTracks().forEach(It=>{Wt.addTrack(It)}),rt=Wt,console.log("Audio track added to export stream")):console.warn("No audio tracks found in stream")}else console.warn("Audio not ready for capture (readyState:",ne.current.readyState,")")}catch(Ae){console.warn("Could not capture audio stream:",Ae)}else console.warn("Audio not available or paused for export");const wn=ie.format!=="mp4"?["video/webm;codecs=vp9,opus","video/webm;codecs=vp9","video/webm;codecs=vp8,opus","video/webm;codecs=vp8","video/webm"]:["video/webm;codecs=vp9,opus","video/webm;codecs=vp9","video/webm;codecs=vp8,opus","video/webm;codecs=vp8","video/webm"];let Mt="";for(const Ae of wn)if(MediaRecorder.isTypeSupported(Ae)){Mt=Ae;break}if(!Mt)throw new Error("No supported video codec found");const zi=ie.resolution.width>=3840?5e7:25e6,li=Math.max(ie.bitrate,zi),De=new MediaRecorder(rt,{mimeType:Mt,videoBitsPerSecond:li,audioBitsPerSecond:ne.current&&me?192e3:void 0}),Rt=[];De.ondataavailable=Ae=>{Ae.data.size>0&&Rt.push(Ae.data)};const an=setInterval(()=>{if(ne.current&&on>0){const Ae=Math.min(99,ne.current.currentTime/on*100);Nn(Ae),Ui(Math.floor(ne.current.currentTime*Bt))}},100);De.onstop=async()=>{clearInterval(an),Nn(100);const Ae=new Blob(Rt,{type:Mt});if(ie.format==="mp4")try{const Ye=URL.createObjectURL(Ae),It=document.createElement("a");It.href=Ye,It.download=`elastic-pulse-export-${Date.now()}.webm`,document.body.appendChild(It),It.click(),document.body.removeChild(It),URL.revokeObjectURL(Ye),alert("Export completed as WebM. For MP4 format, please use a video converter or use the frame-by-frame export option.")}catch(Ye){console.error("Export failed:",Ye),alert("Export failed. Please try again.")}else{const Ye=URL.createObjectURL(Ae),It=document.createElement("a");It.href=Ye,It.download=`elastic-pulse-export-${Date.now()}.webm`,document.body.appendChild(It),It.click(),document.body.removeChild(It),URL.revokeObjectURL(Ye)}N.width=ft,N.height=st,setTimeout(()=>{fn(!1),Nn(0),Ui(void 0),Bo(void 0)},500),x(Ee),ne.current&&(ne.current.currentTime=Ee),R(Me),rt.getTracks().forEach(Ye=>Ye.stop())},De.onerror=Ae=>{console.error("MediaRecorder error:",Ae),clearInterval(an),N.width=ft,N.height=st,fn(!1),x(Ee),R(Me),rt.getTracks().forEach(Ye=>Ye.stop()),alert("Video export failed. Please try exporting a single frame instead.")},await new Promise(Ae=>requestAnimationFrame(Ae)),De.start(10),setTimeout(()=>{De&&De.state!=="inactive"&&De.stop()},on*1e3+500);return}catch(Le){console.error("MediaRecorder failed:",Le),N.width=ft,N.height=st,fn(!1),x(Ee),R(Me),alert("Real-time export failed. Please use Chrome or Edge browser.")}try{R(!0),await new Promise(De=>requestAnimationFrame(De)),await new Promise(De=>requestAnimationFrame(De)),await new Promise(De=>requestAnimationFrame(De)),await new Promise(De=>setTimeout(De,200));const Le=3;for(let De=0;De<Le;De++)await new Promise(Rt=>requestAnimationFrame(Rt));await new Promise(De=>setTimeout(De,50));const Wt=N.captureStream(Bt);if(ne.current&&me)try{ne.current.currentTime=0,await ne.current.play().catch(Rt=>{console.warn("Audio play failed:",Rt)});let De=0;for(;ne.current.paused&&De<20;)await new Promise(Rt=>setTimeout(Rt,10)),De++;await new Promise(Rt=>setTimeout(Rt,50))}catch(De){console.warn("Audio play failed:",De)}let rt=Wt;if(ne.current&&me&&!ne.current.paused)try{if(ne.current.readyState>=2){const De=ne.current.captureStream?ne.current.captureStream():null;De&&De.getAudioTracks().length>0&&(De.getAudioTracks().forEach(an=>{Wt.addTrack(an)}),rt=Wt)}}catch(De){console.warn("Could not capture audio stream:",De)}const Oo=["video/webm;codecs=vp9","video/webm;codecs=vp8","video/webm"];let wn="";for(const De of Oo)if(MediaRecorder.isTypeSupported(De)){wn=De;break}if(!wn)throw new Error("No supported WebM codec found");const Mt=new MediaRecorder(rt,{mimeType:wn,videoBitsPerSecond:ie.bitrate}),zi=[];Mt.ondataavailable=De=>{De.data.size>0&&zi.push(De.data)};const li=setInterval(()=>{if(ne.current&&on>0){const De=Math.min(99,ne.current.currentTime/on*100);Nn(De),Ui(Math.floor(ne.current.currentTime*Bt))}},100);Mt.onstop=()=>{clearInterval(li),Nn(100);const De=new Blob(zi,{type:wn}),Rt=URL.createObjectURL(De),an=document.createElement("a");an.href=Rt,an.download=`elastic-pulse-export-${Date.now()}.webm`,document.body.appendChild(an),an.click(),document.body.removeChild(an),URL.revokeObjectURL(Rt),N.width=ft,N.height=st,setTimeout(()=>{fn(!1),Nn(0),Ui(void 0),Bo(void 0)},500),x(Ee),ne.current&&(ne.current.currentTime=Ee),R(Me),rt.getTracks().forEach(Ae=>Ae.stop())},Mt.onerror=De=>{console.error("MediaRecorder error:",De),clearInterval(li),N.width=ft,N.height=st,fn(!1),x(Ee),R(Me),rt.getTracks().forEach(Rt=>Rt.stop()),alert("Video export failed. Please try exporting a single frame instead.")},await new Promise(De=>requestAnimationFrame(De)),Mt.start(10),setTimeout(()=>{Mt&&Mt.state!=="inactive"&&Mt.stop()},on*1e3+500)}catch(Le){console.error("MediaRecorder failed:",Le),N.width=ft,N.height=st,fn(!1),x(Ee),R(Me),alert("Video export failed. Please use Chrome or Edge browser, or try exporting a single frame.")}}catch(nt){console.error("Export failed:",nt),N.width=ft,N.height=st,fn(!1),x(Ee),R(Me),alert(`Export failed: ${nt instanceof Error?nt.message:"Unknown error"}. Please try again.`)}};return F.useEffect(()=>{const T=N=>{if(!(N.target.tagName==="INPUT"||N.target.tagName==="TEXTAREA"))if(N.code==="Space")N.preventDefault(),!xn.current&&me?wi().then(()=>{R(M=>{const J=!M;return!J&&ne.current&&ne.current.pause(),J})}):R(M=>{const J=!M;return!J&&ne.current&&ne.current.pause(),J});else if(N.key>="1"&&N.key<="9"){N.preventDefault();const M=parseInt(N.key)-1,J=["strobe","blackout","invert","freeze","edgeDetection","scanlines","mirrorFlip","chromaBurst","zoomPunch"];if(M<J.length){const ie=J[M];se(Se=>({...Se,[ie]:!Se[ie]}))}}else if(N.key==="ArrowLeft"&&!N.shiftKey){N.preventDefault();const M=Math.max(0,v-.1);x(M),ne.current&&(ne.current.currentTime=M)}else if(N.key==="ArrowRight"&&!N.shiftKey){N.preventDefault();const M=Math.min(_,v+.1);x(M),ne.current&&(ne.current.currentTime=M)}else(N.metaKey||N.ctrlKey)&&N.key==="s"?(N.preventDefault(),qo()):(N.metaKey||N.ctrlKey)&&N.key==="o"?(N.preventDefault(),Ga()):(N.metaKey||N.ctrlKey)&&N.key==="e"?(N.preventDefault(),go()):(N.metaKey||N.ctrlKey)&&N.key==="z"&&!N.shiftKey?(N.preventDefault(),Ai()):(N.metaKey||N.ctrlKey)&&(N.key==="y"||N.key==="z"&&N.shiftKey)?(N.preventDefault(),Jn()):(N.metaKey||N.ctrlKey)&&N.key==="c"&&U?(N.preventDefault(),N.shiftKey&&j==="auto"?Go(ue):co([U])):(N.metaKey||N.ctrlKey)&&N.key==="v"?(N.preventDefault(),Ua()):(N.metaKey||N.ctrlKey)&&N.key==="x"&&U?(N.preventDefault(),co([U]),y(M=>M.filter(J=>J.id!==U)),X(null)):N.key==="m"&&(N.metaKey||N.ctrlKey)?(N.preventDefault(),La()):N.key==="l"&&(N.metaKey||N.ctrlKey)?(N.preventDefault(),St(ke?null:{start:v,end:Math.min(v+10,_)})):N.key==="?"||N.key==="h"&&(N.metaKey||N.ctrlKey)?(N.preventDefault(),mo(!Pa)):N.key==="Escape"&&(mt(null),mo(!1))};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[k,v,_,U,B,be,j,ue,Re,Ai,Jn,qo,Ga,go,wi,xn,ne,R,x,co,Ua,Go,Ul]),f.jsxs("div",{className:`h-screen flex flex-col p-2 gap-2 bg-[#0d0d0d] text-slate-100 font-sans transition-all overflow-hidden ${W?"p-0 gap-0":""}`,onClick:()=>mt(null),children:[me&&f.jsx("audio",{ref:ne,src:me}),f.jsx(DC,{isOpen:Li,onClose:()=>!Di&&Fo(!1),onExport:go,isExporting:Di,progress:Vo,currentFrame:pn,totalFrames:Ll}),f.jsx(UC,{isOpen:Ii,onClose:()=>wt(!1),activeClip:ze,masterFX:Q,onSaveClipPreset:()=>{},onLoadClipPreset:T=>{ze&&y(N=>N.map(M=>M.id===U?{...M,...T.clip}:M))},onSaveMasterPreset:()=>{},onLoadMasterPreset:T=>{se(T.fx)}}),f.jsx(zC,{isOpen:Pa,onClose:()=>mo(!1)}),f.jsx(PC,{isVisible:$n,onToggle:()=>ki(!$n)}),!W&&f.jsx(RC,{playhead:v,isPlaying:k,isExporting:Di,overlayMode:Z,canUndo:Ce,canRedo:jt,onExit:i,onPlayPause:()=>{!xn.current&&me?wi().then(()=>{R(T=>{const N=!T;return!N&&ne.current&&ne.current.pause(),N})}):R(T=>{const N=!T;return!N&&ne.current&&ne.current.pause(),N})},onReset:()=>{x(0),ne.current&&(ne.current.currentTime=0,ne.current.pause()),R(!1)},onExport:go,onSaveProject:qo,onLoadProject:Ga,onUndo:Ai,onRedo:Jn,onCycleOverlay:dn,onZenMode:()=>te(!0),onPresets:()=>wt(!0),onHelp:()=>mo(!0),audioRef:ne,analyzerRef:xn,initAudio:wi,setPlayhead:x,setIsPlaying:R,logoHold:le,onLogoHold:()=>xe(!le)}),f.jsxs("main",{className:"flex-grow flex gap-2 overflow-hidden relative",children:[!W&&f.jsx("aside",{className:"w-72 flex flex-col gap-2 overflow-hidden animate-in slide-in-from-left duration-700",children:f.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-2xl flex-grow flex flex-col gap-6 overflow-hidden border border-white/5 shadow-2xl",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("h3",{className:"text-[10px] font-black uppercase text-slate-500 flex items-center gap-2 tracking-[0.2em]",children:[f.jsx(_g,{size:14})," Neural Command"]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{value:fe,onChange:T=>qe(T.target.value),placeholder:"Morphology command...",className:"flex-grow bg-[#0a0a0a] border border-white/5 p-3.5 rounded-xl text-[11px] outline-none text-white focus:border-[#ffdc5e]/40 transition-all shadow-inner"}),f.jsx("button",{onClick:async()=>{V(!0);try{const N=await new JE({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-3-pro-preview",contents:`WebGL fragment shader: ${fe}. Uniforms: u_time, u_resolution, u_speed, u_intensity, u_color, u_audio_val, u_opacity, u_distort, u_hue_rotate.`}),M={id:`s-${Date.now()}`,name:fe.substring(0,15),code:N.text||"",color:"#ffdc5e"};o(J=>[...J,M]),qe("")}catch{}finally{V(!1)}},className:"p-3.5 bg-[#2a2a2a] rounded-xl text-[#ffdc5e] hover:bg-[#333] transition-all shadow-md",children:$e?f.jsx(ir,{className:"animate-spin",size:18}):f.jsx(v0,{size:18})})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>{const T=document.createElement("input");T.type="file",T.accept=".glsl,text/plain",T.onchange=N=>{var ie;const M=(ie=N.target.files)==null?void 0:ie[0];if(!M)return;const J=new FileReader;J.onload=Se=>{var st;const Me=(st=Se.target)==null?void 0:st.result,Ee=M.name.replace(/\.glsl$/,""),ft={id:`s-${Date.now()}`,name:Ee||"Imported Shader",code:Me,color:"#ffdc5e"};o(nt=>[...nt,ft])},J.readAsText(M)},T.click()},className:"flex-1 px-3 py-2 bg-[#2a2a2a] rounded-xl text-[10px] font-black uppercase text-slate-300 hover:bg-[#333] transition-all duration-300 flex items-center justify-center gap-2 hover:scale-105 hover:shadow-[0_0_10px_rgba(255,255,255,0.1)] active:scale-95",title:"Import Shader (.glsl)",children:[f.jsx(or,{size:14})," Import"]}),ze&&f.jsxs("button",{onClick:()=>{const T=t.find(ie=>ie.id===ze.shaderId);if(!T)return;const N=new Blob([T.code],{type:"text/plain"}),M=URL.createObjectURL(N),J=document.createElement("a");J.href=M,J.download=`${T.name.replace(/\s+/g,"-")}.glsl`,J.click(),URL.revokeObjectURL(M)},className:"flex-1 px-3 py-2 bg-[#2a2a2a] rounded-xl text-[10px] font-black uppercase text-slate-300 hover:bg-[#333] transition-all duration-300 flex items-center justify-center gap-2 hover:scale-105 hover:shadow-[0_0_10px_rgba(255,255,255,0.1)] active:scale-95",title:"Export Shader (.glsl)",children:[f.jsx(Ml,{size:14})," Export"]})]})]}),f.jsxs("div",{className:"flex-grow flex flex-col gap-4 overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("h3",{className:"text-[10px] font-black uppercase text-slate-500 tracking-[0.2em]",children:["Signal Pool (",t.length,"+)"]}),f.jsxs("label",{className:"px-3 py-1.5 bg-[#ffdc5e]/10 border border-[#ffdc5e]/20 text-[#ffdc5e] rounded-lg text-[9px] font-black uppercase hover:bg-[#ffdc5e]/20 transition-all cursor-pointer flex items-center gap-2",children:[f.jsx(Si,{size:12}),"Video",f.jsx("input",{type:"file",accept:"video/*",onChange:kl,className:"hidden"})]})]}),f.jsxs("select",{value:d,onChange:T=>m(T.target.value),className:"text-[9px] font-black uppercase bg-[#0a0a0a] border border-white/5 px-3 py-1.5 rounded-lg text-slate-300 outline-none focus:border-[#ffdc5e]/40",children:[f.jsx("option",{value:"all",children:"All Categories"}),f.jsx("option",{value:"abstract",children:"Abstract"}),f.jsx("option",{value:"geometric",children:"Geometric"}),f.jsx("option",{value:"organic",children:"Organic"}),f.jsx("option",{value:"particles",children:"Particles"}),f.jsx("option",{value:"distortion",children:"Distortion"}),f.jsx("option",{value:"color",children:"Color"}),f.jsx("option",{value:"audio-reactive",children:"Audio Reactive"}),f.jsx("option",{value:"experimental",children:"Experimental"})]})]}),f.jsx("div",{className:"flex-grow overflow-y-auto space-y-2.5 pr-1 custom-scrollbar",children:t.filter(T=>d==="all"||T.category===d||!T.category&&d==="experimental").sort((T,N)=>{const M=T.category||"zzz",J=N.category||"zzz";return M!==J?M.localeCompare(J):T.name.localeCompare(N.name)}).map(T=>f.jsxs("div",{onClick:()=>{const N=g.length>0?Math.max(...g.map(J=>J.startTime+J.duration)):0,M={id:`c-${Date.now()}`,shaderId:T.id,track:0,startTime:N,duration:5,timeStretch:1,opacity:1,fadeIn:.5,fadeOut:.5,blendMode:"normal",audioReactive:1,audioTie:"vol",params:{speed:1,intensity:1,color:.5,kaleidoscope:0,mirror:0,glitch:0,contrast:1,saturation:1,brightness:0,hueRotate:0,zoom:0,distort:0,tieEffect:0,feedbackDelay:0,particles:0},automation:{},lfos:[]};y(J=>[...J,M]),X(M.id),x(M.startTime)},className:"group bg-[#232323] p-3 rounded-2xl border border-white/5 hover:border-[#ffdc5e]/40 cursor-pointer flex items-center gap-4 transition-all duration-300 shadow-sm hover:shadow-[0_0_20px_rgba(255,220,94,0.2)] hover:scale-[1.02] hover:bg-[#2a2a2a] active:scale-[0.98]",children:[f.jsx(xC,{shader:T}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("span",{className:"text-[11px] font-black uppercase truncate text-slate-400 group-hover:text-[#ffdc5e] transition-colors duration-300 block",children:T.name}),T.category&&f.jsx("span",{className:"text-[8px] font-black uppercase text-slate-600 group-hover:text-slate-500 mt-0.5 transition-colors duration-300 block",children:T.category})]}),l[T.id]&&f.jsx(Ys,{size:12,className:"text-red-500 ml-auto animate-pulse shrink-0"})]},T.id))})]})]})}),f.jsxs("section",{className:`flex-grow ${Q.backgroundType==="none"?"bg-[#000]":"bg-transparent"} rounded-2xl relative overflow-hidden border border-white/5 shadow-2xl group/canvas ${W?"rounded-none border-none":"animate-in zoom-in-95 duration-1000"}`,style:{position:"relative"},children:[f.jsx(HC,{type:Q.backgroundType,time:v,width:1920,height:1080}),f.jsx(bg,{ref:uo,playhead:v,clips:g,shaders:t,audioAnalysis:oi,masterFX:Q,mutes:I,solos:ee,onShaderError:qn}),Z!=="none"&&f.jsx(yC,{analysis:oi,isZen:W,mode:Z}),f.jsx("div",{className:`absolute inset-0 flex items-center justify-center z-50 pointer-events-none transition-opacity duration-1000 ${le||!k?"opacity-100":"opacity-0"}`,children:f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:"/logo.png",alt:"Elastic Pulse Logo",className:"max-w-[60%] max-h-[60%] object-contain drop-shadow-[0_0_40px_rgba(255,220,94,0.6)]",onError:T=>{const N=T.target;N.style.display="none";const M=N.nextElementSibling;M&&(M.style.display="flex")}}),f.jsx("div",{className:"hidden flex-col items-center justify-center absolute inset-0",children:f.jsxs("div",{className:"text-center",children:[f.jsx(ti,{size:120,className:"text-[#ffdc5e] mx-auto mb-4 animate-pulse drop-shadow-[0_0_40px_rgba(255,220,94,0.6)]"}),f.jsx("span",{className:"text-[#ffdc5e] font-black text-4xl uppercase tracking-tighter",children:"Elastic Pulse"})]})})]})}),W&&f.jsx("button",{onClick:()=>te(!1),className:"absolute top-6 right-6 p-4 bg-black/40 hover:bg-[#ffdc5e] hover:text-black rounded-xl border border-white/10 text-[#ffdc5e] opacity-0 group-hover/canvas:opacity-100 transition-all z-[100] shadow-2xl backdrop-blur-md",children:f.jsx(I2,{size:24})})]}),!W&&f.jsx("aside",{className:"w-80 flex flex-col gap-2 overflow-hidden animate-in slide-in-from-right duration-700",children:f.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-2xl flex-grow flex flex-col overflow-hidden border border-white/5 shadow-2xl",children:[f.jsx("nav",{className:"grid grid-cols-3 gap-2 mb-6 bg-[#0a0a0a] p-1.5 rounded-xl shrink-0 shadow-inner border border-white/5",children:["params","auto","lfo","audio","master","code","midi"].map(T=>f.jsxs("button",{onClick:()=>oe(T),className:`px-1 py-2.5 rounded-lg text-[10px] font-black uppercase transition-all duration-300 relative transform ${j===T?"bg-[#2a2a2a] text-[#ffdc5e] shadow-lg scale-105":"text-slate-500 hover:text-slate-300 hover:bg-[#151515]"} hover:scale-110 active:scale-95`,children:[T,j===T&&f.jsx("div",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 w-5 h-[2px] bg-[#ffdc5e] shadow-[0_0_10px_#ffdc5e] animate-pulse"})]},T))}),f.jsx("div",{className:"flex-grow overflow-y-auto pr-1 custom-scrollbar",children:ze?f.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[j==="params"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-white/5",children:[f.jsxs("div",{className:"flex items-center gap-2 truncate",children:[f.jsx("span",{className:"text-[12px] font-black uppercase text-[#ffdc5e] tracking-[0.1em] truncate",children:(ai=t.find(T=>T.id===ze.shaderId))==null?void 0:ai.name}),l[ze.shaderId]&&f.jsx(Ys,{size:14,className:"text-red-500 shrink-0"})]}),f.jsx("button",{onClick:()=>y(T=>T.filter(N=>N.id!==U)),className:"p-2 text-slate-600 hover:text-orange-500 transition-all duration-300 hover:scale-110 hover:bg-orange-500/10 rounded-lg active:scale-95",children:f.jsx(Na,{size:16})})]}),l[ze.shaderId]&&f.jsxs("div",{className:"p-3 bg-red-950/20 border border-red-500/30 rounded-xl flex items-start gap-3 animate-in slide-in-from-top-2",children:[f.jsx(hg,{size:16,className:"text-red-500 shrink-0 mt-0.5"}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("span",{className:"text-[9px] font-black text-red-400 uppercase",children:"Signal Path Broken"}),f.jsx("span",{className:"text-[8px] text-red-200/60 leading-tight",children:"Compiler reported syntax errors. Check the source code in the [CODE] tab."})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-[#232323] p-4 rounded-2xl border border-white/5 space-y-5 shadow-xl hover:border-white/10 transition-all duration-300",children:[f.jsxs("h3",{className:"text-[10px] font-black uppercase text-slate-500 flex items-center gap-2 tracking-[0.3em]",children:[f.jsx(dC,{size:14,className:"text-[#ffdc5e]/60"}),f.jsx("span",{className:"bg-gradient-to-r from-slate-500 to-transparent h-[1px] flex-1 opacity-20"})]}),f.jsx(Qe,{label:"Particle Flow",val:ze.params.particles,max:1,onChange:T=>y(N=>N.map(M=>M.id===U?{...M,params:{...M.params,particles:T}}:M)),onKeyframe:()=>nn("particles")}),f.jsx(Qe,{label:"Tie Effect",val:ze.params.tieEffect,max:1,onChange:T=>y(N=>N.map(M=>M.id===U?{...M,params:{...M.params,tieEffect:T}}:M)),onKeyframe:()=>nn("tieEffect")}),f.jsx(Qe,{label:"Feedback Delay",val:ze.params.feedbackDelay,max:1,onChange:T=>y(N=>N.map(M=>M.id===U?{...M,params:{...M.params,feedbackDelay:T}}:M)),onKeyframe:()=>nn("feedbackDelay")}),f.jsx(Qe,{label:"Kaleidoscope",val:ze.params.kaleidoscope,max:12,onChange:T=>y(N=>N.map(M=>M.id===U?{...M,params:{...M.params,kaleidoscope:T}}:M)),onKeyframe:()=>nn("kaleidoscope")}),f.jsx(Qe,{label:"Elastic Warp",val:ze.params.distort,max:2,onChange:T=>y(N=>N.map(M=>M.id===U?{...M,params:{...M.params,distort:T}}:M)),onKeyframe:()=>nn("distort")}),f.jsx(Qe,{label:"Zoom Scope",val:ze.params.zoom,max:3,onChange:T=>y(N=>N.map(M=>M.id===U?{...M,params:{...M.params,zoom:T}}:M)),onKeyframe:()=>nn("zoom")}),f.jsx(Qe,{label:"Flow Speed",val:ze.params.speed,max:4,onChange:T=>y(N=>N.map(M=>M.id===U?{...M,params:{...M.params,speed:T}}:M)),onKeyframe:()=>nn("speed")})]}),f.jsxs("div",{className:"bg-[#232323] p-4 rounded-2xl border border-white/5 space-y-5 shadow-xl hover:border-white/10 transition-all duration-300",children:[f.jsxs("h3",{className:"text-[10px] font-black uppercase text-slate-500 flex items-center gap-2 tracking-[0.3em]",children:[f.jsx(g0,{size:14,className:"text-[#ffdc5e]/60"}),f.jsx("span",{className:"bg-gradient-to-r from-slate-500 to-transparent h-[1px] flex-1 opacity-20"})]}),f.jsx(Qe,{label:"Contrast",val:ze.params.contrast,max:2,onChange:T=>y(N=>N.map(M=>M.id===U?{...M,params:{...M.params,contrast:T}}:M)),onKeyframe:()=>nn("contrast")}),f.jsx(Qe,{label:"Saturation",val:ze.params.saturation,max:2,onChange:T=>y(N=>N.map(M=>M.id===U?{...M,params:{...M.params,saturation:T}}:M)),onKeyframe:()=>nn("saturation")}),f.jsx(Qe,{label:"Brightness",val:ze.params.brightness,max:1,onChange:T=>y(N=>N.map(M=>M.id===U?{...M,params:{...M.params,brightness:T}}:M)),onKeyframe:()=>nn("brightness")}),f.jsx(Qe,{label:"Hue Rotation",val:ze.params.hueRotate,max:1,onChange:T=>y(N=>N.map(M=>M.id===U?{...M,params:{...M.params,hueRotate:T}}:M)),onKeyframe:()=>nn("hueRotate")})]}),f.jsxs("div",{className:"bg-[#232323] p-4 rounded-2xl border border-white/5 space-y-5 shadow-xl hover:border-white/10 transition-all duration-300",children:[f.jsxs("h3",{className:"text-[10px] font-black uppercase text-slate-500 flex items-center gap-2 tracking-[0.3em]",children:[f.jsx(mg,{size:14,className:"text-[#ffdc5e]/60"}),f.jsx("span",{className:"bg-gradient-to-r from-slate-500 to-transparent h-[1px] flex-1 opacity-20"})]}),f.jsx("select",{value:ze.blendMode,onChange:T=>y(N=>N.map(M=>M.id===U?{...M,blendMode:T.target.value}:M)),className:"w-full bg-[#0a0a0a] border border-white/5 p-3 rounded-xl text-[11px] font-black uppercase text-slate-200 outline-none focus:border-[#ffdc5e]/40 transition-all duration-300 hover:border-white/10 cursor-pointer",children:["normal","add","multiply","screen","overlay","softlight","hardlight","dodge","burn"].map(T=>f.jsx("option",{value:T,children:T.toUpperCase()},T))}),f.jsx(Qe,{label:"Global Opacity",val:ze.opacity,max:1,onChange:T=>y(N=>N.map(M=>M.id===U?{...M,opacity:T}:M)),onKeyframe:()=>nn("opacity")}),f.jsxs("div",{className:"space-y-2 mt-4",children:[f.jsx("h3",{className:"text-[10px] font-black uppercase text-slate-500 tracking-[0.3em]",children:"Audio Tie"}),f.jsx("select",{value:ze.audioTie,onChange:T=>y(N=>N.map(M=>M.id===U?{...M,audioTie:T.target.value}:M)),className:"w-full bg-[#0a0a0a] border border-white/5 p-3 rounded-xl text-[11px] font-black uppercase text-slate-200 outline-none focus:border-[#ffdc5e]/40 transition-all duration-300 hover:border-white/10 cursor-pointer",children:["vol","sub","bass","lowMid","mid","highMid","treble","presence","kick","snare"].map(T=>f.jsx("option",{value:T,children:T.toUpperCase()},T))}),f.jsx(Qe,{label:"Audio Reaction Intensity",val:ze.audioReactive,max:5,onChange:T=>y(N=>N.map(M=>M.id===U?{...M,audioReactive:T}:M))})]})]})]})]}),j==="auto"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-4 bg-[#0a0a0a] p-4 rounded-2xl border border-white/5 shadow-inner",children:[f.jsx("select",{value:ue,onChange:T=>we(T.target.value),className:"bg-transparent text-[11px] font-black uppercase text-slate-200 outline-none flex-grow cursor-pointer font-bold",children:["distort","hueRotate","intensity","speed","zoom","opacity","contrast","saturation","brightness","tieEffect","feedbackDelay","kaleidoscope","particles"].map(T=>f.jsx("option",{value:T,className:"bg-[#0a0a0a]",children:T.toUpperCase()},T))}),f.jsx("button",{onClick:()=>nn(ue),className:"p-2.5 bg-[#ffdc5e] text-black rounded-xl shadow-lg hover:scale-110 transition-all duration-300 hover:shadow-[0_0_20px_rgba(255,220,94,0.5)] active:scale-95",title:"Add Keyframe (at playhead)",children:f.jsx(v0,{size:16})})]}),f.jsxs("div",{className:"flex items-center gap-2 bg-[#232323] p-3 rounded-xl border border-white/5",children:[f.jsxs("button",{onClick:()=>Go(ue),disabled:!ze||!(ze.automation[ue]||[]).length,className:"flex-1 px-4 py-2.5 bg-[#0a0a0a] border border-white/10 text-[10px] font-black uppercase text-slate-300 rounded-lg hover:bg-[#ffdc5e] hover:text-black hover:border-[#ffdc5e] transition-all duration-300 disabled:opacity-30 disabled:cursor-not-allowed flex items-center justify-center gap-2 hover:scale-105 active:scale-95 disabled:hover:scale-100",title:"Copy Automation (Cmd+Shift+C)",children:[f.jsx(_a,{size:12})," Copy Auto"]}),f.jsxs("button",{onClick:()=>Ul(),disabled:!be,className:"flex-1 px-4 py-2.5 bg-[#0a0a0a] border border-white/10 text-[10px] font-black uppercase text-slate-300 rounded-lg hover:bg-[#ffdc5e] hover:text-black hover:border-[#ffdc5e] transition-all duration-300 disabled:opacity-30 disabled:cursor-not-allowed flex items-center justify-center gap-2 hover:scale-105 active:scale-95 disabled:hover:scale-100",title:"Paste Automation (Cmd+Shift+V)",children:[f.jsx(_a,{size:12,className:"rotate-90"})," Paste Auto"]})]}),f.jsxs("div",{className:"bg-[#0a0a0a] p-3 rounded-xl border border-white/5",children:[f.jsx("label",{className:"text-[9px] font-black uppercase text-slate-500 mb-2 block",children:"Curve Type"}),f.jsx("select",{value:Xn,onChange:T=>po(T.target.value),className:"w-full bg-[#1a1a1a] border border-white/5 p-2 rounded-lg text-[10px] font-black uppercase text-slate-200 outline-none",children:["linear","ease","easeIn","easeOut","easeInOut","bezier"].map(T=>f.jsx("option",{value:T,children:T.toUpperCase()},T))})]}),(ze.automation[ue]||[]).length>0?f.jsxs("div",{className:"bg-[#232323] p-3 rounded-xl border border-white/5",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("span",{className:"text-[9px] font-black uppercase text-slate-500",children:["Keyframes (",(ze.automation[ue]||[]).length,")"]}),be&&be.param===ue&&f.jsx("span",{className:"text-[8px] font-black uppercase text-[#ffdc5e] bg-[#ffdc5e]/10 px-2 py-1 rounded",children:"Copied"})]}),f.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto pr-1 custom-scrollbar",children:(ze.automation[ue]||[]).sort((T,N)=>T.t-N.t).map((T,N)=>f.jsxs("div",{className:"flex justify-between items-center p-4 bg-[#0a0a0a] rounded-xl border border-white/5 text-[11px] shadow-sm group hover:border-white/20 hover:bg-[#151515] transition-all duration-300",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("span",{className:"font-mono text-slate-500 group-hover:text-slate-300 transition-colors duration-300",children:[(T.t*ze.duration).toFixed(2),"S"]}),T.curve&&T.curve!=="linear"&&f.jsx("span",{className:"text-[8px] font-black uppercase text-slate-600 bg-slate-800 px-2 py-0.5 rounded group-hover:bg-slate-700 transition-colors duration-300",children:T.curve})]}),f.jsx("span",{className:"font-black text-[#ffdc5e] tracking-tight group-hover:text-[#ffdc5e] transition-colors duration-300",children:T.v.toFixed(3)}),f.jsx("button",{onClick:()=>Dl(ue,T.t),className:"text-slate-600 hover:text-red-500 transition-all duration-300 opacity-0 group-hover:opacity-100 hover:scale-110 active:scale-95",children:f.jsx(ni,{size:14})})]},N))})]}):f.jsxs("div",{className:"bg-[#232323] p-8 rounded-xl border border-white/5 text-center",children:[f.jsx("div",{className:"text-slate-500 text-[10px] font-black uppercase mb-2",children:"No Automation"}),f.jsx("div",{className:"text-slate-600 text-[9px]",children:"Add keyframes to create automation curves"})]})]}),j==="lfo"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("button",{onClick:Ho,className:"w-full py-3.5 bg-[#ffdc5e]/10 border border-[#ffdc5e]/20 text-[#ffdc5e] text-[10px] font-black uppercase rounded-xl hover:bg-[#ffdc5e]/20 transition-all flex items-center justify-center gap-3",children:[f.jsx(vg,{size:14})," Create Modulator"]}),ze.lfos.map(T=>f.jsxs("div",{className:"bg-[#232323] p-4 rounded-2xl border border-white/5 space-y-4 shadow-xl relative",children:[f.jsx("button",{onClick:()=>y(N=>N.map(M=>M.id===U?{...M,lfos:M.lfos.filter(J=>J.id!==T.id)}:M)),className:"absolute top-4 right-4 text-slate-600 hover:text-red-500 transition-all duration-300 hover:scale-110 active:scale-95",children:f.jsx(Na,{size:14})}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsx("select",{value:T.target,onChange:N=>y(M=>M.map(J=>J.id===U?{...J,lfos:J.lfos.map(ie=>ie.id===T.id?{...ie,target:N.target.value}:ie)}:J)),className:"bg-[#0a0a0a] text-[10px] font-black p-2 rounded-lg border border-white/5",children:["distort","hueRotate","intensity","speed","zoom","opacity","tieEffect","feedbackDelay","kaleidoscope","particles"].map(N=>f.jsx("option",{value:N,children:N.toUpperCase()},N))}),f.jsx("select",{value:T.type,onChange:N=>y(M=>M.map(J=>J.id===U?{...J,lfos:J.lfos.map(ie=>ie.id===T.id?{...ie,type:N.target.value}:ie)}:J)),className:"bg-[#0a0a0a] text-[10px] font-black p-2 rounded-lg border border-white/5",children:["sine","tri","sqr","noise"].map(N=>f.jsx("option",{value:N,children:N.toUpperCase()},N))})]}),f.jsx(Qe,{label:"Frequency",val:T.freq,max:10,onChange:N=>y(M=>M.map(J=>J.id===U?{...J,lfos:J.lfos.map(ie=>ie.id===T.id?{...ie,freq:N}:ie)}:J))}),f.jsx(Qe,{label:"Amplitude",val:T.amp,max:1,onChange:N=>y(M=>M.map(J=>J.id===U?{...J,lfos:J.lfos.map(ie=>ie.id===T.id?{...ie,amp:N}:ie)}:J))})]},T.id))]}),j==="audio"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-[#232323] p-5 rounded-2xl border border-white/5 space-y-4 shadow-xl",children:[f.jsxs("h3",{className:"text-[10px] font-black uppercase text-slate-500 flex items-center gap-3",children:[f.jsx(Pc,{size:14})," Audio Source"]}),f.jsxs("label",{className:"flex items-center gap-4 bg-[#0a0a0a] p-4 rounded-xl border border-dashed border-white/10 hover:border-[#ffdc5e]/40 transition-all duration-300 cursor-pointer group relative overflow-hidden hover:bg-[#0f0f0f] hover:shadow-[0_0_15px_rgba(255,220,94,0.2)]",children:[f.jsx(or,{size:18,className:"text-[#ffdc5e] group-hover:scale-110 transition-transform duration-300"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-[10px] font-black uppercase text-slate-200 group-hover:text-[#ffdc5e] transition-colors duration-300",children:"Load Soundwave"}),f.jsx("span",{className:"text-[9px] text-slate-500 group-hover:text-slate-400 font-mono truncate max-w-[150px] transition-colors duration-300",children:pr})]}),f.jsx("input",{type:"file",accept:"audio/*",onChange:Il,className:"hidden"})]}),f.jsxs("button",{onClick:wi,className:"w-full py-3 bg-[#ffdc5e]/10 text-[#ffdc5e] rounded-xl text-[10px] font-black uppercase border border-[#ffdc5e]/20 hover:bg-[#ffdc5e]/20 transition-all duration-300 flex items-center justify-center gap-3 hover:scale-[1.02] hover:shadow-[0_0_20px_rgba(255,220,94,0.3)] active:scale-[0.98]",children:[f.jsx(M2,{size:14})," Activate Capture"]})]}),f.jsxs("div",{className:"bg-[#232323] p-5 rounded-2xl border border-white/5 space-y-4 shadow-xl",children:[f.jsxs("h3",{className:"text-[10px] font-black uppercase text-slate-500 flex items-center gap-2",children:[f.jsx(ti,{size:14})," Spectral Precision"]}),f.jsx("div",{className:"space-y-4 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:["vol","sub","bass","lowMid","mid","highMid","treble","presence","kick","snare"].map(T=>f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("div",{className:"flex justify-between text-[9px] font-black uppercase text-slate-400",children:[f.jsx("span",{className:["kick","snare"].includes(T)?"text-[#ffdc5e]":"",children:T}),f.jsxs("span",{className:"font-mono",children:[(oi[T]*100).toFixed(0),"%"]})]}),f.jsx("div",{className:"h-1 w-full bg-[#0a0a0a] rounded-full overflow-hidden",children:f.jsx("div",{className:`h-full transition-all ${["kick","snare"].includes(T)?"bg-[#ffdc5e] shadow-[0_0_10px_#ffdc5e]":"bg-slate-600"}`,style:{width:`${Math.min(100,oi[T]*100)}%`}})})]},T))})]})]}),j==="master"&&f.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[f.jsx(_C,{fx:Q,onChange:T=>se(N=>({...N,feedback:T.x*20,bloom:T.y*1.5}))}),f.jsxs("div",{className:"bg-[#232323] p-5 rounded-2xl border border-white/5 space-y-6 shadow-xl",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-[10px] font-black uppercase text-slate-500",children:"Tempo (BPM)"}),ro&&f.jsxs("button",{onClick:()=>se(T=>({...T,bpm:ro})),className:"text-[9px] font-black uppercase text-[#ffdc5e] hover:text-white transition-all px-2 py-1 rounded border border-[#ffdc5e]/30 hover:border-[#ffdc5e]",title:`Detected BPM: ${ro}`,children:["Use ",ro]})]}),f.jsx(Qe,{label:"",val:Q.bpm,max:250,onChange:T=>se(N=>({...N,bpm:T}))})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h4",{className:"text-[9px] font-black uppercase text-slate-500",children:"Toggle Effects"}),f.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{id:"strobe",label:"Strobe",icon:f.jsx(mC,{size:12})},{id:"invert",label:"Invert",icon:f.jsx(g0,{size:12})},{id:"mirrorFlip",label:"Mirror",icon:f.jsx(xg,{size:12})},{id:"chromaBurst",label:"Burst",icon:f.jsx(ti,{size:12})},{id:"freeze",label:"Freeze",icon:f.jsx(W2,{size:12})},{id:"edgeDetection",label:"Edge",icon:f.jsx(Aa,{size:12})},{id:"scanlines",label:"Scan",icon:f.jsx(v2,{size:12})},{id:"blackout",label:"Black",icon:f.jsx(U2,{size:12})},{id:"glitchHit",label:"Glitch",icon:f.jsx(Ys,{size:12})}].map(T=>f.jsxs("button",{onClick:()=>se(N=>({...N,[T.id]:!N[T.id]})),className:`flex items-center justify-center gap-2 p-2.5 rounded-xl border text-[8px] font-black uppercase transition-all duration-300 ${Q[T.id]?"bg-[#ffdc5e] border-[#ffdc5e] text-black shadow-[0_0_15px_rgba(255,220,94,0.3)] scale-105":"bg-[#0a0a0a] border-white/5 text-slate-500 hover:border-white/20 hover:bg-[#151515]"} hover:scale-110 active:scale-95`,children:[T.icon," ",T.label]},T.id))}),f.jsx("h4",{className:"text-[9px] font-black uppercase text-slate-500 mt-4",children:"Intensity Effects"}),f.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:[f.jsx(Qe,{label:"Pixelate",val:Q.pixelate,max:100,onChange:T=>se(N=>({...N,pixelate:T}))}),f.jsx(Qe,{label:"Color Shift",val:Q.colorShift,max:360,onChange:T=>se(N=>({...N,colorShift:T}))}),f.jsx(Qe,{label:"Noise",val:Q.noise,max:1,onChange:T=>se(N=>({...N,noise:T}))}),f.jsx(Qe,{label:"Blur",val:Q.blur,max:20,onChange:T=>se(N=>({...N,blur:T}))}),f.jsx(Qe,{label:"Sharpen",val:Q.sharpen,max:5,onChange:T=>se(N=>({...N,sharpen:T}))}),f.jsx(Qe,{label:"Posterize",val:Q.posterize,max:16,onChange:T=>se(N=>({...N,posterize:T}))}),f.jsx(Qe,{label:"RGB Shift",val:Q.rgbShift,max:50,onChange:T=>se(N=>({...N,rgbShift:T}))}),f.jsx(Qe,{label:"Kaleidoscope",val:Q.kaleidoscope,max:20,onChange:T=>se(N=>({...N,kaleidoscope:T}))}),f.jsx(Qe,{label:"Fisheye",val:Q.fisheye,max:1,onChange:T=>se(N=>({...N,fisheye:T}))}),f.jsx(Qe,{label:"Twirl",val:Q.twirl,max:10,onChange:T=>se(N=>({...N,twirl:T}))})]})]})]}),f.jsxs("div",{className:"bg-[#232323] p-5 rounded-2xl border border-white/5 space-y-4 shadow-xl",children:[f.jsxs("h3",{className:"text-[10px] font-black uppercase text-slate-500 flex items-center gap-2",children:[f.jsx(Aa,{size:14})," Background"]}),f.jsxs("select",{value:Q.backgroundType,onChange:T=>se(N=>({...N,backgroundType:T.target.value})),className:"w-full bg-[#0a0a0a] border border-white/5 p-3 rounded-xl text-[11px] font-black uppercase text-slate-200 outline-none focus:border-[#ffdc5e]/40",children:[f.jsx("option",{value:"none",children:"None"}),f.jsx("option",{value:"gradient",children:"Gradient"}),f.jsx("option",{value:"noise",children:"Noise"}),f.jsx("option",{value:"grid",children:"Grid"}),f.jsx("option",{value:"particles",children:"Particles"}),f.jsx("option",{value:"waves",children:"Waves"}),f.jsx("option",{value:"ken-burns-1",children:"Ken Burns 1"}),f.jsx("option",{value:"ken-burns-2",children:"Ken Burns 2"}),f.jsx("option",{value:"ken-burns-3",children:"Ken Burns 3"})]})]}),f.jsxs("div",{className:"bg-[#232323] p-5 rounded-2xl border border-white/5 space-y-4 shadow-xl hover:border-white/10 transition-all duration-300",children:[f.jsxs("h3",{className:"text-[10px] font-black uppercase text-slate-500 flex items-center gap-2",children:[f.jsx(Pc,{size:14,className:"text-[#ffdc5e]/60"}),f.jsx("span",{className:"bg-gradient-to-r from-slate-500 to-transparent h-[1px] flex-1 opacity-20"})]}),f.jsx(Qe,{label:"Reverb",val:Q.reverb,max:1,onChange:T=>se(N=>({...N,reverb:T}))}),f.jsx(Qe,{label:"Delay",val:Q.delay,max:1,onChange:T=>se(N=>({...N,delay:T}))}),f.jsx(Qe,{label:"Delay Feedback",val:Q.delayFeedback,max:.95,onChange:T=>se(N=>({...N,delayFeedback:T}))}),f.jsx(Qe,{label:"Delay Time",val:Q.delayTime,max:1,onChange:T=>se(N=>({...N,delayTime:T}))}),f.jsx(Qe,{label:"Distortion",val:Q.distortion,max:1,onChange:T=>se(N=>({...N,distortion:T}))}),f.jsx(Qe,{label:"Lowpass",val:Q.lowpass,max:2e4,min:20,onChange:T=>se(N=>({...N,lowpass:T}))}),f.jsx(Qe,{label:"Highpass",val:Q.highpass,max:2e4,min:20,onChange:T=>se(N=>({...N,highpass:T}))}),f.jsx(Qe,{label:"Compressor",val:Q.compressor,max:1,onChange:T=>se(N=>({...N,compressor:T}))})]})]}),j==="code"&&f.jsx(kC,{shader:t.find(T=>T.id===ze.shaderId),error:l[ze.shaderId],onChange:T=>o(N=>N.map(M=>M.id===ze.shaderId?{...M,code:T}:M))}),j==="midi"&&f.jsx(GC,{devices:Yt,isConnected:ot,activeDevice:un,learnedMappings:Jt,learnMode:_t,bpm:Tt,onConnect:so,onDisconnect:ii,onStartLearn:fr,onCancelLearn:Lo,onRemoveMapping:zo,onUpdateMapping:Po})]}):f.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-10 uppercase font-black text-center gap-8 tracking-[0.6em]",children:[f.jsx(Aa,{size:60})," Workspace_Idle"]})})]})})]}),!W&&f.jsxs(f.Fragment,{children:[f.jsx("div",{onMouseDown:T=>vt(T,null,"timeline-resize"),className:"h-3 bg-transparent hover:bg-[#ffdc5e]/10 cursor-ns-resize transition-all flex items-center justify-center group relative z-50 py-1",children:f.jsx("div",{className:"w-20 h-[3px] bg-white/5 group-hover:bg-[#ffdc5e] group-hover:shadow-[0_0_15px_#ffdc5e] rounded-full transition-all flex items-center justify-center"})}),f.jsxs("footer",{style:{height:`${ae}px`},className:"bg-[#1a1a1a] rounded-2xl border border-white/10 p-5 flex flex-col gap-2 shrink-0 shadow-[0_-30px_60px_rgba(0,0,0,0.6)] relative animate-in slide-in-from-bottom duration-1000",children:[f.jsxs("div",{className:"h-4 bg-[#0a0a0a] rounded-full border border-white/5 relative mb-2 cursor-pointer overflow-hidden shadow-inner group",onClick:Ri,children:[g.map(T=>f.jsx("div",{className:`absolute h-full border-x ${l[T.shaderId]?"bg-red-500/50 border-red-500/40":"bg-[#ffdc5e]/30 border-[#ffdc5e]/20"}`,style:{left:`${T.startTime/_*100}%`,width:`${T.duration/_*100}%`}},T.id)),f.jsx("div",{className:"absolute top-0 bottom-0 w-[1.5px] bg-[#ffdc5e] shadow-[0_0_8px_#ffdc5e] transition-all",style:{left:`${v/_*100}%`}}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/[0.03] to-transparent pointer-events-none"})]}),f.jsxs("div",{className:"flex items-center justify-between px-4 text-[11px] font-black uppercase text-slate-500 mb-2",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:()=>ge(!pe),className:`px-8 py-2 rounded-xl transition-all border ${pe?"bg-[#ffdc5e] border-[#ffdc5e] text-black shadow-lg scale-105":"bg-[#0a0a0a] border-white/10 text-white hover:border-white/30"}`,children:"Magnet_Snap"}),f.jsxs("select",{value:Vt,onChange:T=>Hn(Number(T.target.value)),className:"px-4 py-2 rounded-xl bg-[#0a0a0a] border border-white/10 text-white text-[10px] font-black uppercase hover:border-[#ffdc5e]/40 transition-all",children:[f.jsx("option",{value:0,children:"No Grid"}),f.jsx("option",{value:4,children:"1/4 Beat"}),f.jsx("option",{value:8,children:"1/8 Beat"}),f.jsx("option",{value:16,children:"1/16 Beat"}),f.jsx("option",{value:32,children:"1/32 Beat"})]}),f.jsxs("button",{onClick:()=>Ue(!Nt),className:`px-6 py-2 rounded-xl transition-all duration-300 border flex items-center gap-2 transform ${Nt?"bg-[#ffdc5e] border-[#ffdc5e] text-black shadow-lg scale-105":"bg-[#0a0a0a] border-white/10 text-white hover:border-white/30 hover:bg-[#151515]"} hover:scale-110 active:scale-95`,title:"Toggle Automation Lanes",children:[f.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M3 3v18h18M7 16l4-8 4 8 4-12"})}),"AUTO"]}),f.jsxs("button",{onClick:()=>La(),className:"px-6 py-2 rounded-xl bg-[#0a0a0a] border border-white/10 text-white hover:border-blue-500/50 hover:text-blue-400 transition-all duration-300 flex items-center gap-2 hover:bg-[#151515] hover:scale-110 active:scale-95 hover:shadow-[0_0_15px_rgba(59,130,246,0.3)]",title:"Add Marker (Cmd+M)",children:[f.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M12 2v20M2 12h20"})}),"Marker (",Re.length,")"]}),f.jsxs("button",{onClick:()=>{St(ke?null:{start:v,end:Math.min(v+10,_)})},className:`px-6 py-2 rounded-xl border transition-all duration-300 flex items-center gap-2 transform ${ke?"bg-[#ffdc5e] border-[#ffdc5e] text-black shadow-lg scale-105":"bg-[#0a0a0a] border-white/10 text-white hover:border-[#ffdc5e]/50 hover:bg-[#151515]"} hover:scale-110 active:scale-95`,title:"Toggle Loop Region (Cmd+L)",children:[f.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.3"})}),"Loop ",ke?"ON":"OFF"]})]}),f.jsxs("div",{className:"flex items-center gap-6 bg-[#0a0a0a] px-6 py-2 rounded-full border border-white/5 shadow-inner",children:[f.jsx(F2,{size:16,className:"text-[#ffdc5e] opacity-40"}),f.jsx("input",{type:"range",min:"5",max:"250",step:"1",value:C,onChange:T=>D(parseInt(T.target.value)),className:"w-80 h-1 bg-[#222] rounded-full appearance-none accent-[#ffdc5e] cursor-pointer"})]})]}),f.jsxs("div",{ref:ka,className:"flex-grow flex relative overflow-hidden bg-[#080808] rounded-2xl border border-white/10 shadow-2xl",children:[f.jsx("div",{className:"w-24 border-r border-white/10 flex flex-col shrink-0 bg-[#121212] z-40 shadow-2xl overflow-y-auto custom-scrollbar",children:[0,1,2,3,4,5,6,7].map(T=>f.jsx("div",{className:`min-h-[60px] flex-grow flex flex-col items-center justify-center gap-2 border-b border-white/5 last:border-0 relative transition-colors duration-300 ${T%2===0?"bg-gradient-to-r from-transparent to-white/[0.01]":"bg-gradient-to-r from-white/[0.01] to-transparent"}`,children:f.jsxs("div",{className:"flex gap-1.5",children:[f.jsx("button",{onClick:()=>P(N=>N.map((M,J)=>J===T?!M:M)),className:`w-7 h-7 rounded-lg text-[9px] font-black border transition-all duration-300 transform ${I[T]?"bg-orange-600 border-orange-500 text-white shadow-[0_0_15px_rgba(234,88,12,0.5)] scale-105":"bg-[#222] border-white/10 text-slate-500 hover:text-slate-300 hover:bg-[#2a2a2a]"} hover:scale-110 active:scale-95`,children:"M"}),f.jsx("button",{onClick:()=>re(N=>N.map((M,J)=>J===T?!M:M)),className:`w-7 h-7 rounded-lg text-[9px] font-black border transition-all duration-300 transform ${ee[T]?"bg-[#ffdc5e] border-[#ffdc5e] text-black shadow-xl shadow-[0_0_20px_rgba(255,220,94,0.5)] scale-105":"bg-[#222] border-white/10 text-slate-500 hover:text-slate-300 hover:bg-[#2a2a2a]"} hover:scale-110 active:scale-95`,children:"S"})]})},T))}),f.jsx("div",{ref:Zt,className:"flex-grow relative overflow-x-auto overflow-y-auto custom-scrollbar",onWheel:T=>{T.shiftKey&&(T.preventDefault(),Zt.current&&(Zt.current.scrollLeft+=T.deltaY))},onMouseDown:T=>{const N=T.target,M=N.closest(".absolute.h-\\[12\\.5\\%\\]")||N.closest('[class*="absolute"][class*="h-"]'),J=N.closest('[class*="bg-blue-500"]'),ie=N.closest('[class*="bg-\\[#ffdc5e\\]"]');if(!M&&!J&&!ie&&Zt.current){const Se=T.pageX-(Zt.current.scrollLeft||0),Me=T.pageY-(Zt.current.scrollTop||0),Ee=st=>{Zt.current&&(Zt.current.scrollLeft=Se-(st.pageX-Se),Zt.current.scrollTop=Me-(st.pageY-Me))},ft=()=>{document.removeEventListener("mousemove",Ee),document.removeEventListener("mouseup",ft),Zt.current&&(Zt.current.style.cursor="grab")};Zt.current.style.cursor="grabbing",document.addEventListener("mousemove",Ee),document.addEventListener("mouseup",ft),T.preventDefault()}},style:{cursor:"grab"},children:f.jsxs("div",{className:"tracks-area-content relative",style:{width:`${_*C}px`,height:"100%",minHeight:"480px"},children:[f.jsxs("div",{className:"absolute top-0 left-0 right-0 h-8 bg-gradient-to-b from-[#121212] to-[#0a0a0a] border-b border-white/10 z-40 pointer-events-none sticky top-0 shadow-lg",children:[ho.map(T=>{const N=Vt>0&&T*(Q.bpm||120)/60%(4/Vt)<.01;return f.jsx("div",{className:`absolute h-full border-l transition-all duration-200 ${N?"border-[#ffdc5e]/40 w-[2px]":"border-white/20"}`,style:{left:`${T*C}px`},children:f.jsxs("span",{className:`absolute left-3 top-2 text-[10px] font-black tracking-tighter transition-colors duration-200 ${N?"text-[#ffdc5e]":"text-slate-600"}`,children:[T,"s"]})},T)}),ke&&f.jsxs("div",{className:"absolute h-full bg-[#ffdc5e]/20 border-l-2 border-r-2 border-[#ffdc5e] z-50 cursor-move group pointer-events-auto transition-all duration-300 hover:bg-[#ffdc5e]/30",style:{left:`${ke.start*C}px`,width:`${(ke.end-ke.start)*C}px`},onMouseDown:T=>{T.stopPropagation(),vt(T,null,"loop-move")},children:[f.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-[#ffdc5e] opacity-50 group-hover:opacity-75 transition-opacity duration-300"}),f.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-[#ffdc5e] opacity-50 group-hover:opacity-75 transition-opacity duration-300"}),f.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-2 bg-[#ffdc5e] cursor-ew-resize opacity-0 group-hover:opacity-100 transition-all duration-300 hover:opacity-100 hover:w-3 hover:shadow-[0_0_10px_rgba(255,220,94,0.8)] z-10",onMouseDown:T=>{T.stopPropagation(),vt(T,null,"loop-start")}}),f.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-2 bg-[#ffdc5e] cursor-ew-resize opacity-0 group-hover:opacity-100 transition-all duration-300 hover:opacity-100 hover:w-3 hover:shadow-[0_0_10px_rgba(255,220,94,0.8)] z-10",onMouseDown:T=>{T.stopPropagation(),vt(T,null,"loop-end")}}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:f.jsxs("span",{className:"text-[8px] font-black uppercase text-[#ffdc5e] bg-black/70 px-2 py-0.5 rounded opacity-0 group-hover:opacity-100 transition-all duration-300 shadow-lg backdrop-blur-sm",children:["LOOP: ",(ke.end-ke.start).toFixed(1),"s"]})})]}),Re.map(T=>f.jsxs("div",{className:"absolute top-0 bottom-0 w-[2px] bg-blue-500 shadow-[0_0_8px_#3b82f6] cursor-pointer hover:bg-blue-400 hover:w-[3px] transition-all duration-300 z-50 pointer-events-auto group",style:{left:`${T.time*C}px`},onClick:()=>za(T.time),onContextMenu:N=>{N.preventDefault(),fo(T.id)},title:`${T.label||"Marker"} - ${T.time.toFixed(2)}s (Right-click to delete)`,children:[f.jsx("div",{className:"absolute -top-1 -left-1.5 w-4 h-4 bg-blue-500 rounded-sm rotate-45 border border-black shadow-lg group-hover:scale-110 transition-transform duration-300"}),T.label&&f.jsx("div",{className:"absolute top-2 left-4 bg-blue-500/90 text-white text-[8px] font-black uppercase px-2 py-0.5 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none whitespace-nowrap",children:T.label})]},T.id))]}),f.jsxs("div",{className:"absolute inset-0 pt-8",onMouseDown:T=>vt(T,null,"scrub"),children:[[0,1,2,3,4,5,6,7].map(T=>f.jsx("div",{className:`h-[12.5%] border-b border-white/5 last:border-0 relative pointer-events-none transition-colors duration-300 ${T%2===0?"bg-[#080808]":"bg-[#0a0a0a]"} hover:bg-[#0f0f0f]`},T)),ho.map(T=>{const N=Vt>0&&T*(Q.bpm||120)/60%(4/Vt)<.01;return f.jsx("div",{className:`absolute top-8 bottom-0 pointer-events-none transition-all duration-200 ${N?"w-[1px] bg-[#ffdc5e]/10":"w-[1px] bg-white/[0.04]"}`,style:{left:`${T*C}px`}},`g-${T}`)}),f.jsx("div",{className:"absolute inset-0 opacity-20 flex items-center pointer-events-none pt-8",children:Ni.length>0&&Ni.map((T,N)=>f.jsx("div",{className:"flex-grow bg-[#ffdc5e] shadow-[0_0_8px_#ffdc5e]",style:{height:`${T*100}%`,minWidth:"1.5px"}},N))}),g.map(T=>{var N;return f.jsxs("div",{onMouseDown:M=>vt(M,T.id,"move"),onContextMenu:M=>Mi(M,T.id),className:`absolute h-[12.5%] rounded-xl border flex flex-col justify-center px-4 transition-all duration-300 overflow-hidden cursor-move group ${U===T.id?"border-[#ffdc5e] bg-[#ffdc5e]/45 z-20 shadow-[0_0_40px_rgba(255,220,94,0.4)] scale-[1.02]":"border-white/10 bg-[#2a2a2a] hover:bg-[#333] hover:border-white/30 hover:shadow-[0_0_15px_rgba(255,255,255,0.1)]"} ${I[T.track]?"opacity-30 grayscale blur-[3px]":""} ${l[T.shaderId]?"border-red-500 shadow-[0_0_20px_rgba(239,68,68,0.3)]":""} ${T.isVideo?"border-blue-500/50 bg-blue-500/10":""}`,style:{left:`${T.startTime*C}px`,width:`${T.duration*C}px`,top:`${T.track*12.5}%`},children:[T.isVideo&&T.videoThumbnail?f.jsx("img",{src:T.videoThumbnail,alt:"Video",className:"absolute inset-0 w-full h-full object-cover opacity-50 group-hover:opacity-70 transition-opacity"}):null,f.jsxs("svg",{className:"absolute inset-0 pointer-events-none w-full h-full opacity-30 transition-opacity duration-300 group-hover:opacity-40",children:[f.jsx("path",{d:`M 0,0 L ${T.fadeIn*C},0 L 0,100 Z`,fill:"#ffdc5e"}),f.jsx("path",{d:`M ${T.duration*C},0 L ${(T.duration-T.fadeOut)*C},0 L ${T.duration*C},100 Z`,fill:"#ffdc5e"})]}),f.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-3 cursor-ew-resize hover:bg-white/20 transition-all duration-300 z-30 hover:shadow-[0_0_10px_rgba(255,255,255,0.3)]",onMouseDown:M=>vt(M,T.id,"resize-start")}),f.jsx("div",{onMouseDown:M=>vt(M,T.id,"fade-in"),className:"absolute top-1 w-2.5 h-2.5 bg-white border border-black rounded-sm cursor-ew-resize opacity-0 group-hover:opacity-100 transition-all duration-300 z-40 hover:scale-125 hover:shadow-[0_0_10px_rgba(255,220,94,0.8)]",style:{left:`${T.fadeIn*C-5}px`}}),f.jsx("div",{onMouseDown:M=>vt(M,T.id,"fade-out"),className:"absolute top-1 w-2.5 h-2.5 bg-white border border-black rounded-sm cursor-ew-resize opacity-0 group-hover:opacity-100 transition-all duration-300 z-40 hover:scale-125 hover:shadow-[0_0_10px_rgba(255,220,94,0.8)]",style:{left:`${(T.duration-T.fadeOut)*C-5}px`}}),f.jsx("div",{className:"flex items-center gap-2 z-10 select-none",children:T.isVideo?f.jsxs("span",{className:"text-[10px] font-black uppercase truncate text-blue-400 tracking-[0.1em] drop-shadow-lg flex items-center gap-1.5",children:[f.jsx(Si,{size:12})," Video"]}):f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"text-[10px] font-black uppercase truncate text-white tracking-[0.1em] drop-shadow-lg",children:(N=t.find(M=>M.id===T.shaderId))==null?void 0:N.name}),l[T.shaderId]&&f.jsx(Ys,{size:10,className:"text-red-500 animate-pulse"})]})}),f.jsxs("span",{className:"text-[8px] font-mono text-[#ffdc5e] font-bold opacity-80 pointer-events-none select-none tracking-tighter z-10",children:[T.startTime.toFixed(1),"s | ",T.duration.toFixed(1),"s"]}),f.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-3 cursor-ew-resize hover:bg-white/20 transition-all duration-300 z-30 hover:shadow-[0_0_10px_rgba(255,255,255,0.3)]",onMouseDown:M=>vt(M,T.id,"resize-end")})]},T.id)}),f.jsxs("div",{className:"absolute top-0 bottom-0 w-[2.5px] bg-[#ffdc5e] z-[100] pointer-events-none shadow-[0_0_30px_#ffdc5e] transition-transform duration-75 ease-linear",style:{transform:`translateX(${v*C}px)`},children:[f.jsx("div",{className:"absolute -top-2 -left-2 w-5 h-5 bg-[#ffdc5e] rounded-sm rotate-45 border-2 border-black shadow-lg animate-pulse"}),f.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1 h-full bg-gradient-to-b from-[#ffdc5e] via-[#ffdc5e]/80 to-transparent"})]})]})]})})]}),f.jsxs("div",{className:"flex justify-between px-4 text-[10px] font-black uppercase text-slate-700 tracking-[0.4em] mt-2 shrink-0",children:[f.jsxs("span",{className:"flex items-center gap-3",children:["ELASTIC_CORE_V32_11 ",f.jsx(Xs,{size:12,className:"text-[#ffdc5e]/60 animate-pulse"})]}),f.jsxs("span",{children:["Workspace: ",v.toFixed(2),"s / ",_.toFixed(1),"s"]})]})]})]}),Ut&&f.jsxs("div",{className:"fixed bg-[#121212] border border-white/20 rounded-2xl z-[999] py-2.5 min-w-[200px] animate-in zoom-in-95 duration-150 backdrop-blur-3xl",style:{top:Ut.y,left:Ut.x,boxShadow:"0 40px 80px rgba(0,0,0,0.9)"},onClick:T=>T.stopPropagation(),children:[f.jsxs("button",{onClick:()=>{co([Ut.clipId]),mt(null)},className:"w-full text-left px-6 py-3.5 text-[11px] font-black uppercase hover:bg-[#ffdc5e] hover:text-black transition-all flex items-center gap-4",children:[f.jsx(_a,{size:16})," Copy_Clip"]}),f.jsxs("button",{onClick:()=>{co([Ut.clipId]),y(T=>T.filter(N=>N.id!==Ut.clipId)),mt(null)},className:"w-full text-left px-6 py-3.5 text-[11px] font-black uppercase hover:bg-orange-600 hover:text-white transition-all flex items-center gap-4",children:[f.jsx(_a,{size:16,className:"rotate-180"})," Cut_Clip"]}),f.jsxs("button",{onClick:()=>{Ua(v),mt(null)},disabled:B.length===0,className:"w-full text-left px-6 py-3.5 text-[11px] font-black uppercase hover:bg-[#ffdc5e] hover:text-black transition-all flex items-center gap-4 disabled:opacity-30 disabled:cursor-not-allowed",children:[f.jsx(_a,{size:16,className:"rotate-90"})," Paste_Clip"]}),f.jsxs("button",{onClick:()=>Da(Ut.clipId),className:"w-full text-left px-6 py-3.5 text-[11px] font-black uppercase hover:bg-[#ffdc5e] hover:text-black transition-all flex items-center gap-4",children:[f.jsx(_a,{size:16})," Clone_Signal"]}),f.jsxs("button",{onClick:()=>{y(T=>T.filter(N=>N.id!==Ut.clipId)),mt(null)},className:"w-full text-left px-6 py-3.5 text-[11px] font-black uppercase hover:bg-red-600 hover:text-white transition-all flex items-center gap-4",children:[f.jsx(Na,{size:16})," Destroy_Clip"]}),f.jsx("div",{className:"border-t border-white/10 my-2 mx-3"}),f.jsxs("button",{onClick:()=>{X(Ut.clipId),oe("params"),mt(null)},className:"w-full text-left px-6 py-3.5 text-[11px] font-black uppercase hover:bg-blue-600 hover:text-white transition-all flex items-center gap-4",children:[f.jsx($2,{size:16})," Parameters"]}),f.jsxs("button",{onClick:()=>{g.find(N=>N.id===Ut.clipId)&&y(N=>N.map(M=>M.id===Ut.clipId?{...M,timeStretch:M.timeStretch===1?.5:M.timeStretch===.5?2:1}:M)),mt(null)},className:"w-full text-left px-6 py-3.5 text-[11px] font-black uppercase hover:bg-purple-600 hover:text-white transition-all flex items-center gap-4",children:[f.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M12 2v20M2 12h20"})}),"Time Stretch"]}),f.jsx("div",{className:"border-t border-white/10 my-2 mx-3"}),f.jsxs("button",{onClick:()=>{const T=g.find(N=>N.id===Ut.clipId);if(T&&_>0){const N=Math.max(.1,_-T.startTime);y(M=>M.map(J=>J.id===Ut.clipId?{...J,duration:N}:J))}mt(null)},className:"w-full text-left px-6 py-3.5 text-[11px] font-black uppercase hover:bg-green-600 hover:text-white transition-all flex items-center gap-4",children:[f.jsx(yg,{size:16}),"Clip auf Songlnge"]})]})]})},OC=()=>{const[i,t]=F.useState("home"),[o,l]=F.useState(!1),[r,d]=F.useState(!1),[m,g]=F.useState(""),[y,v]=F.useState({name:"",email:"",message:""}),[x,_]=F.useState(!1),[S,C]=F.useState(!1),D=()=>{t("visuals")},k=U=>{U.preventDefault(),console.log("Newsletter signup:",m),_(!0),setTimeout(()=>{_(!1),g("")},3e3)},R=U=>{U.preventDefault(),console.log("Contact form:",y),C(!0),setTimeout(()=>{C(!1),v({name:"",email:"",message:""})},3e3)};return i==="home"?f.jsxs("div",{className:"min-h-screen bg-[#070707] relative overflow-hidden",children:[f.jsx(bC,{}),f.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-[#070707]/80 backdrop-blur-xl border-b border-white/5",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(ti,{size:28,className:"text-[#ffdc5e]"}),f.jsx("span",{className:"text-white font-black text-lg uppercase tracking-tight",children:"Elastic Pulse"})]}),f.jsx("button",{onClick:D,className:"px-6 py-2.5 bg-[#ffdc5e] text-black rounded-lg font-black uppercase text-xs tracking-wider hover:bg-white transition-all duration-300 hover:scale-105",children:"Launch Studio"})]})}),f.jsx("section",{className:"relative min-h-screen flex flex-col items-center justify-center px-6 py-20 pt-32",children:f.jsxs("div",{className:"flex flex-col items-center text-center z-10 max-w-6xl mx-auto",children:[f.jsxs("div",{className:"relative mb-12",children:[f.jsx(ti,{size:140,className:"text-[#ffdc5e] animate-pulse shadow-[0_0_100px_rgba(255,220,94,0.6)]"}),f.jsx("div",{className:"absolute inset-0 animate-ping opacity-20",children:f.jsx(ti,{size:140,className:"text-[#ffdc5e]"})})]}),f.jsxs("h1",{className:"text-[7rem] md:text-[11rem] font-black tracking-[-0.02em] text-white uppercase mb-6 select-none drop-shadow-[0_40px_80px_rgba(0,0,0,1)] leading-[0.9]",children:["Elastic",f.jsx("br",{}),"Pulse"]}),f.jsx("p",{className:"text-[#ffdc5e] font-black tracking-[0.3em] uppercase text-sm mb-6 opacity-90",children:"Professional Visual Sequencer"}),f.jsx("p",{className:"text-slate-300 text-2xl md:text-3xl mb-4 max-w-3xl font-light leading-relaxed",children:"Create stunning real-time visuals with WebGL shaders, AI-powered generation, video import, and professional-grade automation"}),f.jsx("p",{className:"text-slate-500 text-lg mb-8 max-w-2xl",children:"The next-generation VJ software running entirely in your browser. No installation. No limits."}),f.jsxs("div",{className:"flex flex-wrap justify-center gap-8 mb-16",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl font-black text-[#ffdc5e] mb-2",children:"24+"}),f.jsx("div",{className:"text-slate-400 text-sm uppercase tracking-wider",children:"Shaders"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl font-black text-[#ffdc5e] mb-2",children:"60+"}),f.jsx("div",{className:"text-slate-400 text-sm uppercase tracking-wider",children:"Master Effects"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl font-black text-[#ffdc5e] mb-2",children:"100%"}),f.jsx("div",{className:"text-slate-400 text-sm uppercase tracking-wider",children:"Browser-Based"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl font-black text-[#ffdc5e] mb-2",children:""}),f.jsx("div",{className:"text-slate-400 text-sm uppercase tracking-wider",children:"Possibilities"})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[f.jsxs("button",{onClick:D,className:"group px-12 py-6 bg-[#ffdc5e] text-black rounded-xl font-black uppercase tracking-[0.3em] text-sm hover:bg-white shadow-[0_40px_100px_rgba(255,220,94,0.6)] transition-all duration-300 flex items-center gap-4 active:scale-95 hover:scale-105",children:["Start Creating",f.jsx(_c,{size:20,className:"group-hover:translate-x-2 transition-transform duration-300"})]}),f.jsxs("div",{className:"flex items-center gap-6 text-slate-400 text-sm",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(K2,{size:16,className:"text-[#ffdc5e]"}),f.jsx("span",{children:"No Installation"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(d2,{size:16,className:"text-[#ffdc5e]"}),f.jsx("span",{children:"GPU Accelerated"})]})]})]})]})}),f.jsx("section",{className:"relative py-32 px-6 z-10 border-y border-white/5 overflow-hidden",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-5xl md:text-6xl font-black text-white uppercase mb-4 tracking-tighter",children:"See It In Action"}),f.jsx("p",{className:"text-slate-400 text-xl max-w-2xl mx-auto",children:"Professional interface designed for creative professionals"})]}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#ffdc5e]/20 via-transparent to-[#ffdc5e]/20 blur-3xl opacity-50 group-hover:opacity-75 transition-opacity duration-500"}),f.jsx("div",{className:"relative bg-[#0a0a0a] border border-white/10 rounded-3xl p-2 shadow-2xl overflow-hidden",children:f.jsx("div",{className:"bg-[#1a1a1a] rounded-2xl overflow-hidden",children:f.jsx("div",{className:"bg-gradient-to-br from-[#1a1a1a] to-[#0f0f0f] p-6",children:f.jsxs("div",{className:"bg-[#070707] rounded-xl border border-white/5 overflow-hidden relative group/screenshot shadow-2xl",children:[f.jsx("img",{src:"./app-screenshot.png",alt:"Elastic Pulse Studio Interface",className:"w-full h-auto object-contain"}),f.jsx("div",{className:"absolute inset-0 opacity-0 group-hover/screenshot:opacity-100 transition-opacity duration-500 bg-gradient-to-br from-[#ffdc5e]/5 to-transparent pointer-events-none"})]})})})}),f.jsx("div",{className:"absolute -bottom-4 left-1/2 -translate-x-1/2 w-3/4 h-24 bg-[#ffdc5e]/10 blur-2xl opacity-50"})]}),f.jsx("div",{className:"text-center mt-12",children:f.jsxs("button",{onClick:D,className:"group inline-flex items-center gap-3 px-8 py-4 bg-[#ffdc5e]/10 border border-[#ffdc5e]/30 text-[#ffdc5e] rounded-xl font-black uppercase text-sm tracking-wider hover:bg-[#ffdc5e]/20 hover:border-[#ffdc5e]/50 transition-all duration-300 hover:scale-105",children:[f.jsx(xg,{size:20}),"Try It Live",f.jsx(_c,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})})]})}),f.jsx("section",{className:"relative py-20 px-6 z-10 border-b border-white/5",children:f.jsx("div",{className:"max-w-7xl mx-auto",children:f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-5xl font-black text-[#ffdc5e] mb-2",children:"24+"}),f.jsx("p",{className:"text-slate-400 text-sm uppercase tracking-wider",children:"Shader Library"})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-5xl font-black text-[#ffdc5e] mb-2",children:"10"}),f.jsx("p",{className:"text-slate-400 text-sm uppercase tracking-wider",children:"Audio Bands"})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-5xl font-black text-[#ffdc5e] mb-2",children:"8"}),f.jsx("p",{className:"text-slate-400 text-sm uppercase tracking-wider",children:"Timeline Tracks"})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-5xl font-black text-[#ffdc5e] mb-2",children:"60+"}),f.jsx("p",{className:"text-slate-400 text-sm uppercase tracking-wider",children:"Master Effects"})]})]})})}),f.jsx("section",{className:"relative py-32 px-6 z-10",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-20",children:[f.jsx("h2",{className:"text-6xl md:text-7xl font-black text-white uppercase mb-6 tracking-tighter",children:"Powerful Features"}),f.jsx("p",{className:"text-slate-400 text-xl max-w-2xl mx-auto",children:"Everything you need to create professional real-time visuals"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"group bg-gradient-to-br from-[#1a1a1a] to-[#0f0f0f] border border-white/10 rounded-2xl p-8 hover:border-[#ffdc5e]/40 transition-all duration-300 hover:scale-[1.02] hover:shadow-[0_0_40px_rgba(255,220,94,0.2)]",children:[f.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-[#ffdc5e]/20 to-[#ffdc5e]/5 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:f.jsx(m0,{size:40,className:"text-[#ffdc5e]"})}),f.jsx("h3",{className:"text-2xl font-black text-white uppercase mb-4",children:"Professional Shader Editor"}),f.jsx("p",{className:"text-slate-400 leading-relaxed mb-4",children:"Monaco Editor with full GLSL syntax highlighting, real-time compilation, and intelligent error detection. Write, test, and iterate instantly."}),f.jsxs("ul",{className:"text-slate-500 text-sm space-y-2",children:[f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(At,{size:12,className:"text-[#ffdc5e]"})," Auto-completion"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(At,{size:12,className:"text-[#ffdc5e]"})," Live preview"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(At,{size:12,className:"text-[#ffdc5e]"})," Error diagnostics"]})]})]}),f.jsxs("div",{className:"group bg-gradient-to-br from-[#1a1a1a] to-[#0f0f0f] border border-white/10 rounded-2xl p-8 hover:border-[#ffdc5e]/40 transition-all duration-300 hover:scale-[1.02] hover:shadow-[0_0_40px_rgba(255,220,94,0.2)]",children:[f.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-[#ffdc5e]/20 to-[#ffdc5e]/5 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:f.jsx(Pc,{size:40,className:"text-[#ffdc5e]"})}),f.jsx("h3",{className:"text-2xl font-black text-white uppercase mb-4",children:"Advanced Audio Analysis"}),f.jsx("p",{className:"text-slate-400 leading-relaxed mb-4",children:"10-band spectral analysis with kick/snare detection. Tie any parameter to frequency bands for dynamic, music-synced visuals."}),f.jsxs("ul",{className:"text-slate-500 text-sm space-y-2",children:[f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(At,{size:12,className:"text-[#ffdc5e]"})," Sub, Bass, Mid, Treble"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(At,{size:12,className:"text-[#ffdc5e]"})," Kick & Snare detection"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(At,{size:12,className:"text-[#ffdc5e]"})," Real-time FFT"]})]})]}),f.jsxs("div",{className:"group bg-gradient-to-br from-[#1a1a1a] to-[#0f0f0f] border border-white/10 rounded-2xl p-8 hover:border-[#ffdc5e]/40 transition-all duration-300 hover:scale-[1.02] hover:shadow-[0_0_40px_rgba(255,220,94,0.2)]",children:[f.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-[#ffdc5e]/20 to-[#ffdc5e]/5 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:f.jsx(tC,{size:40,className:"text-[#ffdc5e]"})}),f.jsx("h3",{className:"text-2xl font-black text-white uppercase mb-4",children:"Visual Automation"}),f.jsx("p",{className:"text-slate-400 leading-relaxed mb-4",children:"Keyframe-based automation with Bezier curves, easing functions, and visual timeline editing. Precise control over every parameter."}),f.jsxs("ul",{className:"text-slate-500 text-sm space-y-2",children:[f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(At,{size:12,className:"text-[#ffdc5e]"})," Multiple curve types"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(At,{size:12,className:"text-[#ffdc5e]"})," Copy & paste automation"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(At,{size:12,className:"text-[#ffdc5e]"})," Visual lanes"]})]})]}),f.jsxs("div",{className:"group bg-gradient-to-br from-[#1a1a1a] to-[#0f0f0f] border border-white/10 rounded-2xl p-8 hover:border-[#ffdc5e]/40 transition-all duration-300 hover:scale-[1.02] hover:shadow-[0_0_40px_rgba(255,220,94,0.2)]",children:[f.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-[#ffdc5e]/20 to-[#ffdc5e]/5 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:f.jsx(_g,{size:40,className:"text-[#ffdc5e]"})}),f.jsx("h3",{className:"text-2xl font-black text-white uppercase mb-4",children:"AI-Powered Generation"}),f.jsx("p",{className:"text-slate-400 leading-relaxed mb-4",children:"Neural shader generation powered by Google Gemini. Describe your vision in natural language and get production-ready GLSL code."}),f.jsxs("ul",{className:"text-slate-500 text-sm space-y-2",children:[f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(At,{size:12,className:"text-[#ffdc5e]"})," Natural language input"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(At,{size:12,className:"text-[#ffdc5e]"})," Instant generation"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(At,{size:12,className:"text-[#ffdc5e]"})," Ready to use"]})]})]}),f.jsxs("div",{className:"group bg-gradient-to-br from-[#1a1a1a] to-[#0f0f0f] border border-white/10 rounded-2xl p-8 hover:border-[#ffdc5e]/40 transition-all duration-300 hover:scale-[1.02] hover:shadow-[0_0_40px_rgba(255,220,94,0.2)]",children:[f.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-[#ffdc5e]/20 to-[#ffdc5e]/5 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:f.jsx(Si,{size:40,className:"text-[#ffdc5e]"})}),f.jsx("h3",{className:"text-2xl font-black text-white uppercase mb-4",children:"Video Import & Mixing"}),f.jsx("p",{className:"text-slate-400 leading-relaxed mb-4",children:"Import video files directly into your timeline. Apply shaders to videos for stunning visual effects. Professional video + shader compositing."}),f.jsxs("ul",{className:"text-slate-500 text-sm space-y-2",children:[f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(At,{size:12,className:"text-[#ffdc5e]"})," Video import (MP4, MOV, AVI)"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(At,{size:12,className:"text-[#ffdc5e]"})," Shader on video"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(At,{size:12,className:"text-[#ffdc5e]"})," Video thumbnails"]})]})]}),f.jsxs("div",{className:"group bg-gradient-to-br from-[#1a1a1a] to-[#0f0f0f] border border-white/10 rounded-2xl p-8 hover:border-[#ffdc5e]/40 transition-all duration-300 hover:scale-[1.02] hover:shadow-[0_0_40px_rgba(255,220,94,0.2)]",children:[f.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-[#ffdc5e]/20 to-[#ffdc5e]/5 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:f.jsx(Ml,{size:40,className:"text-[#ffdc5e]"})}),f.jsx("h3",{className:"text-2xl font-black text-white uppercase mb-4",children:"Professional Export"}),f.jsx("p",{className:"text-slate-400 leading-relaxed mb-4",children:"Export high-quality MP4 videos or WebM streams. Real-time rendering with audio synchronization at any resolution."}),f.jsxs("ul",{className:"text-slate-500 text-sm space-y-2",children:[f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(At,{size:12,className:"text-[#ffdc5e]"})," MP4 & WebM formats"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(At,{size:12,className:"text-[#ffdc5e]"})," Custom resolution"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(At,{size:12,className:"text-[#ffdc5e]"})," Real-time with audio"]})]})]}),f.jsxs("div",{className:"group bg-gradient-to-br from-[#1a1a1a] to-[#0f0f0f] border border-white/10 rounded-2xl p-8 hover:border-[#ffdc5e]/40 transition-all duration-300 hover:scale-[1.02] hover:shadow-[0_0_40px_rgba(255,220,94,0.2)]",children:[f.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-[#ffdc5e]/20 to-[#ffdc5e]/5 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:f.jsx(h0,{size:40,className:"text-[#ffdc5e]"})}),f.jsx("h3",{className:"text-2xl font-black text-white uppercase mb-4",children:"MIDI Integration"}),f.jsx("p",{className:"text-slate-400 leading-relaxed mb-4",children:"Full MIDI support with learn mode. Map hardware controllers to any parameter for live performance and real-time manipulation."}),f.jsxs("ul",{className:"text-slate-500 text-sm space-y-2",children:[f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(At,{size:12,className:"text-[#ffdc5e]"})," Learn mode"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(At,{size:12,className:"text-[#ffdc5e]"})," Multiple devices"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(At,{size:12,className:"text-[#ffdc5e]"})," Real-time control"]})]})]})]})]})}),f.jsx("section",{className:"relative py-32 px-6 z-10 border-t border-white/5 bg-gradient-to-b from-transparent to-[#0a0a0a]/50",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-20",children:[f.jsx("h2",{className:"text-6xl md:text-7xl font-black text-white uppercase mb-6 tracking-tighter",children:"Advanced Capabilities"}),f.jsx("p",{className:"text-slate-400 text-xl max-w-2xl mx-auto",children:"Professional tools for demanding workflows"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-[#1a1a1a]/60 border border-white/5 rounded-2xl p-8",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[f.jsx(vg,{size:32,className:"text-[#ffdc5e]"}),f.jsx("h3",{className:"text-xl font-black text-white uppercase",children:"LFO System"})]}),f.jsx("p",{className:"text-slate-400",children:"Multiple LFOs per clip with Sine, Triangle, Square, and Noise waveforms. Modulate any parameter with configurable frequency and amplitude."})]}),f.jsxs("div",{className:"bg-[#1a1a1a]/60 border border-white/5 rounded-2xl p-8",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[f.jsx(mg,{size:32,className:"text-[#ffdc5e]"}),f.jsx("h3",{className:"text-xl font-black text-white uppercase",children:"9 Blend Modes"})]}),f.jsx("p",{className:"text-slate-400",children:"Normal, Add, Multiply, Screen, Overlay, Softlight, Hardlight, Dodge, and Burn. Professional compositing directly in the timeline."})]}),f.jsxs("div",{className:"bg-[#1a1a1a]/60 border border-white/5 rounded-2xl p-8",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[f.jsx(Aa,{size:32,className:"text-[#ffdc5e]"}),f.jsx("h3",{className:"text-xl font-black text-white uppercase",children:"Master Effects"})]}),f.jsx("p",{className:"text-slate-400",children:"60+ master effects including Bloom, Feedback, Strobe, Chroma Burst, Edge Detection, Pixelate, and more. Post-process your entire composition."})]}),f.jsxs("div",{className:"bg-[#1a1a1a]/60 border border-white/5 rounded-2xl p-8",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[f.jsx(aC,{size:32,className:"text-[#ffdc5e]"}),f.jsx("h3",{className:"text-xl font-black text-white uppercase",children:"Time Stretching"})]}),f.jsx("p",{className:"text-slate-400",children:"Adjust clip playback speed without pitch changes. Perfect for tempo matching and creative time manipulation."})]}),f.jsxs("div",{className:"bg-[#1a1a1a]/60 border border-white/5 rounded-2xl p-8",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[f.jsx(E2,{size:32,className:"text-[#ffdc5e]"}),f.jsx("h3",{className:"text-xl font-black text-white uppercase",children:"Beat Grid & Snap"})]}),f.jsx("p",{className:"text-slate-400",children:"Musical quantization with 1/4, 1/8, 1/16, and 1/32 beat grid. Automatic BPM detection and beat-synced clip placement."})]}),f.jsxs("div",{className:"bg-[#1a1a1a]/60 border border-white/5 rounded-2xl p-8",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[f.jsx(iC,{size:32,className:"text-[#ffdc5e]"}),f.jsx("h3",{className:"text-xl font-black text-white uppercase",children:"Text Overlays"})]}),f.jsx("p",{className:"text-slate-400",children:"Multiple text overlay modes: Terminal, Matrix, Blueprint, Radar, Glitch, Hacker. Perfect for live shows and presentations."})]}),f.jsxs("div",{className:"bg-[#1a1a1a]/60 border border-white/5 rounded-2xl p-8",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[f.jsx(Si,{size:32,className:"text-[#ffdc5e]"}),f.jsx("h3",{className:"text-xl font-black text-white uppercase",children:"Video Import"})]}),f.jsx("p",{className:"text-slate-400",children:"Import video files directly into your timeline. Apply shaders to videos for creative effects. Professional video + shader compositing."})]}),f.jsxs("div",{className:"bg-[#1a1a1a]/60 border border-white/5 rounded-2xl p-8",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[f.jsx(Aa,{size:32,className:"text-[#ffdc5e]"}),f.jsx("h3",{className:"text-xl font-black text-white uppercase",children:"Ken Burns Parallax"})]}),f.jsx("p",{className:"text-slate-400",children:"Animated backgrounds with parallax effects. Multiple Ken Burns presets for dynamic depth and movement."})]})]})]})}),f.jsx("section",{className:"relative py-32 px-6 z-10 border-t border-white/5",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-20",children:[f.jsx("h2",{className:"text-5xl font-black text-white uppercase mb-6 tracking-tighter",children:"Built With Modern Technology"}),f.jsx("p",{className:"text-slate-400 text-lg",children:"Cutting-edge web technologies for maximum performance"})]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[f.jsxs("div",{className:"bg-[#1a1a1a]/40 border border-white/5 rounded-2xl p-8 text-center hover:border-[#ffdc5e]/30 transition-all duration-300",children:[f.jsx("div",{className:"text-5xl font-black text-[#ffdc5e] mb-3",children:"WebGL"}),f.jsx("p",{className:"text-slate-500 text-sm uppercase tracking-wider",children:"GPU Acceleration"}),f.jsx("p",{className:"text-slate-600 text-xs mt-2",children:"Hardware-accelerated rendering"})]}),f.jsxs("div",{className:"bg-[#1a1a1a]/40 border border-white/5 rounded-2xl p-8 text-center hover:border-[#ffdc5e]/30 transition-all duration-300",children:[f.jsx("div",{className:"text-5xl font-black text-[#ffdc5e] mb-3",children:"React"}),f.jsx("p",{className:"text-slate-500 text-sm uppercase tracking-wider",children:"Modern UI"}),f.jsx("p",{className:"text-slate-600 text-xs mt-2",children:"Component-based architecture"})]}),f.jsxs("div",{className:"bg-[#1a1a1a]/40 border border-white/5 rounded-2xl p-8 text-center hover:border-[#ffdc5e]/30 transition-all duration-300",children:[f.jsx("div",{className:"text-5xl font-black text-[#ffdc5e] mb-3",children:"TS"}),f.jsx("p",{className:"text-slate-500 text-sm uppercase tracking-wider",children:"Type Safe"}),f.jsx("p",{className:"text-slate-600 text-xs mt-2",children:"Full type coverage"})]}),f.jsxs("div",{className:"bg-[#1a1a1a]/40 border border-white/5 rounded-2xl p-8 text-center hover:border-[#ffdc5e]/30 transition-all duration-300",children:[f.jsx("div",{className:"text-5xl font-black text-[#ffdc5e] mb-3",children:"Vite"}),f.jsx("p",{className:"text-slate-500 text-sm uppercase tracking-wider",children:"Fast Build"}),f.jsx("p",{className:"text-slate-600 text-xs mt-2",children:"Lightning-fast HMR"})]})]})]})}),f.jsx("section",{className:"relative py-32 px-6 z-10 border-t border-white/5",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsx("div",{className:"text-center mb-20",children:f.jsx("h2",{className:"text-6xl md:text-7xl font-black text-white uppercase mb-6 tracking-tighter",children:"Perfect For"})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-24 h-24 bg-[#ffdc5e]/10 rounded-full flex items-center justify-center mx-auto mb-6",children:f.jsx(h0,{size:48,className:"text-[#ffdc5e]"})}),f.jsx("h3",{className:"text-2xl font-black text-white uppercase mb-4",children:"Live Performance"}),f.jsx("p",{className:"text-slate-400",children:"VJ for concerts, festivals, and events. Real-time audio-reactive visuals with MIDI control for dynamic live shows."})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-24 h-24 bg-[#ffdc5e]/10 rounded-full flex items-center justify-center mx-auto mb-6",children:f.jsx(Si,{size:48,className:"text-[#ffdc5e]"})}),f.jsx("h3",{className:"text-2xl font-black text-white uppercase mb-4",children:"Content Creation"}),f.jsx("p",{className:"text-slate-400",children:"Create stunning visual content for social media, music videos, and digital art. Export in any resolution."})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-24 h-24 bg-[#ffdc5e]/10 rounded-full flex items-center justify-center mx-auto mb-6",children:f.jsx(m0,{size:48,className:"text-[#ffdc5e]"})}),f.jsx("h3",{className:"text-2xl font-black text-white uppercase mb-4",children:"Shader Development"}),f.jsx("p",{className:"text-slate-400",children:"Learn and experiment with GLSL shaders. Perfect for developers and artists exploring real-time graphics."})]})]})]})}),f.jsx("section",{className:"relative py-32 px-6 z-10 border-t border-white/5 bg-gradient-to-b from-transparent to-[#0a0a0a]/50",children:f.jsx("div",{className:"max-w-6xl mx-auto",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[f.jsxs("div",{className:"bg-gradient-to-br from-[#1a1a1a] to-[#0f0f0f] border border-white/10 rounded-2xl p-8",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[f.jsx("div",{className:"w-16 h-16 bg-[#ffdc5e]/10 rounded-xl flex items-center justify-center",children:f.jsx(A2,{size:32,className:"text-[#ffdc5e]"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-black text-white uppercase",children:"Newsletter"}),f.jsx("p",{className:"text-slate-400 text-sm",children:"Stay updated with new features"})]})]}),f.jsxs("form",{onSubmit:k,className:"space-y-4",children:[f.jsx("input",{type:"email",value:m,onChange:U=>g(U.target.value),placeholder:"your.email@example.com",required:!0,className:"w-full bg-[#0a0a0a] border border-white/10 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:border-[#ffdc5e]/40 focus:outline-none transition-all duration-300"}),f.jsx("button",{type:"submit",disabled:x,className:"w-full px-6 py-3 bg-[#ffdc5e] text-black rounded-xl font-black uppercase text-sm tracking-wider hover:bg-white transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?f.jsxs(f.Fragment,{children:[f.jsx(ir,{size:16,className:"animate-spin"}),"Subscribed!"]}):f.jsxs(f.Fragment,{children:[f.jsx(Sc,{size:16}),"Subscribe"]})})]}),f.jsx("p",{className:"text-slate-600 text-xs mt-4",children:"We respect your privacy. Unsubscribe anytime."})]}),f.jsxs("div",{className:"bg-gradient-to-br from-[#1a1a1a] to-[#0f0f0f] border border-white/10 rounded-2xl p-8",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[f.jsx("div",{className:"w-16 h-16 bg-[#ffdc5e]/10 rounded-xl flex items-center justify-center",children:f.jsx(Sc,{size:32,className:"text-[#ffdc5e]"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-black text-white uppercase",children:"Contact"}),f.jsx("p",{className:"text-slate-400 text-sm",children:"Get in touch with us"})]})]}),f.jsxs("form",{onSubmit:R,className:"space-y-4",children:[f.jsx("input",{type:"text",value:y.name,onChange:U=>v({...y,name:U.target.value}),placeholder:"Your Name",required:!0,className:"w-full bg-[#0a0a0a] border border-white/10 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:border-[#ffdc5e]/40 focus:outline-none transition-all duration-300"}),f.jsx("input",{type:"email",value:y.email,onChange:U=>v({...y,email:U.target.value}),placeholder:"your.email@example.com",required:!0,className:"w-full bg-[#0a0a0a] border border-white/10 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:border-[#ffdc5e]/40 focus:outline-none transition-all duration-300"}),f.jsx("textarea",{value:y.message,onChange:U=>v({...y,message:U.target.value}),placeholder:"Your Message",required:!0,rows:4,className:"w-full bg-[#0a0a0a] border border-white/10 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:border-[#ffdc5e]/40 focus:outline-none transition-all duration-300 resize-none"}),f.jsx("button",{type:"submit",disabled:S,className:"w-full px-6 py-3 bg-[#ffdc5e] text-black rounded-xl font-black uppercase text-sm tracking-wider hover:bg-white transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:S?f.jsxs(f.Fragment,{children:[f.jsx(ir,{size:16,className:"animate-spin"}),"Sent!"]}):f.jsxs(f.Fragment,{children:[f.jsx(Sc,{size:16}),"Send Message"]})})]})]})]})})}),f.jsx("section",{className:"relative py-40 px-6 z-10 border-t border-white/5 bg-gradient-to-b from-transparent via-[#0a0a0a]/30 to-transparent",children:f.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[f.jsxs("h2",{className:"text-7xl md:text-8xl font-black text-white uppercase mb-8 tracking-tighter leading-none",children:["Start Creating",f.jsx("br",{}),"Today"]}),f.jsx("p",{className:"text-2xl text-slate-300 mb-4 max-w-2xl mx-auto",children:"No installation. No credit card. Just pure creative power."}),f.jsx("p",{className:"text-lg text-slate-500 mb-12",children:"Experience the future of real-time visual creation"}),f.jsxs("button",{onClick:D,className:"group px-16 py-8 bg-[#ffdc5e] text-black rounded-2xl font-black uppercase tracking-[0.3em] text-base hover:bg-white shadow-[0_40px_100px_rgba(255,220,94,0.6)] transition-all duration-300 flex items-center gap-6 active:scale-95 hover:scale-105 mx-auto",children:["Launch Elastic Pulse Studio",f.jsx(_c,{size:24,className:"group-hover:translate-x-3 transition-transform duration-300"})]}),f.jsx("p",{className:"text-slate-600 text-sm mt-8 uppercase tracking-wider",children:"100% Free  Runs in Browser  No Signup Required"})]})}),f.jsx("footer",{className:"relative py-16 px-6 z-10 border-t border-white/5 bg-[#0a0a0a]",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx(ti,{size:24,className:"text-[#ffdc5e]"}),f.jsx("span",{className:"text-white font-black text-sm uppercase tracking-tight",children:"Elastic Pulse Studio"})]}),f.jsx("p",{className:"text-slate-600 text-xs mb-2",children:"Professional WebGL visual sequencer"}),f.jsx("p",{className:"text-slate-700 text-xs",children:"Version 32.11 | Titan Core Engine"})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-white font-black text-xs uppercase tracking-wider mb-4",children:"Legal"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("button",{onClick:()=>l(!0),className:"block text-slate-500 hover:text-[#ffdc5e] text-xs uppercase tracking-wider transition-colors duration-300",children:"Datenschutz"}),f.jsx("button",{onClick:()=>d(!0),className:"block text-slate-500 hover:text-[#ffdc5e] text-xs uppercase tracking-wider transition-colors duration-300",children:"Impressum"})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-white font-black text-xs uppercase tracking-wider mb-4",children:"Info"}),f.jsxs("div",{className:"space-y-2 text-slate-500 text-xs",children:[f.jsx("p",{children:"Built with WebGL, React, TypeScript & Vite"}),f.jsx("p",{children:"Open Source  MIT License"}),f.jsx("p",{className:"text-slate-700",children:" 2024 Elastic Pulse Studio"})]})]})]}),f.jsx("div",{className:"border-t border-white/5 pt-8 text-center",children:f.jsx("p",{className:"text-slate-700 text-xs",children:"All rights reserved. Elastic Pulse Studio is a demonstration project."})})]})}),o&&f.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",onClick:()=>l(!1),children:f.jsxs("div",{className:"bg-[#1a1a1a] border border-white/10 rounded-2xl p-8 max-w-3xl max-h-[80vh] overflow-y-auto",onClick:U=>U.stopPropagation(),children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-3xl font-black text-white uppercase",children:"Datenschutzerklrung"}),f.jsx("button",{onClick:()=>l(!1),className:"text-slate-500 hover:text-white transition-colors",children:f.jsx(ni,{size:24})})]}),f.jsxs("div",{className:"space-y-6 text-slate-300 text-sm leading-relaxed",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"1. Verantwortlicher"}),f.jsx("p",{children:"Verantwortlich im Sinne der Datenschutz-Grundverordnung (DSGVO) ist:"}),f.jsxs("p",{className:"mt-2 font-mono text-xs",children:["Frank Krumsdorf",f.jsx("br",{}),"Hospitalstrae 16",f.jsx("br",{}),"53840 Troisdorf",f.jsx("br",{}),"E-Mail: fraendk@hotmail.com",f.jsx("br",{}),"Telefon: +4915753105470"]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"2. Zweck der Website"}),f.jsx("p",{children:"Diese Website dient der Prsentation eines App- und Webprojekts im Rahmen einer Weiterbildung bzw. Prfungsleistung im Bereich KI-gesttzter Web- und App-Entwicklung. Es handelt sich nicht um ein kommerzielles Angebot."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"3. Hosting"}),f.jsx("p",{children:"Die Website wird ber GitHub Pages bereitgestellt. Beim Aufruf der Website werden durch den Hostinganbieter technisch bedingt sogenannte Server-Logfiles erhoben. Dazu knnen gehren:"}),f.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1 ml-4",children:[f.jsx("li",{children:"IP-Adresse"}),f.jsx("li",{children:"Datum und Uhrzeit des Zugriffs"}),f.jsx("li",{children:"aufgerufene Seite"}),f.jsx("li",{children:"Browsertyp und Betriebssystem"})]}),f.jsx("p",{className:"mt-2",children:"Diese Daten werden ausschlielich zur Sicherstellung des technischen Betriebs verarbeitet und nicht von mir ausgewertet."}),f.jsx("p",{className:"mt-2 text-xs italic",children:"Rechtsgrundlage fr die Verarbeitung ist Art. 6 Abs. 1 lit. f DSGVO (berechtigtes Interesse an einem sicheren und stabilen Betrieb der Website)."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"4. Kontaktaufnahme"}),f.jsx("p",{children:"Eine Kontaktaufnahme ist ber einen bereitgestellten E-Mail-Link mglich."}),f.jsx("p",{className:"mt-2",children:"Bei der Kontaktaufnahme per E-Mail werden die von Ihnen bermittelten personenbezogenen Daten (z. B. E-Mail-Adresse, Inhalt der Nachricht) ausschlielich zum Zweck der Bearbeitung Ihrer Anfrage verwendet."}),f.jsx("p",{className:"mt-2",children:"Die Daten werden nicht an Dritte weitergegeben und nach Abschluss der Kommunikation gelscht, sofern keine gesetzlichen Aufbewahrungspflichten bestehen."}),f.jsx("p",{className:"mt-2 text-xs italic",children:"Rechtsgrundlage fr die Verarbeitung ist Art. 6 Abs. 1 lit. b DSGVO (vorvertragliche Kommunikation) bzw. Art. 6 Abs. 1 lit. f DSGVO (berechtigtes Interesse an der Beantwortung von Anfragen)."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"5. Newsletter"}),f.jsx("p",{children:"Auf der Website besteht die Mglichkeit, sich fr einen Newsletter einzutragen. Der Newsletter ist derzeit konzeptionell vorbereitet, jedoch noch nicht aktiv. Eine tatschliche Speicherung oder Verarbeitung personenbezogener Daten fr den Newsletter-Versand findet aktuell nicht statt."}),f.jsx("p",{className:"mt-2",children:"Sollte der Newsletter zu einem spteren Zeitpunkt aktiviert werden, erfolgt dies ausschlielich auf Grundlage einer ausdrcklichen Einwilligung gem Art. 6 Abs. 1 lit. a DSGVO. Eine Abmeldung wre jederzeit mglich."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"6. Cookies und Tracking"}),f.jsx("p",{children:"Diese Website verwendet keine Cookies zu Analyse- oder Marketingzwecken. Es werden keine Tracking-Tools, Analyse-Dienste oder personalisierte Werbemanahmen eingesetzt."}),f.jsx("p",{className:"mt-2",children:"Technisch notwendige Cookies knnen in Einzelfllen durch den Hostinganbieter verwendet werden, sind jedoch fr den Betrieb der Website erforderlich und nicht zustimmungspflichtig."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"7. Weitergabe von Daten"}),f.jsx("p",{children:"Eine Weitergabe personenbezogener Daten an Dritte findet nicht statt."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"8. Rechte der betroffenen Personen"}),f.jsx("p",{children:"Sie haben im Rahmen der geltenden gesetzlichen Bestimmungen jederzeit das Recht auf:"}),f.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1 ml-4",children:[f.jsx("li",{children:"Auskunft ber Ihre gespeicherten personenbezogenen Daten"}),f.jsx("li",{children:"Berichtigung unrichtiger Daten"}),f.jsx("li",{children:"Lschung Ihrer Daten"}),f.jsx("li",{children:"Einschrnkung der Verarbeitung"}),f.jsx("li",{children:"Widerspruch gegen die Verarbeitung"}),f.jsx("li",{children:"Datenbertragbarkeit"})]}),f.jsx("p",{className:"mt-2",children:"Zur Wahrnehmung Ihrer Rechte wenden Sie sich bitte an die oben genannte E-Mail-Adresse."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"9. Aktualitt dieser Datenschutzerklrung"}),f.jsxs("p",{children:["Diese Datenschutzerklrung hat den Stand: ",new Date().toLocaleDateString("de-DE",{year:"numeric",month:"long",day:"numeric"})]}),f.jsx("p",{className:"mt-2",children:"Ich behalte mir vor, diese Datenschutzerklrung bei Bedarf anzupassen, um sie an rechtliche oder technische nderungen anzupassen."})]})]})]})}),r&&f.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",onClick:()=>d(!1),children:f.jsxs("div",{className:"bg-[#1a1a1a] border border-white/10 rounded-2xl p-8 max-w-3xl max-h-[80vh] overflow-y-auto",onClick:U=>U.stopPropagation(),children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-3xl font-black text-white uppercase",children:"Impressum"}),f.jsx("button",{onClick:()=>d(!1),className:"text-slate-500 hover:text-white transition-colors",children:f.jsx(ni,{size:24})})]}),f.jsxs("div",{className:"space-y-6 text-slate-300 text-sm leading-relaxed",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"Angaben gem  5 Telemediengesetz (TMG)"}),f.jsxs("p",{className:"font-mono text-xs mt-2",children:["Frank Krumsdorf",f.jsx("br",{}),"Hospitalstrae 16",f.jsx("br",{}),"53840 Troisdorf",f.jsx("br",{}),"Deutschland"]}),f.jsx("p",{className:"mt-2",children:"E-Mail: fraendk@hotmail.com"}),f.jsx("p",{className:"mt-2",children:"Telefon: +4915753105470"})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"Projektbezogener Hinweis"}),f.jsx("p",{children:"Dieses Projekt wurde im Rahmen einer Weiterbildung bzw. Prfungsleistung im Bereich KI-gesttzte Web- und App-Entwicklung erstellt. Es handelt sich nicht um ein kommerzielles Angebot."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"Verantwortlich fr den Inhalt nach  18 Abs. 2 MStV"}),f.jsxs("p",{className:"font-mono text-xs mt-2",children:["Frank Krumsdorf",f.jsx("br",{}),"Hospitalstrae 16",f.jsx("br",{}),"53840 Troisdorf"]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"Haftung fr Inhalte"}),f.jsx("p",{children:"Als Diensteanbieter bin ich gem  7 Abs. 1 TMG fr eigene Inhalte auf diesen Seiten nach den allgemeinen Gesetzen verantwortlich. Nach  8 bis 10 TMG bin ich jedoch nicht verpflichtet, bermittelte oder gespeicherte fremde Informationen zu berwachen oder nach Umstnden zu forschen, die auf eine rechtswidrige Ttigkeit hinweisen."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"Haftung fr Links"}),f.jsx("p",{children:"Diese Website enthlt ggf. Links zu externen Websites Dritter, auf deren Inhalte ich keinen Einfluss habe. Fr diese fremden Inhalte kann daher keine Gewhr bernommen werden. Fr die Inhalte der verlinkten Seiten ist stets der jeweilige Anbieter oder Betreiber der Seiten verantwortlich."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black uppercase mb-2 text-base",children:"Urheberrecht"}),f.jsx("p",{children:"Die durch den Seitenbetreiber erstellten Inhalte und Werke auf diesen Seiten unterliegen dem deutschen Urheberrecht. Die Vervielfltigung, Bearbeitung, Verbreitung und jede Art der Verwertung auerhalb der Grenzen des Urheberrechtes bedrfen der schriftlichen Zustimmung des jeweiligen Autors."})]})]})]})})]}):f.jsx(FC,{onExit:()=>t("home")})},jC=zy.createRoot(document.getElementById("root"));jC.render(f.jsx(vC,{children:f.jsx(OC,{})}));export{My as W,F as r};
